const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ModelPicker-JKtmtRjt.js","assets/ModelPicker-Cn_xB6on.css","assets/WebSearchMenu-BL7jSOF3.js","assets/WebSearchMenu-CawX--ca.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const a of u)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(u){const a={};return u.integrity&&(a.integrity=u.integrity),u.referrerPolicy&&(a.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?a.credentials="include":u.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(u){if(u.ep)return;u.ep=!0;const a=n(u);fetch(u.href,a)}})();const Sl=!1;var sa=Array.isArray,Ud=Array.prototype.indexOf,ko=Array.from,Ua=Object.defineProperty,ur=Object.getOwnPropertyDescriptor,Al=Object.getOwnPropertyDescriptors,Bd=Object.prototype,jd=Array.prototype,Eo=Object.getPrototypeOf,si=Object.isExtensible;function Fu(e){return typeof e=="function"}const xr=()=>{};function qd(e){return e()}function Xu(e){for(var t=0;t<e.length;t++)e[t]()}function Hd(){var e,t,n=new Promise((r,u)=>{e=r,t=u});return{promise:n,resolve:e,reject:t}}function Wd(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const bn=2,wo=4,ts=8,wu=16,ir=32,Hr=64,So=128,kn=256,Ba=512,Bt=1024,En=2048,lr=4096,On=8192,Wr=16384,Ao=32768,Su=65536,oi=1<<17,Vd=1<<18,Au=1<<19,Cl=1<<20,to=1<<21,Co=1<<22,Or=1<<23,Wn=Symbol("$state"),Dl=Symbol("legacy props"),Gd=Symbol(""),Do=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ns(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Kd(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Zd(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yd(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Jd(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Xd(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Qd(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function ef(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function tf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function nf(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function rf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function uf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const rs=1,us=2,Tl=4,af=8,sf=16,of=1,lf=2,Fl=4,cf=8,df=16,ff=1,pf=2,Nt=Symbol(),hf="http://www.w3.org/1999/xhtml",mf="http://www.w3.org/2000/svg",vf="@attach";function gf(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function bf(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let _f=!1;function Ml(e){return e===this.v}function To(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Pl(e){return!To(e,this.v)}let Cu=!1,yf=!1;function xf(){Cu=!0}let lt=null;function bu(e){lt=e}function Qe(e,t=!1,n){lt={p:lt,c:null,e:null,s:e,x:null,l:Cu&&!t?{s:null,u:null,$:[]}:null}}function et(e){var t=lt,n=t.e;if(n!==null){t.e=null;for(var r of n)Kl(r)}return e!==void 0&&(t.x=e),lt=t.p,e??{}}function oa(){return!Cu||lt!==null&&lt.l===null}let br=[],ja=[];function Il(){var e=br;br=[],Xu(e)}function kf(){var e=ja;ja=[],Xu(e)}function Ef(){return br.length>0||ja.length>0}function Vr(e){if(br.length===0&&!Vu){var t=br;queueMicrotask(()=>{t===br&&Il()})}br.push(e)}function wf(){br.length>0&&Il(),ja.length>0&&kf()}const Sf=new WeakMap;function Nl(e){var t=He;if(t===null)return Ze.f|=Or,e;if((t.f&Ao)===0){if((t.f&So)===0)throw!t.parent&&e instanceof Error&&Ol(e),e;t.b.error(e)}else _u(e,t)}function _u(e,t){for(;t!==null;){if((t.f&So)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Ol(e),e}function Ol(e){const t=Sf.get(e);t&&(Ua(e,"message",{value:t.message}),Ua(e,"stack",{value:t.stack}))}const ys=new Set;let ft=null,Fa=null,no=new Set,Ur=[],as=null,ro=!1,Vu=!1;class ar{current=new Map;#a=new Map;#t=new Set;#f=0;#s=null;#c=!1;#u=[];#n=[];#e=[];#r=[];#o=[];#d=[];#l=[];skipped_effects=new Set;process(t){Ur=[],Fa=null;for(const u of t)this.#p(u);if(this.#u.length===0&&this.#f===0){this.#h();var n=this.#e,r=this.#r;this.#e=[],this.#r=[],this.#o=[],Fa=ft,ft=null,ii(n),ii(r),ft===null?ft=this:ys.delete(this),this.#s?.resolve()}else this.#i(this.#e),this.#i(this.#r),this.#i(this.#o);for(const u of this.#u)Rr(u);for(const u of this.#n)Rr(u);this.#u=[],this.#n=[]}#p(t){t.f^=Bt;for(var n=t.first;n!==null;){var r=n.f,u=(r&(ir|Hr))!==0,a=u&&(r&Bt)!==0,s=a||(r&On)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){if(u)n.f^=Bt;else if((r&wo)!==0)this.#r.push(n);else if((r&Bt)===0)if((r&Co)!==0){var i=n.b?.is_pending()?this.#n:this.#u;i.push(n)}else ca(n)&&((n.f&wu)!==0&&this.#o.push(n),Rr(n));var l=n.first;if(l!==null){n=l;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#i(t){for(const n of t)((n.f&En)!==0?this.#d:this.#l).push(n),on(n,Bt);t.length=0}capture(t,n){this.#a.has(t)||this.#a.set(t,n),this.current.set(t,t.v)}activate(){ft=this}deactivate(){ft=null,Fa=null;for(const t of no)if(no.delete(t),t(),ft!==null)break}neuter(){this.#c=!0}flush(){Ur.length>0?Ll():this.#h(),ft===this&&(this.#f===0&&ys.delete(this),this.deactivate())}#h(){if(!this.#c)for(const t of this.#t)t();this.#t.clear()}increment(){this.#f+=1}decrement(){if(this.#f-=1,this.#f===0){for(const t of this.#d)on(t,En),yu(t);for(const t of this.#l)on(t,lr),yu(t);this.#e=[],this.#r=[],this.flush()}else this.deactivate()}add_callback(t){this.#t.add(t)}settled(){return(this.#s??=Hd()).promise}static ensure(){if(ft===null){const t=ft=new ar;ys.add(ft),Vu||ar.enqueue(()=>{ft===t&&t.flush()})}return ft}static enqueue(t){Vr(t)}}function Af(e){var t=Vu;Vu=!0;try{for(var n;;){if(wf(),Ur.length===0&&!Ef()&&(ft?.flush(),Ur.length===0))return as=null,n;Ll()}}finally{Vu=t}}function Ll(){var e=vu;ro=!0;try{var t=0;for(fi(!0);Ur.length>0;){var n=ar.ensure();if(t++>1e3){var r,u;Cf()}n.process(Ur),kr.clear()}}finally{ro=!1,fi(e),as=null}}function Cf(){try{Xd()}catch(e){_u(e,as)}}let Pr=null;function ii(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Wr|On))===0&&ca(r)&&(Pr=[],Rr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Xl(r):r.fn=null),Pr?.length>0)){kr.clear();for(const u of Pr)Rr(u);Pr=[]}}Pr=null}}function yu(e){for(var t=as=e;t.parent!==null;){t=t.parent;var n=t.f;if(ro&&t===He&&(n&wu)!==0)return;if((n&(Hr|ir))!==0){if((n&Bt)===0)return;t.f^=Bt}}Ur.push(t)}function Df(e){let t=0,n=Sr(0),r;return()=>{qf()&&(o(n),Du(()=>(t===0&&(r=m(()=>e(()=>Gu(n)))),t+=1,()=>{Vr(()=>{t-=1,t===0&&(r?.(),r=void 0,Gu(n))})})))}}var Tf=Su|Au|So;function Ff(e,t,n){new Mf(e,t,n)}class Mf{parent;#a=!1;#t;#f=null;#s;#c;#u;#n=null;#e=null;#r=null;#o=null;#d=0;#l=0;#p=!1;#i=null;#h=()=>{this.#i&&Br(this.#i,this.#d)};#b=Df(()=>(this.#i=Sr(this.#d),()=>{this.#i=null}));constructor(t,n,r){this.#t=t,this.#s=n,this.#c=r,this.parent=He.b,this.#a=!!this.#s.pending,this.#u=Gr(()=>{He.b=this;{try{this.#n=an(()=>r(this.#t))}catch(u){this.error(u)}this.#l>0?this.#v():this.#a=!1}},Tf)}#_(){try{this.#n=an(()=>this.#c(this.#t))}catch(t){this.error(t)}this.#a=!1}#y(){const t=this.#s.pending;t&&(this.#e=an(()=>t(this.#t)),ar.enqueue(()=>{this.#n=this.#m(()=>(ar.ensure(),an(()=>this.#c(this.#t)))),this.#l>0?this.#v():(Er(this.#e,()=>{this.#e=null}),this.#a=!1)}))}is_pending(){return this.#a||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#m(t){var n=He,r=Ze,u=lt;wn(this.#u),hn(this.#u),bu(this.#u.ctx);try{return t()}catch(a){return Nl(a),null}finally{wn(n),hn(r),bu(u)}}#v(){const t=this.#s.pending;this.#n!==null&&(this.#o=document.createDocumentFragment(),Pf(this.#n,this.#o)),this.#e===null&&(this.#e=an(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#l+=t,this.#l===0&&(this.#a=!1,this.#e&&Er(this.#e,()=>{this.#e=null}),this.#o&&(this.#t.before(this.#o),this.#o=null))}update_pending_count(t){this.#g(t),this.#d+=t,no.add(this.#h)}get_effect_pending(){return this.#b(),o(this.#i)}error(t){var n=this.#s.onerror;let r=this.#s.failed;if(this.#p||!n&&!r)throw t;this.#n&&(Kt(this.#n),this.#n=null),this.#e&&(Kt(this.#e),this.#e=null),this.#r&&(Kt(this.#r),this.#r=null);var u=!1,a=!1;const s=()=>{if(u){bf();return}u=!0,a&&uf(),ar.ensure(),this.#d=0,this.#r!==null&&Er(this.#r,()=>{this.#r=null}),this.#a=this.has_pending_snippet(),this.#n=this.#m(()=>(this.#p=!1,an(()=>this.#c(this.#t)))),this.#l>0?this.#v():this.#a=!1};var i=Ze;try{hn(null),a=!0,n?.(t,s),a=!1}catch(l){_u(l,this.#u&&this.#u.parent)}finally{hn(i)}r&&Vr(()=>{this.#r=this.#m(()=>{this.#p=!0;try{return an(()=>{r(this.#t,()=>t,()=>s)})}catch(l){return _u(l,this.#u.parent),null}finally{this.#p=!1}})})}}function Pf(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var u=n===r?null:la(n);t.append(n),n=u}}function Rl(e,t,n){const r=oa()?ia:ct;if(t.length===0){n(e.map(r));return}var u=ft,a=He,s=If();Promise.all(t.map(i=>Nf(i))).then(i=>{u?.activate(),s();try{n([...e.map(r),...i])}catch(l){(a.f&Wr)===0&&_u(l,a)}u?.deactivate(),$l()}).catch(i=>{_u(i,a)})}function If(){var e=He,t=Ze,n=lt,r=ft;return function(){wn(e),hn(t),bu(n),r?.activate()}}function $l(){wn(null),hn(null),bu(null)}function ia(e){var t=bn|En,n=Ze!==null&&(Ze.f&bn)!==0?Ze:null;return He===null||n!==null&&(n.f&kn)!==0?t|=kn:He.f|=Au,{ctx:lt,deps:null,effects:null,equals:Ml,f:t,fn:e,reactions:null,rv:0,v:Nt,wv:0,parent:n??He,ac:null}}function Nf(e,t){let n=He;n===null&&Kd();var r=n.b,u=void 0,a=Sr(Nt),s=null,i=!Ze;return Vf(()=>{try{var l=e();s&&Promise.resolve(l).catch(()=>{})}catch(v){l=Promise.reject(v)}var c=()=>l;u=s?.then(c,c)??Promise.resolve(l),s=u;var d=ft,f=r.is_pending();i&&(r.update_pending_count(1),f||d.increment());const h=(v,p=void 0)=>{s=null,f||d.activate(),p?p!==Do&&(a.f|=Or,Br(a,p)):((a.f&Or)!==0&&(a.f^=Or),Br(a,v)),i&&(r.update_pending_count(-1),f||d.decrement()),$l()};if(u.then(h,v=>h(null,v||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(l=>{function c(d){function f(){d===u?l(a):c(u)}d.then(f,f)}c(u)})}function Of(e){const t=ia(e);return tc(t),t}function ct(e){const t=ia(e);return t.equals=Pl,t}function zl(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Kt(t[n])}}function Lf(e){for(var t=e.parent;t!==null;){if((t.f&bn)===0)return t;t=t.parent}return null}function Fo(e){var t,n=He;wn(Lf(e));try{zl(e),t=ac(e)}finally{wn(n)}return t}function Ul(e){var t=Fo(e);if(e.equals(t)||(e.v=t,e.wv=rc()),!Kr){var n=(_r||(e.f&kn)!==0)&&e.deps!==null?lr:Bt;on(e,n)}}const kr=new Map;function Sr(e,t){var n={f:0,v:e,reactions:null,equals:Ml,rv:0,wv:0};return n}function pr(e,t){const n=Sr(e);return tc(n),n}function U(e,t=!1,n=!0){const r=Sr(e);return t||(r.equals=Pl),Cu&&n&&lt!==null&&lt.l!==null&&(lt.l.s??=[]).push(r),r}function Bl(e,t){return D(e,m(()=>o(e))),t}function D(e,t,n=!1){Ze!==null&&(!In||(Ze.f&oi)!==0)&&oa()&&(Ze.f&(bn|wu|Co|oi))!==0&&!sr?.includes(e)&&rf();let r=n?fu(t):t;return Br(e,r)}function Br(e,t){if(!e.equals(t)){var n=e.v;Kr?kr.set(e,t):kr.set(e,n),e.v=t;var r=ar.ensure();r.capture(e,n),(e.f&bn)!==0&&((e.f&En)!==0&&Fo(e),on(e,(e.f&kn)===0?Bt:lr)),e.wv=rc(),jl(e,En),oa()&&He!==null&&(He.f&Bt)!==0&&(He.f&(ir|Hr))===0&&(yn===null?Zf([e]):yn.push(e))}return t}function li(e,t=1){var n=o(e),r=t===1?n++:n--;return D(e,n),r}function Gu(e){D(e,e.v+1)}function jl(e,t){var n=e.reactions;if(n!==null)for(var r=oa(),u=n.length,a=0;a<u;a++){var s=n[a],i=s.f;if(!(!r&&s===He)){var l=(i&En)===0;l&&on(s,t),(i&bn)!==0?jl(s,lr):l&&((i&wu)!==0&&Pr!==null&&Pr.push(s),yu(s))}}}function fu(e){if(typeof e!="object"||e===null||Wn in e)return e;const t=Eo(e);if(t!==Bd&&t!==jd)return e;var n=new Map,r=sa(e),u=pr(0),a=Lr,s=i=>{if(Lr===a)return i();var l=Ze,c=Lr;hn(null),hi(a);var d=i();return hn(l),hi(c),d};return r&&n.set("length",pr(e.length)),new Proxy(e,{defineProperty(i,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&tf();var d=n.get(l);return d===void 0?d=s(()=>{var f=pr(c.value);return n.set(l,f),f}):D(d,c.value,!0),!0},deleteProperty(i,l){var c=n.get(l);if(c===void 0){if(l in i){const d=s(()=>pr(Nt));n.set(l,d),Gu(u)}}else D(c,Nt),Gu(u);return!0},get(i,l,c){if(l===Wn)return e;var d=n.get(l),f=l in i;if(d===void 0&&(!f||ur(i,l)?.writable)&&(d=s(()=>{var v=fu(f?i[l]:Nt),p=pr(v);return p}),n.set(l,d)),d!==void 0){var h=o(d);return h===Nt?void 0:h}return Reflect.get(i,l,c)},getOwnPropertyDescriptor(i,l){var c=Reflect.getOwnPropertyDescriptor(i,l);if(c&&"value"in c){var d=n.get(l);d&&(c.value=o(d))}else if(c===void 0){var f=n.get(l),h=f?.v;if(f!==void 0&&h!==Nt)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(i,l){if(l===Wn)return!0;var c=n.get(l),d=c!==void 0&&c.v!==Nt||Reflect.has(i,l);if(c!==void 0||He!==null&&(!d||ur(i,l)?.writable)){c===void 0&&(c=s(()=>{var h=d?fu(i[l]):Nt,v=pr(h);return v}),n.set(l,c));var f=o(c);if(f===Nt)return!1}return d},set(i,l,c,d){var f=n.get(l),h=l in i;if(r&&l==="length")for(var v=c;v<f.v;v+=1){var p=n.get(v+"");p!==void 0?D(p,Nt):v in i&&(p=s(()=>pr(Nt)),n.set(v+"",p))}if(f===void 0)(!h||ur(i,l)?.writable)&&(f=s(()=>pr(void 0)),D(f,fu(c)),n.set(l,f));else{h=f.v!==Nt;var w=s(()=>fu(c));D(f,w)}var y=Reflect.getOwnPropertyDescriptor(i,l);if(y?.set&&y.set.call(d,c),!h){if(r&&typeof l=="string"){var _=n.get("length"),A=Number(l);Number.isInteger(A)&&A>=_.v&&D(_,A+1)}Gu(u)}return!0},ownKeys(i){o(u);var l=Reflect.ownKeys(i).filter(f=>{var h=n.get(f);return h===void 0||h.v!==Nt});for(var[c,d]of n)d.v!==Nt&&!(c in i)&&l.push(c);return l},setPrototypeOf(){nf()}})}function ci(e){try{if(e!==null&&typeof e=="object"&&Wn in e)return e[Wn]}catch{}return e}function Rf(e,t){return Object.is(ci(e),ci(t))}var qa,ql,Hl,Wl;function $f(){if(qa===void 0){qa=window,ql=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Hl=ur(t,"firstChild").get,Wl=ur(t,"nextSibling").get,si(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),si(n)&&(n.__t=void 0)}}function Dr(e=""){return document.createTextNode(e)}function Bn(e){return Hl.call(e)}function la(e){return Wl.call(e)}function b(e,t){return Bn(e)}function me(e,t=!1){{var n=Bn(e);return n instanceof Comment&&n.data===""?la(n):n}}function C(e,t=1,n=!1){let r=e;for(;t--;)r=la(r);return r}function zf(e){e.textContent=""}function Mo(){return!1}function Uf(e,t){if(t){const n=document.body;e.autofocus=!0,Vr(()=>{document.activeElement===n&&e.focus()})}}let di=!1;function Bf(){di||(di=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ss(e){var t=Ze,n=He;hn(null),wn(null);try{return e()}finally{hn(t),wn(n)}}function Vl(e,t,n,r=n){e.addEventListener(t,()=>ss(n));const u=e.__on_r;u?e.__on_r=()=>{u(),r(!0)}:e.__on_r=()=>r(!0),Bf()}function Gl(e){He===null&&Ze===null&&Jd(),Ze!==null&&(Ze.f&kn)!==0&&He===null&&Yd(),Kr&&Zd()}function jf(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Vn(e,t,n,r=!0){var u=He;u!==null&&(u.f&On)!==0&&(e|=On);var a={ctx:lt,deps:null,nodes_start:null,nodes_end:null,f:e|En,first:null,fn:t,last:null,next:null,parent:u,b:u&&u.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Rr(a),a.f|=Ao}catch(l){throw Kt(a),l}else t!==null&&yu(a);if(r){var s=a;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Au)===0&&(s=s.first),s!==null&&(s.parent=u,u!==null&&jf(s,u),Ze!==null&&(Ze.f&bn)!==0&&(e&Hr)===0)){var i=Ze;(i.effects??=[]).push(s)}}return a}function qf(){return Ze!==null&&!In}function os(e){const t=Vn(ts,null,!1);return on(t,Bt),t.teardown=e,t}function uo(e){Gl();var t=He.f,n=!Ze&&(t&ir)!==0&&(t&Ao)===0;if(n){var r=lt;(r.e??=[]).push(e)}else return Kl(e)}function Kl(e){return Vn(wo|Cl,e,!1)}function Hf(e){return Gl(),Vn(ts|Cl,e,!0)}function Wf(e){ar.ensure();const t=Vn(Hr|Au,e,!0);return(n={})=>new Promise(r=>{n.outro?Er(t,()=>{Kt(t),r(void 0)}):(Kt(t),r(void 0))})}function jr(e){return Vn(wo,e,!1)}function fe(e,t){var n=lt,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=Du(()=>{e(),!r.ran&&(r.ran=!0,m(t))})}function At(){var e=lt;Du(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&Bt)!==0&&on(n,lr),ca(n)&&Rr(n),t.ran=!1}})}function Vf(e){return Vn(Co|Au,e,!0)}function Du(e,t=0){return Vn(ts|t,e,!0)}function G(e,t=[],n=[]){Rl(t,n,r=>{Vn(ts,()=>e(...r.map(o)),!0)})}function Gr(e,t=0){var n=Vn(wu|t,e,!0);return n}function an(e,t=!0){return Vn(ir|Au,e,!0,t)}function Zl(e){var t=e.teardown;if(t!==null){const n=Kr,r=Ze;pi(!0),hn(null);try{t.call(null)}finally{pi(n),hn(r)}}}function Yl(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const u=n.ac;u!==null&&ss(()=>{u.abort(Do)});var r=n.next;(n.f&Hr)!==0?n.parent=null:Kt(n,t),n=r}}function Gf(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ir)===0&&Kt(t),t=n}}function Kt(e,t=!0){var n=!1;(t||(e.f&Vd)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Jl(e.nodes_start,e.nodes_end),n=!0),Yl(e,t&&!n),Ha(e,0),on(e,Wr);var r=e.transitions;if(r!==null)for(const a of r)a.stop();Zl(e);var u=e.parent;u!==null&&u.first!==null&&Xl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Jl(e,t){for(;e!==null;){var n=e===t?null:la(e);e.remove(),e=n}}function Xl(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Er(e,t){var n=[];Po(e,n,!0),Ql(n,()=>{Kt(e),t&&t()})}function Ql(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var u of e)u.out(r)}else t()}function Po(e,t,n){if((e.f&On)===0){if(e.f^=On,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var u=r.next,a=(r.f&Su)!==0||(r.f&ir)!==0;Po(r,t,a?n:!1),r=u}}}function is(e){ec(e,!0)}function ec(e,t){if((e.f&On)!==0){e.f^=On,(e.f&Bt)===0&&(on(e,En),yu(e));for(var n=e.first;n!==null;){var r=n.next,u=(n.f&Su)!==0||(n.f&ir)!==0;ec(n,u?t:!1),n=r}if(e.transitions!==null)for(const a of e.transitions)(a.is_global||t)&&a.in()}}let cu=null;function Kf(e){var t=cu;try{if(cu=new Set,m(e),t!==null)for(var n of cu)t.add(n);return cu}finally{cu=t}}function ly(e){for(var t of Kf(e))Br(t,t.v)}let vu=!1;function fi(e){vu=e}let Kr=!1;function pi(e){Kr=e}let Ze=null,In=!1;function hn(e){Ze=e}let He=null;function wn(e){He=e}let sr=null;function tc(e){Ze!==null&&(sr===null?sr=[e]:sr.push(e))}let un=null,gn=0,yn=null;function Zf(e){yn=e}let nc=1,Qu=0,Lr=Qu;function hi(e){Lr=e}let _r=!1;function rc(){return++nc}function ca(e){var t=e.f;if((t&En)!==0)return!0;if((t&lr)!==0){var n=e.deps,r=(t&kn)!==0;if(n!==null){var u,a,s=(t&Ba)!==0,i=r&&He!==null&&!_r,l=n.length;if((s||i)&&(He===null||(He.f&Wr)===0)){var c=e,d=c.parent;for(u=0;u<l;u++)a=n[u],(s||!a?.reactions?.includes(c))&&(a.reactions??=[]).push(c);s&&(c.f^=Ba),i&&d!==null&&(d.f&kn)===0&&(c.f^=kn)}for(u=0;u<l;u++)if(a=n[u],ca(a)&&Ul(a),a.wv>e.wv)return!0}(!r||He!==null&&!_r)&&on(e,Bt)}return!1}function uc(e,t,n=!0){var r=e.reactions;if(r!==null&&!sr?.includes(e))for(var u=0;u<r.length;u++){var a=r[u];(a.f&bn)!==0?uc(a,t,!1):t===a&&(n?on(a,En):(a.f&Bt)!==0&&on(a,lr),yu(a))}}function ac(e){var t=un,n=gn,r=yn,u=Ze,a=_r,s=sr,i=lt,l=In,c=Lr,d=e.f;un=null,gn=0,yn=null,_r=(d&kn)!==0&&(In||!vu||Ze===null),Ze=(d&(ir|Hr))===0?e:null,sr=null,bu(e.ctx),In=!1,Lr=++Qu,e.ac!==null&&(ss(()=>{e.ac.abort(Do)}),e.ac=null);try{e.f|=to;var f=e.fn,h=f(),v=e.deps;if(un!==null){var p;if(Ha(e,gn),v!==null&&gn>0)for(v.length=gn+un.length,p=0;p<un.length;p++)v[gn+p]=un[p];else e.deps=v=un;if(!_r||(d&bn)!==0&&e.reactions!==null)for(p=gn;p<v.length;p++)(v[p].reactions??=[]).push(e)}else v!==null&&gn<v.length&&(Ha(e,gn),v.length=gn);if(oa()&&yn!==null&&!In&&v!==null&&(e.f&(bn|lr|En))===0)for(p=0;p<yn.length;p++)uc(yn[p],e);return u!==null&&u!==e&&(Qu++,yn!==null&&(r===null?r=yn:r.push(...yn))),(e.f&Or)!==0&&(e.f^=Or),h}catch(w){return Nl(w)}finally{e.f^=to,un=t,gn=n,yn=r,Ze=u,_r=a,sr=s,bu(i),In=l,Lr=c}}function Yf(e,t){let n=t.reactions;if(n!==null){var r=Ud.call(n,e);if(r!==-1){var u=n.length-1;u===0?n=t.reactions=null:(n[r]=n[u],n.pop())}}n===null&&(t.f&bn)!==0&&(un===null||!un.includes(t))&&(on(t,lr),(t.f&(kn|Ba))===0&&(t.f^=Ba),zl(t),Ha(t,0))}function Ha(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Yf(e,n[r])}function Rr(e){var t=e.f;if((t&Wr)===0){on(e,Bt);var n=He,r=vu;He=e,vu=!0;try{(t&wu)!==0?Gf(e):Yl(e),Zl(e);var u=ac(e);e.teardown=typeof u=="function"?u:null,e.wv=nc;var a;Sl&&yf&&(e.f&En)!==0&&e.deps}finally{vu=r,He=n}}}async function Jf(){await Promise.resolve(),Af()}function o(e){var t=e.f,n=(t&bn)!==0;if(cu?.add(e),Ze!==null&&!In){var r=He!==null&&(He.f&Wr)!==0;if(!r&&!sr?.includes(e)){var u=Ze.deps;if((Ze.f&to)!==0)e.rv<Qu&&(e.rv=Qu,un===null&&u!==null&&u[gn]===e?gn++:un===null?un=[e]:(!_r||!un.includes(e))&&un.push(e));else{(Ze.deps??=[]).push(e);var a=e.reactions;a===null?e.reactions=[Ze]:a.includes(Ze)||a.push(Ze)}}}else if(n&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&kn)===0&&(s.f^=kn)}if(Kr){if(kr.has(e))return kr.get(e);if(n){s=e;var l=s.v;return((s.f&Bt)===0&&s.reactions!==null||sc(s))&&(l=Fo(s)),kr.set(s,l),l}}else n&&(s=e,ca(s)&&Ul(s));if((e.f&Or)!==0)throw e.v;return e.v}function sc(e){if(e.v===Nt)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(kr.has(t)||(t.f&bn)!==0&&sc(t))return!0;return!1}function m(e){var t=In;try{return In=!0,e()}finally{In=t}}const Xf=-7169;function on(e,t){e.f=e.f&Xf|t}function L(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Wn in e)ao(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Wn in n&&ao(n)}}}function ao(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ao(e[r],t)}catch{}const n=Eo(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Al(n);for(let u in r){const a=r[u].get;if(a)try{a.call(e)}catch{}}}}}function Qf(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const e0=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function t0(e){return e0.includes(e)}const n0={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function r0(e){return e=e.toLowerCase(),n0[e]??e}const u0=["touchstart","touchmove"];function a0(e){return u0.includes(e)}const oc=new Set,so=new Set;function ic(e,t,n,r={}){function u(a){if(r.capture||qu.call(t,a),!a.cancelBubble)return ss(()=>n?.call(this,a))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Vr(()=>{t.addEventListener(e,u,r)}):t.addEventListener(e,u,r),u}function J(e,t,n,r,u){var a={capture:r,passive:u},s=ic(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&os(()=>{t.removeEventListener(e,s,a)})}function s0(e){for(var t=0;t<e.length;t++)oc.add(e[t]);for(var n of so)n(e)}let mi=null;function qu(e){var t=this,n=t.ownerDocument,r=e.type,u=e.composedPath?.()||[],a=u[0]||e.target;mi=e;var s=0,i=mi===e&&e.__root;if(i){var l=u.indexOf(i);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var c=u.indexOf(t);if(c===-1)return;l<=c&&(s=l)}if(a=u[s]||e.target,a!==t){Ua(e,"currentTarget",{configurable:!0,get(){return a||n}});var d=Ze,f=He;hn(null),wn(null);try{for(var h,v=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+r];if(w!=null&&(!a.disabled||e.target===a))if(sa(w)){var[y,..._]=w;y.apply(a,[e,..._])}else w.call(a,e)}catch(A){h?v.push(A):h=A}if(e.cancelBubble||p===t||p===null)break;a=p}if(h){for(let A of v)queueMicrotask(()=>{throw A});throw h}}finally{e.__root=t,delete e.currentTarget,hn(d),wn(f)}}}function Io(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function qr(e,t){var n=He;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function M(e,t){var n=(t&ff)!==0,r=(t&pf)!==0,u,a=!e.startsWith("<!>");return()=>{u===void 0&&(u=Io(a?e:"<!>"+e),n||(u=Bn(u)));var s=r||ql?document.importNode(u,!0):u.cloneNode(!0);if(n){var i=Bn(s),l=s.lastChild;qr(i,l)}else qr(s,s);return s}}function o0(e,t,n="svg"){var r=!e.startsWith("<!>"),u=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var s=Io(u),i=Bn(s);a=Bn(i)}var l=a.cloneNode(!0);return qr(l,l),l}}function No(e,t){return o0(e,t,"svg")}function Ln(e=""){{var t=Dr(e+"");return qr(t,t),t}}function Se(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Dr();return e.append(t,n),qr(t,n),e}function k(e,t){e!==null&&e.before(t)}function X(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function i0(e,t){return l0(e,t)}const tu=new Map;function l0(e,{target:t,anchor:n,props:r={},events:u,context:a,intro:s=!0}){$f();var i=new Set,l=f=>{for(var h=0;h<f.length;h++){var v=f[h];if(!i.has(v)){i.add(v);var p=a0(v);t.addEventListener(v,qu,{passive:p});var w=tu.get(v);w===void 0?(document.addEventListener(v,qu,{passive:p}),tu.set(v,1)):tu.set(v,w+1)}}};l(ko(oc)),so.add(l);var c=void 0,d=Wf(()=>{var f=n??t.appendChild(Dr());return Ff(f,{pending:()=>{}},h=>{if(a){Qe({});var v=lt;v.c=a}u&&(r.$$events=u),c=e(h,r)||{},a&&et()}),()=>{for(var h of i){t.removeEventListener(h,qu);var v=tu.get(h);--v===0?(document.removeEventListener(h,qu),tu.delete(h)):tu.set(h,v)}so.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return c0.set(c,d),c}let c0=new WeakMap;function $(e,t,n=!1){var r=e,u=null,a=null,s=Nt,i=n?Su:0,l=!1;const c=(v,p=!0)=>{l=!0,h(p,v)};var d=null;function f(){d!==null&&(d.lastChild.remove(),r.before(d),d=null);var v=s?u:a,p=s?a:u;v&&is(v),p&&Er(p,()=>{s?a=null:u=null})}const h=(v,p)=>{if(s!==(s=v)){var w=Mo(),y=r;if(w&&(d=document.createDocumentFragment(),d.append(y=Dr())),s?u??=p&&an(()=>p(y)):a??=p&&an(()=>p(y)),w){var _=ft,A=s?u:a,E=s?a:u;A&&_.skipped_effects.delete(A),E&&_.skipped_effects.add(E),_.add_callback(f)}else f()}};Gr(()=>{l=!1,t(c),l||h(null,null)},i)}function jn(e,t){return t}function d0(e,t,n){for(var r=e.items,u=[],a=t.length,s=0;s<a;s++)Po(t[s].e,u,!0);var i=a>0&&u.length===0&&n!==null;if(i){var l=n.parentNode;zf(l),l.append(n),r.clear(),Un(e,t[0].prev,t[a-1].next)}Ql(u,()=>{for(var c=0;c<a;c++){var d=t[c];i||(r.delete(d.k),Un(e,d.prev,d.next)),Kt(d.e,!i)}})}function mt(e,t,n,r,u,a=null){var s=e,i={flags:t,items:new Map,first:null},l=(t&Tl)!==0;if(l){var c=e;s=c.appendChild(Dr())}var d=null,f=!1,h=new Map,v=ct(()=>{var _=n();return sa(_)?_:_==null?[]:ko(_)}),p,w;function y(){f0(w,p,i,h,s,u,t,r,n),a!==null&&(p.length===0?d?is(d):d=an(()=>a(s)):d!==null&&Er(d,()=>{d=null}))}Gr(()=>{w??=He,p=o(v);var _=p.length;if(!(f&&_===0)){f=_===0;var A,E,g,S;if(Mo()){var x=new Set,T=ft;for(E=0;E<_;E+=1){g=p[E],S=r(g,E);var R=i.items.get(S)??h.get(S);R?(t&(rs|us))!==0&&lc(R,g,E,t):(A=cc(null,i,null,null,g,S,E,u,t,n,!0),h.set(S,A)),x.add(S)}for(const[z,F]of i.items)x.has(z)||T.skipped_effects.add(F.e);T.add_callback(y)}else y();o(v)}})}function f0(e,t,n,r,u,a,s,i,l){var c=(s&af)!==0,d=(s&(rs|us))!==0,f=t.length,h=n.items,v=n.first,p=v,w,y=null,_,A=[],E=[],g,S,x,T;if(c)for(T=0;T<f;T+=1)g=t[T],S=i(g,T),x=h.get(S),x!==void 0&&(x.a?.measure(),(_??=new Set).add(x));for(T=0;T<f;T+=1){if(g=t[T],S=i(g,T),x=h.get(S),x===void 0){var R=r.get(S);if(R!==void 0){r.delete(S),h.set(S,R);var z=y?y.next:p;Un(n,y,R),Un(n,R,z),xs(R,z,u),y=R}else{var F=p?p.e.nodes_start:u;y=cc(F,n,y,y===null?n.first:y.next,g,S,T,a,s,l)}h.set(S,y),A=[],E=[],p=y.next;continue}if(d&&lc(x,g,T,s),(x.e.f&On)!==0&&(is(x.e),c&&(x.a?.unfix(),(_??=new Set).delete(x))),x!==p){if(w!==void 0&&w.has(x)){if(A.length<E.length){var I=E[0],K;y=I.prev;var N=A[0],Q=A[A.length-1];for(K=0;K<A.length;K+=1)xs(A[K],I,u);for(K=0;K<E.length;K+=1)w.delete(E[K]);Un(n,N.prev,Q.next),Un(n,y,N),Un(n,Q,I),p=I,y=Q,T-=1,A=[],E=[]}else w.delete(x),xs(x,p,u),Un(n,x.prev,x.next),Un(n,x,y===null?n.first:y.next),Un(n,y,x),y=x;continue}for(A=[],E=[];p!==null&&p.k!==S;)(p.e.f&On)===0&&(w??=new Set).add(p),E.push(p),p=p.next;if(p===null)continue;x=p}A.push(x),y=x,p=x.next}if(p!==null||w!==void 0){for(var q=w===void 0?[]:ko(w);p!==null;)(p.e.f&On)===0&&q.push(p),p=p.next;var ae=q.length;if(ae>0){var ie=(s&Tl)!==0&&f===0?u:null;if(c){for(T=0;T<ae;T+=1)q[T].a?.measure();for(T=0;T<ae;T+=1)q[T].a?.fix()}d0(n,q,ie)}}c&&Vr(()=>{if(_!==void 0)for(x of _)x.a?.apply()}),e.first=n.first&&n.first.e,e.last=y&&y.e;for(var Y of r.values())Kt(Y.e);r.clear()}function lc(e,t,n,r){(r&rs)!==0&&Br(e.v,t),(r&us)!==0?Br(e.i,n):e.i=n}function cc(e,t,n,r,u,a,s,i,l,c,d){var f=(l&rs)!==0,h=(l&sf)===0,v=f?h?U(u,!1,!1):Sr(u):u,p=(l&us)===0?s:Sr(s),w={i:p,v,k:a,a:null,e:null,prev:n,next:r};try{if(e===null){var y=document.createDocumentFragment();y.append(e=Dr())}return w.e=an(()=>i(e,v,p,c),_f),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?d||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function xs(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,u=t?t.e.nodes_start:n,a=e.e.nodes_start;a!==null&&a!==r;){var s=la(a);u.before(a),a=s}}function Un(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function oo(e,t,n=!1,r=!1,u=!1){var a=e,s="";G(()=>{var i=He;if(s!==(s=t()??"")&&(i.nodes_start!==null&&(Jl(i.nodes_start,i.nodes_end),i.nodes_start=i.nodes_end=null),s!=="")){var l=s+"";n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var c=Io(l);if((n||r)&&(c=Bn(c)),qr(Bn(c),c.lastChild),n||r)for(;Bn(c);)a.before(Bn(c));else a.before(c)}})}function Gt(e,t,n,r,u){var a=t.$$slots?.[n],s=!1;a===!0&&(a=t[n==="default"?"children":n],s=!0),a===void 0||a(e,s?()=>r:r)}function vi(e,t,n){var r=e,u,a,s=null,i=null;function l(){a&&(Er(a),a=null),s&&(s.lastChild.remove(),r.before(s),s=null),a=i,i=null}Gr(()=>{if(u!==(u=t())){var c=Mo();if(u){var d=r;c&&(s=document.createDocumentFragment(),s.append(d=Dr()),a&&ft.skipped_effects.add(a)),i=an(()=>n(d,u))}c?ft.add_callback(l):l()}},Su)}function p0(e,t,n,r,u,a){var s,i,l=null,c=e,d;Gr(()=>{const f=t()||null;var h=mf;f!==s&&(d&&(f===null?Er(d,()=>{d=null,i=null}):f===i?is(d):Kt(d)),f&&f!==i&&(d=an(()=>{if(l=document.createElementNS(h,f),qr(l,l),r){var v=l.appendChild(Dr());r(l,v)}He.nodes_end=l,c.before(l)})),s=f,s&&(i=s))},Su)}function Wa(e,t,n){jr(()=>{var r=m(()=>t(e,n?.())||{});if(n&&r?.update){var u=!1,a={};Du(()=>{var s=n();L(s),u&&To(a,s)&&(a=s,r.update(s))}),u=!0}if(r?.destroy)return()=>r.destroy()})}function h0(e,t){var n=void 0,r;Gr(()=>{n!==(n=t())&&(r&&(Kt(r),r=null),n&&(r=an(()=>{jr(()=>n(e))})))})}function dc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var u=e.length;for(t=0;t<u;t++)e[t]&&(n=dc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function m0(){for(var e,t,n=0,r="",u=arguments.length;n<u;n++)(e=arguments[n])&&(t=dc(e))&&(r&&(r+=" "),r+=t);return r}function Ma(e){return typeof e=="object"?m0(e):e??""}const gi=[...` 	
\r\fÂ \v\uFEFF`];function v0(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var u in n)if(n[u])r=r?r+" "+u:u;else if(r.length)for(var a=u.length,s=0;(s=r.indexOf(u,s))>=0;){var i=s+a;(s===0||gi.includes(r[s-1]))&&(i===r.length||gi.includes(r[i]))?r=(s===0?"":r.substring(0,s))+r.substring(i+1):s=i}}return r===""?null:r}function bi(e,t=!1){var n=t?" !important;":";",r="";for(var u in e){var a=e[u];a!=null&&a!==""&&(r+=" "+u+": "+a+n)}return r}function ks(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function g0(e,t){if(t){var n="",r,u;if(Array.isArray(t)?(r=t[0],u=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,s=0,i=!1,l=[];r&&l.push(...Object.keys(r).map(ks)),u&&l.push(...Object.keys(u).map(ks));var c=0,d=-1;const w=e.length;for(var f=0;f<w;f++){var h=e[f];if(i?h==="/"&&e[f-1]==="*"&&(i=!1):a?a===h&&(a=!1):h==="/"&&e[f+1]==="*"?i=!0:h==='"'||h==="'"?a=h:h==="("?s++:h===")"&&s--,!i&&a===!1&&s===0){if(h===":"&&d===-1)d=f;else if(h===";"||f===w-1){if(d!==-1){var v=ks(e.substring(c,d).trim());if(!l.includes(v)){h!==";"&&f++;var p=e.substring(c,f).trim();n+=" "+p+";"}}c=f+1,d=-1}}}}return r&&(n+=bi(r)),u&&(n+=bi(u,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function St(e,t,n,r,u,a){var s=e.__className;if(s!==n||s===void 0){var i=v0(n,r,a);i==null?e.removeAttribute("class"):t?e.className=i:e.setAttribute("class",i),e.__className=n}else if(a&&u!==a)for(var l in a){var c=!!a[l];(u==null||c!==!!u[l])&&e.classList.toggle(l,c)}return a}function Es(e,t={},n,r){for(var u in n){var a=n[u];t[u]!==a&&(n[u]==null?e.style.removeProperty(u):e.style.setProperty(u,a,r))}}function nr(e,t,n,r){var u=e.__style;if(u!==t){var a=g0(t,r);a==null?e.removeAttribute("style"):e.style.cssText=a,e.__style=t}else r&&(Array.isArray(r)?(Es(e,n?.[0],r[0]),Es(e,n?.[1],r[1],"important")):Es(e,n,r));return r}function Rn(e,t,n=!1){if(e.multiple){if(t==null)return;if(!sa(t))return gf();for(var r of e.options)r.selected=t.includes(Ku(r));return}for(r of e.options){var u=Ku(r);if(Rf(u,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function or(e){var t=new MutationObserver(()=>{Rn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),os(()=>{t.disconnect()})}function cy(e,t,n=t){var r=!0;Vl(e,"change",u=>{var a=u?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(a),Ku);else{var i=e.querySelector(a)??e.querySelector("option:not([disabled])");s=i&&Ku(i)}n(s)}),jr(()=>{var u=t();if(Rn(e,u,r),r&&u===void 0){var a=e.querySelector(":checked");a!==null&&(u=Ku(a),n(u))}e.__value=u,r=!1}),or(e)}function Ku(e){return"__value"in e?e.__value:e.value}const Mu=Symbol("class"),Pu=Symbol("style"),fc=Symbol("is custom element"),pc=Symbol("is html");function Ot(e,t){var n=ls(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Vt(e,t){var n=ls(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function b0(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function oe(e,t,n,r){var u=ls(e);u[t]!==(u[t]=n)&&(t==="loading"&&(e[Gd]=n),n==null?e.removeAttribute(t):typeof n!="string"&&hc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function _0(e,t,n,r,u=!1,a=!1){var s=ls(e),i=s[fc],l=!s[pc],c=t||{},d=e.tagName==="OPTION";for(var f in t)f in n||(n[f]=null);n.class?n.class=Ma(n.class):n[Mu]&&(n.class=null),n[Pu]&&(n.style??=null);var h=hc(e);for(const E in n){let g=n[E];if(d&&E==="value"&&g==null){e.value=e.__value="",c[E]=g;continue}if(E==="class"){var v=e.namespaceURI==="http://www.w3.org/1999/xhtml";St(e,v,g,r,t?.[Mu],n[Mu]),c[E]=g,c[Mu]=n[Mu];continue}if(E==="style"){nr(e,g,t?.[Pu],n[Pu]),c[E]=g,c[Pu]=n[Pu];continue}var p=c[E];if(!(g===p&&!(g===void 0&&e.hasAttribute(E)))){c[E]=g;var w=E[0]+E[1];if(w!=="$$")if(w==="on"){const S={},x="$$"+E;let T=E.slice(2);var y=t0(T);if(Qf(T)&&(T=T.slice(0,-7),S.capture=!0),!y&&p){if(g!=null)continue;e.removeEventListener(T,c[x],S),c[x]=null}if(g!=null)if(y)e[`__${T}`]=g,s0([T]);else{let R=function(z){c[E].call(this,z)};c[x]=ic(T,e,R,S)}else y&&(e[`__${T}`]=void 0)}else if(E==="style")oe(e,E,g);else if(E==="autofocus")Uf(e,!!g);else if(!i&&(E==="__value"||E==="value"&&g!=null))e.value=e.__value=g;else if(E==="selected"&&d)b0(e,g);else{var _=E;l||(_=r0(_));var A=_==="defaultValue"||_==="defaultChecked";if(g==null&&!i&&!A)if(s[E]=null,_==="value"||_==="checked"){let S=e;const x=t===void 0;if(_==="value"){let T=S.defaultValue;S.removeAttribute(_),S.defaultValue=T,S.value=S.__value=x?T:null}else{let T=S.defaultChecked;S.removeAttribute(_),S.defaultChecked=T,S.checked=x?T:!1}}else e.removeAttribute(E);else A||h.includes(_)&&(i||typeof g!="string")?(e[_]=g,_ in s&&(s[_]=Nt)):typeof g!="function"&&oe(e,_,g)}}}return c}function _i(e,t,n=[],r=[],u,a=!1,s=!1){Rl(n,r,i=>{var l=void 0,c={},d=e.nodeName==="SELECT",f=!1;if(Gr(()=>{var v=t(...i.map(o)),p=_0(e,l,v,u,a,s);f&&d&&"value"in v&&Rn(e,v.value);for(let y of Object.getOwnPropertySymbols(c))v[y]||Kt(c[y]);for(let y of Object.getOwnPropertySymbols(v)){var w=v[y];y.description===vf&&(!l||w!==l[y])&&(c[y]&&Kt(c[y]),c[y]=an(()=>h0(e,()=>w))),p[y]=w}l=p}),d){var h=e;jr(()=>{Rn(h,l.value,!0),or(h)})}f=!0})}function ls(e){return e.__attributes??={[fc]:e.nodeName.includes("-"),[pc]:e.namespaceURI===hf}}var yi=new Map;function hc(e){var t=e.getAttribute("is")||e.nodeName,n=yi.get(t);if(n)return n;yi.set(t,n=[]);for(var r,u=e,a=Element.prototype;a!==u;){r=Al(u);for(var s in r)r[s].set&&n.push(s);u=Eo(u)}return n}function rr(e,t,n=t){var r=new WeakSet;Vl(e,"input",async u=>{var a=u?e.defaultValue:e.value;if(a=ws(e)?Ss(a):a,n(a),ft!==null&&r.add(ft),await Jf(),a!==(a=t())){var s=e.selectionStart,i=e.selectionEnd;e.value=a??"",i!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(i,e.value.length))}}),m(t)==null&&e.value&&(n(ws(e)?Ss(e.value):e.value),ft!==null&&r.add(ft)),Du(()=>{var u=t();if(e===document.activeElement){var a=Fa??ft;if(r.has(a))return}ws(e)&&u===Ss(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function ws(e){var t=e.type;return t==="number"||t==="range"}function Ss(e){return e===""?null:+e}function y0(e,t,n){var r=ur(e,t);r&&r.set&&(e[t]=n,os(()=>{e[t]=null}))}function xi(e,t){return e===t||e?.[Wn]===t}function Ar(e={},t,n,r){return jr(()=>{var u,a;return Du(()=>{u=a,a=[],m(()=>{e!==n(...a)&&(t(e,...a),u&&xi(n(...u),e)&&t(null,...u))})}),()=>{Vr(()=>{a&&xi(n(...a),e)&&t(null,...a)})}}),e}function Oo(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function rt(e=!1){const t=lt,n=t.l.u;if(!n)return;let r=()=>L(t.s);if(e){let u=0,a={};const s=ia(()=>{let i=!1;const l=t.s;for(const c in l)l[c]!==a[c]&&(a[c]=l[c],i=!0);return i&&u++,u});r=()=>o(s)}n.b.length&&Hf(()=>{ki(t,r),Xu(n.b)}),uo(()=>{const u=m(()=>n.m.map(qd));return()=>{for(const a of u)typeof a=="function"&&a()}}),n.a.length&&uo(()=>{ki(t,r),Xu(n.a)})}function ki(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}function Lo(e,t,n){if(e==null)return t(void 0),n&&n(void 0),xr;const r=m(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const nu=[];function x0(e,t){return{subscribe:kt(e,t).subscribe}}function kt(e,t=xr){let n=null;const r=new Set;function u(i){if(To(e,i)&&(e=i,n)){const l=!nu.length;for(const c of r)c[1](),nu.push(c,e);if(l){for(let c=0;c<nu.length;c+=2)nu[c][0](nu[c+1]);nu.length=0}}}function a(i){u(i(e))}function s(i,l=xr){const c=[i,l];return r.add(c),r.size===1&&(n=t(u,a)||xr),i(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:u,update:a,subscribe:s}}function Ft(e,t,n){const r=!Array.isArray(e),u=r?[e]:e;if(!u.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return x0(n,(s,i)=>{let l=!1;const c=[];let d=0,f=xr;const h=()=>{if(d)return;f();const p=t(r?c[0]:c,s,i);a?s(p):f=typeof p=="function"?p:xr},v=u.map((p,w)=>Lo(p,y=>{c[w]=y,d&=~(1<<w),l&&h()},()=>{d|=1<<w}));return l=!0,h(),function(){Xu(v),f(),l=!1}})}function at(e){let t;return Lo(e,n=>t=n)(),t}let ya=!1,io=Symbol();function Xe(e,t,n){const r=n[t]??={store:null,source:U(void 0),unsubscribe:xr};if(r.store!==e&&!(io in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=xr;else{var u=!0;r.unsubscribe=Lo(e,a=>{u?r.source.v=a:D(r.source,a)}),u=!1}return e&&io in n?at(e):o(r.source)}function Gn(){const e={};function t(){os(()=>{for(var n in e)e[n].unsubscribe();Ua(e,io,{enumerable:!1,value:!0})})}return[e,t]}function k0(e,t,n){return e.set(n),t}function E0(e){var t=ya;try{return ya=!1,[e(),ya]}finally{ya=t}}const w0={get(e,t){if(!e.exclude.includes(t))return o(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=He;try{wn(e.parent_effect),e.special[t]=ne({get[t](){return e.props[t]}},t,Fl)}finally{wn(r)}}return e.special[t](n),li(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),li(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Sn(e,t){return new Proxy({props:e,exclude:t,special:{},version:Sr(0),parent_effect:He},w0)}const S0={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Fu(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let u=e.props[r];Fu(u)&&(u=u());const a=ur(u,t);if(a&&a.set)return a.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Fu(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const u=ur(r,t);return u&&!u.configurable&&(u.configurable=!0),u}}},has(e,t){if(t===Wn||t===Dl)return!1;for(let n of e.props)if(Fu(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(Fu(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Kn(...e){return new Proxy({props:e},S0)}function ne(e,t,n,r){var u=!Cu||(n&lf)!==0,a=(n&cf)!==0,s=(n&df)!==0,i=r,l=!0,c=()=>(l&&(l=!1,i=s?m(r):r),i),d;if(a){var f=Wn in e||Dl in e;d=ur(e,t)?.set??(f&&t in e?E=>e[t]=E:void 0)}var h,v=!1;a?[h,v]=E0(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=c(),d&&(u&&ef(),d(h)));var p;if(u?p=()=>{var E=e[t];return E===void 0?c():(l=!0,E)}:p=()=>{var E=e[t];return E!==void 0&&(i=void 0),E===void 0?i:E},u&&(n&Fl)===0)return p;if(d){var w=e.$$legacy;return(function(E,g){return arguments.length>0?((!u||!g||w||v)&&d(g?p():E),E):p()})}var y=!1,_=((n&of)!==0?ia:ct)(()=>(y=!1,p()));a&&o(_);var A=He;return(function(E,g){if(arguments.length>0){const S=g?o(_):u&&a?fu(E):E;return D(_,S),y=!0,i!==void 0&&(i=S),E}return Kr&&y||(A.f&Wr)!==0?_.v:o(_)})}function da(e){lt===null&&ns(),Cu&&lt.l!==null?vc(lt).m.push(e):uo(()=>{const t=m(e);if(typeof t=="function")return t})}function fa(e){lt===null&&ns(),da(()=>()=>m(e))}function A0(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Et(){const e=lt;return e===null&&ns(),(t,n,r)=>{const u=e.s.$$events?.[t];if(u){const a=sa(u)?u.slice():[u],s=A0(t,n,r);for(const i of a)i.call(e.x,s);return!s.defaultPrevented}return!0}}function mc(e){lt===null&&ns(),lt.l===null&&Qd(),vc(lt).a.push(e)}function vc(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const C0="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(C0);xf();const jt="";function dt(e){return e.startsWith("/")?`${jt}${e}`:`${jt}/${e}`}const D0=/\r?\n/;function Ei(e){const t=[],n=e.split(/\n\n|\r\r|\r\n\r\n/);for(const r of n){const u=r.trim();if(!u)continue;const a=u.split(D0);let s="message",i=[],l;for(const c of a)if(c&&!c.startsWith(":")){if(c.startsWith("event:")){s=c.slice(6).trim()||"message";continue}if(c.startsWith("data:")){i.push(c.slice(5).trimStart());continue}if(c.startsWith("id:")){l=c.slice(3).trim();continue}}t.push({event:s,data:i.length?i.join(`
`):void 0,id:l})}return t}class xu extends Error{status;constructor(t,n){super(n),this.status=t}}async function bt(e,t){const n=await fetch(e,{headers:{"Content-Type":"application/json",Accept:"application/json",...t?.headers},...t});if(!n.ok){let r=n.statusText;try{const u=await n.json();r=u.detail||u.message||JSON.stringify(u)}catch{}throw new xu(n.status,r)}return await n.json()}async function T0(e,t){const n=await fetch(e,{headers:{"Content-Type":"application/json",Accept:"application/json",...t?.headers},...t});if(!n.ok){let r=n.statusText;try{const u=await n.json();r=u.detail||u.message||JSON.stringify(u)}catch{}throw new xu(n.status,r)}}async function F0(){return bt(dt("/api/models"))}async function M0(){return bt(dt("/api/stt/deepgram/token"),{method:"POST",body:JSON.stringify({})})}async function P0(e){const t=`/api/chat/generation/${encodeURIComponent(e)}`;return bt(dt(t))}async function wi(e,t){const n=`/api/chat/session/${encodeURIComponent(e)}/messages/${encodeURIComponent(t)}`;await T0(dt(n),{method:"DELETE"})}async function I0(){return bt(dt("/api/settings/model"))}async function Si(e){return bt(dt("/api/settings/model"),{method:"PUT",body:JSON.stringify(e)})}async function N0(){return bt(dt("/api/settings/system-prompt"))}async function O0(e){return bt(dt("/api/settings/system-prompt"),{method:"PUT",body:JSON.stringify(e)})}async function L0(){return bt(dt("/api/mcp/servers/"))}async function R0(e,t){const n=`/api/mcp/servers/${encodeURIComponent(e)}`;return bt(dt(n),{method:"PATCH",body:JSON.stringify(t)})}async function $0(){return bt(dt("/api/mcp/servers/refresh"),{method:"POST",body:JSON.stringify({})})}async function z0(){return bt(dt("/api/google-auth/status"))}async function U0(e){return bt(dt("/api/google-auth/authorize"),{method:"POST",body:JSON.stringify(e)})}async function B0(){return bt(dt("/api/monarch-auth/status"))}async function j0(e){return bt(dt("/api/monarch-auth/credentials"),{method:"POST",body:JSON.stringify(e)})}async function q0(){return bt(dt("/api/monarch-auth/credentials"),{method:"DELETE"})}async function H0(){return bt(dt("/api/spotify-auth/status"))}async function W0(e){return bt(dt("/api/spotify-auth/authorize"),{method:"POST",body:JSON.stringify(e)})}async function V0(e,t){const n=new FormData;n.append("file",e),n.append("session_id",t);const r=await fetch(dt("/api/uploads"),{method:"POST",body:n});if(!r.ok){let u=r.statusText||"Upload failed";try{u=(await r.json())?.detail??u}catch{}throw new xu(r.status||0,u)}return await r.json()}const G0=/\n\n|\r\r|\r\n\r\n/;async function K0(e,{onChunk:t,onDone:n,onError:r,onSession:u,onNotice:a,signal:s}={}){const i=await fetch(dt("/api/chat/stream"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify(e),signal:s});if(!i.ok||!i.body){const f=i.statusText||"Failed to connect to chat stream",h=new xu(i.status||0,f);throw r?.(h),h}const l=i.body.getReader(),c=new TextDecoder;let d="";try{for(;;){const{value:f,done:h}=await l.read();if(h)break;d+=c.decode(f,{stream:!0});const v=d.split(G0);d=v.pop()??"";for(const p of v){const w=Ei(p);for(const y of w){if(y.event==="session"&&y.data){try{const _=JSON.parse(y.data);_.session_id&&u?.(_.session_id)}catch(_){console.warn("Failed to parse session payload",_)}continue}if(y.event==="notice"){if(y.data)try{const _=JSON.parse(y.data);a?.(_)}catch(_){console.warn("Failed to parse notice payload",_,y.data)}continue}if(y.event!=="message"){t?.({choices:[],object:"event",meta:{event:y.event,data:y.data}},y);continue}if(y.data==="[DONE]"){n?.();return}if(y.data)try{const _=JSON.parse(y.data);t?.(_,y)}catch(_){console.warn("Failed to parse SSE chunk",_,y.data)}}}}if(d.trim()){const f=Ei(d);for(const h of f)if(h.event==="session"&&h.data)try{const v=JSON.parse(h.data);v.session_id&&u?.(v.session_id)}catch(v){console.warn("Failed to parse session payload",v)}else if(h.event==="notice"){if(h.data)try{const v=JSON.parse(h.data);a?.(v)}catch(v){console.warn("Failed to parse notice payload",v,h.data)}}else if(h.event==="message"){if(h.data==="[DONE]")n?.();else if(h.data)try{const v=JSON.parse(h.data);t?.(v,h)}catch(v){console.warn("Failed to parse SSE chunk",v,h.data)}}}n?.()}catch(f){if(f instanceof DOMException&&f.name==="AbortError")return;const h=f instanceof Error?f:new Error(String(f));throw r?.(h),h}finally{l.releaseLock()}}async function Iu(){return bt(dt("/api/presets/"))}async function Z0(e){return bt(dt("/api/presets/"),{method:"POST",body:JSON.stringify(e)})}async function Y0(e,t){const n=`/api/presets/${encodeURIComponent(e)}`;return bt(dt(n),{method:"PUT",body:JSON.stringify(t??{})})}async function J0(e){const t=`/api/presets/${encodeURIComponent(e)}`;return bt(dt(t),{method:"DELETE"})}async function X0(e){const t=`/api/presets/${encodeURIComponent(e)}/apply`;return bt(dt(t),{method:"POST",body:JSON.stringify({})})}async function Q0(e){const t=`/api/presets/${encodeURIComponent(e)}/set-default`;return bt(dt(t),{method:"POST",body:JSON.stringify({})})}async function ep(){return bt(dt("/api/presets/default"))}const gc=[{key:"total_cost",label:"Total cost"},{key:"created_at",label:"Created"},{key:"model",label:"Model"},{key:"origin",label:"Origin"},{key:"usage",label:"Usage"},{key:"is_byok",label:"Self-hosted"},{key:"cache_discount",label:"Cache discount"},{key:"upstream_inference_cost",label:"Upstream inference cost"},{key:"cancelled",label:"Cancelled"},{key:"provider_name",label:"Provider"},{key:"latency",label:"Latency (ms)"},{key:"moderation_latency",label:"Moderation latency (ms)"},{key:"generation_time",label:"Generation time (ms)"},{key:"finish_reason",label:"Finish reason"},{key:"native_finish_reason",label:"Native finish reason"},{key:"tokens_prompt",label:"Prompt tokens"},{key:"tokens_completion",label:"Completion tokens"},{key:"native_tokens_prompt",label:"Native prompt tokens"},{key:"native_tokens_completion",label:"Native completion tokens"},{key:"native_tokens_reasoning",label:"Native reasoning tokens"},{key:"num_media_prompt",label:"Prompt media"},{key:"num_media_completion",label:"Completion media"},{key:"num_search_results",label:"Search results"}];function Ai(e){if(e==null||e==="")return{text:"â",isMultiline:!1};if(typeof e=="boolean")return{text:e?"Yes":"No",isMultiline:!1};if(typeof e=="number")return{text:Number.isFinite(e)?e.toString():String(e),isMultiline:!1};if(typeof e=="object")try{const n=JSON.stringify(e,null,2);return{text:n,isMultiline:n.includes(`
`)}}catch(n){console.warn("Failed to stringify generation detail value",n,e);const r=String(e);return{text:r,isMultiline:r.includes(`
`)}}const t=String(e);return{text:t,isMultiline:t.includes(`
`)}}const tp="modulepreload",np=function(e){return"/"+e},Ci={},Di=function(t,n,r){let u=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=s?.nonce||s?.getAttribute("nonce");u=l(n.map(c=>{if(c=np(c),c in Ci)return;Ci[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":tp,d||(h.as="script"),h.crossOrigin="",h.href=c,i&&h.setAttribute("nonce",i),document.head.appendChild(h),d)return new Promise((v,p)=>{h.addEventListener("load",v),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return u.then(s=>{for(const i of s||[])i.status==="rejected"&&a(i.reason);return t().catch(a)})},Ti={enabled:!1,engine:null,maxResults:5,searchPrompt:"",contextSize:null};function Fi(e,t){const n={...t};if(Object.prototype.hasOwnProperty.call(e,"enabled")&&(n.enabled=!!e.enabled),Object.prototype.hasOwnProperty.call(e,"engine")){const r=e.engine;n.engine=r==="native"||r==="exa"?r:null}if(Object.prototype.hasOwnProperty.call(e,"maxResults")){const r=e.maxResults;if(r==null)n.maxResults=null;else{const u=Number(r);Number.isFinite(u)&&u>0?n.maxResults=Math.min(Math.round(u),25):n.maxResults=t.maxResults}}if(Object.prototype.hasOwnProperty.call(e,"searchPrompt")){const r=e.searchPrompt;n.searchPrompt=typeof r=="string"?r:t.searchPrompt}if(Object.prototype.hasOwnProperty.call(e,"contextSize")){const r=e.contextSize;n.contextSize=r==="low"||r==="medium"||r==="high"?r:null}return n}function rp(e=Ti){const t=kt({...e});function n(s){t.update(i=>Fi(s,i))}function r(s){t.update(i=>Fi({enabled:s},i))}function u(){t.set({...Ti})}const a=Ft(t,s=>s.enabled);return{subscribe:t.subscribe,get current(){return at(t)},update:n,setEnabled:r,reset:u,isEnabled:a}}const bc=rp(),up=[{label:"GPT",keywords:["gpt","openai","o1","o3"]},{label:"Claude",keywords:["claude"]},{label:"Gemini",keywords:["gemini","palm-2","palm2"]},{label:"Grok",keywords:["grok"]},{label:"Cohere",keywords:["cohere","command"]},{label:"Nova",keywords:["nova"]},{label:"Qwen",keywords:["qwen"]},{label:"Yi",keywords:["yi"]},{label:"DeepSeek",keywords:["deepseek"]},{label:"Mistral",keywords:["mistral","mixtral"]},{label:"Llama4",keywords:["llama-4"]},{label:"Llama3",keywords:["llama-3"]},{label:"Llama2",keywords:["llama-2"]},{label:"RWKV",keywords:["rwkv"]},{label:"Router",keywords:["router"]},{label:"Media",keywords:["media"]},{label:"Other",keywords:[]}];function _c(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()){const t=Number(e);return Number.isFinite(t)?t:null}return null}function Ro(e){const t=[];if(Array.isArray(e)){for(const n of e)typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase());return t}if(typeof e=="string"&&e.trim())return e.split(/[,/]/).map(n=>n.trim().toLowerCase()).filter(Boolean);if(e&&typeof e=="object"){const n=Object.values(e);for(const r of n)t.push(...Ro(r))}return t}function $o(e){const t=new Set,{capabilities:n,tags:r}=e;if(n&&typeof n=="object"){const a=n;for(const s of["input_modalities","input","modalities","inputs"])u(a[s])}return u(e.input_modalities),u(r),Array.from(t);function u(a){for(const s of Ro(a))t.add(s)}}function zo(e){const t=new Set,{capabilities:n,tags:r}=e;if(n&&typeof n=="object"){const a=n;for(const i of["output_modalities","output","outputs"])u(a[i]);const s=a.modalities;s&&(u(s.output),u(s.outputs))}return u(e.output_modalities),u(r),Array.from(t);function u(a){for(const s of Ro(a))t.add(s)}}const yc=1e6,xc=6,ap=["prompt_price_per_million","input_price_per_million","input_token_price_per_million"],sp=["prompt_price","input_price","input_token_price"],op=["prompt","input","input_tokens","prompt_tokens"],ip=["completion_price_per_million","output_price_per_million","output_token_price_per_million"],lp=["completion_price","output_price","output_token_price"],cp=["completion","output","output_tokens","completion_tokens"];function kc(e,t){return e===null||!Number.isFinite(e)||e<0?null:e===0?0:Number(e.toFixed(t))}function Ec(e,t,n){return e===null||!Number.isFinite(e)||e<0?null:e===0?0:Number((e*t).toFixed(n))}function Va(e,t){for(const n of t){if(!(n in e))continue;const r=_c(e[n]);if(r!==null)return r}return null}function dp(e){const t=[],n=u=>{u&&typeof u=="object"&&t.push(u)};n(e.pricing),e.provider&&typeof e.provider=="object"&&n(e.provider.pricing);const r=e.top_provider;return r&&typeof r=="object"&&n(r.pricing),t}function fp(e,t,n,r,u){const a=Va(e,t),s=kc(a,u);if(s!==null)return s;const i=Va(e,n),l=Ec(i,r,u);return l!==null?l:null}function pp(e,t,n,r,u){if(!e)return null;const a=e,s=Va(a,t),i=kc(s,u);if(i!==null)return i;const l=Va(a,n),c=Ec(l,r,u);return c!==null?c:null}function wc(e,t,n,r,u,a){const i=fp(e,t,n,u,a);if(i!==null)return i;const l=[...r,...n];for(const c of dp(e)){const d=pp(c,t,l,u,a);if(d!==null)return d}return null}function Sc(e){return wc(e,ap,sp,op,yc,xc)}function hp(e){return wc(e,ip,lp,cp,yc,xc)}function Pa(e){return Sc(e)}function Zu(e){const t=[e.max_context,e.context_length,e.context_window,e.context_tokens,e.stats?.context_length];for(const n of t){const r=_c(n);if(r!==null)return r}return null}function mp(e){return e===null?"â":e===0?"FREE":e>=100?`$${e.toFixed(0)}`:e>=10?`$${e.toFixed(1)}`:e>=1?`$${e.toFixed(2)}`:e>=.1?`$${e.toFixed(2)}`:`$${e.toFixed(3)}`}function xa(e){return e===null?"Unknown":e>=1e3?`${(e/1e3).toFixed(1)}k tokens`:`${e} tokens`}function Ac(e){const t=e.provider;if(t&&typeof t=="object"){const r=t,u=r.display_name;if(typeof u=="string"&&u.trim())return u.trim();const a=r.name??r.id??r.slug;if(typeof a=="string"&&a.trim())return a.trim()}if(typeof e.provider=="string")return e.provider.trim()||null;const n=e.id?.split("/")??[];return n.length>=2?n[n.length-2]??null:null}function Cc(e){const t=new Set,n=[];typeof e.id=="string"&&n.push(e.id.toLowerCase()),typeof e.name=="string"&&n.push(e.name.toLowerCase()),Array.isArray(e.tags)&&n.push(...e.tags.map(u=>String(u).toLowerCase()));const r=n.join(" ");for(const u of up)u.label!=="Other"&&u.keywords.some(a=>r.includes(a))&&t.add(u.label);return t.size===0&&t.add("Other"),Array.from(t)}function Uo(e){const t=new Set,n=[],r=e;if(n.push(r.parameters,r.supported_parameters),e.capabilities&&typeof e.capabilities=="object"){const u=e.capabilities;n.push(u.parameters,u.supports_parameters)}for(const u of n)if(u){if(Array.isArray(u)){for(const a of u){const s=As(a);s&&t.add(s)}continue}if(typeof u=="object")for(const a of Object.keys(u)){const s=As(a);s&&t.add(s)}if(typeof u=="string"){const a=As(u);a&&t.add(a)}}return Array.from(t)}function Dc(e){const t=e,n=[t.is_moderated,t.moderation,t.requires_moderation],r=e.capabilities;r&&typeof r=="object"&&(n.push(r.is_moderated),n.push(r.requires_moderation));const u=e.provider;u&&typeof u=="object"&&n.push(u.is_moderated);const a=t.top_provider;a&&typeof a=="object"&&n.push(a.is_moderated);const s=t.metadata;s&&typeof s=="object"&&n.push(s.is_moderated);for(const i of n)if(typeof i=="boolean")return i?"moderated":"unmoderated";return null}function As(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t?t.replace(/[^a-z0-9_\-]/g,"_"):null}function ru(){return{include:[],exclude:[]}}function lo(){return{search:"",inputModalities:ru(),outputModalities:ru(),minContext:null,minPromptPrice:null,maxPromptPrice:null,sort:"newness",series:ru(),providers:ru(),supportedParameters:ru(),moderation:ru()}}const vp={inputModalities:[],outputModalities:[],minContext:null,maxContext:null,minPromptPrice:null,maxPromptPrice:null,series:[],providers:[],supportedParameters:[],moderation:[]},gp={models:[],loading:!1,error:null,filters:lo(),facets:{...vp}};function bp(e){const t=new Set,n=new Set;let r=null,u=null,a=null,s=null;const i=new Set,l=new Set,c=new Set,d=new Set;for(const f of e){for(const y of $o(f))t.add(y);for(const y of zo(f))n.add(y);const h=Zu(f);h!==null&&(r=r===null?h:Math.min(r,h),u=u===null?h:Math.max(u,h));const v=Pa(f);v!==null&&(a=a===null?v:Math.min(a,v),s=s===null?v:Math.max(s,v));for(const y of Cc(f))i.add(y);const p=Ac(f);p&&l.add(p);for(const y of Uo(f))c.add(y);const w=Dc(f);w&&d.add(w)}return{inputModalities:Array.from(t).sort(),outputModalities:Array.from(n).sort(),minContext:r,maxContext:u,minPromptPrice:a,maxPromptPrice:s,series:Array.from(i).sort(),providers:Array.from(l).sort(),supportedParameters:Array.from(c).sort(),moderation:Array.from(d).sort()}}function Bo(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t||null}function Cs(e){const t=[];for(const n of e){const r=Bo(n);r&&t.push(r)}return t}function _p(e,t){return e.include.includes(t)?"include":e.exclude.includes(t)?"exclude":"neutral"}function Tc(e,t,n){const r=e.include.filter(a=>a!==t),u=e.exclude.filter(a=>a!==t);return n==="include"?{include:[...r,t],exclude:u}:n==="exclude"?{include:r,exclude:[...u,t]}:{include:r,exclude:u}}function yp(e,t,n){const r=Bo(t);return r?Tc(e,r,n):e}function uu(e,t){const n=Cs(e.include),r=Cs(e.exclude);if(n.length===0&&r.length===0)return!0;const u=new Set(Cs(t));if(n.length>0){for(const a of n)if(!u.has(a))return!1}if(r.length>0){for(const a of r)if(u.has(a))return!1}return!0}function xp(e){const{models:t,filters:n}=e;if(!Array.isArray(t)||t.length===0)return[];const r=n.search.toLowerCase().split(/\s+/).filter(Boolean),u=t.filter(i=>{if(r.length>0){const h=[i.id,i.name,i.description,(i.tags??[]).join(" ")].join(" ").toLowerCase();if(!r.every(p=>h.includes(p)))return!1}if(!uu(n.inputModalities,$o(i))||!uu(n.outputModalities,zo(i)))return!1;const l=Zu(i);if(n.minContext!==null&&(l===null||l<n.minContext))return!1;const c=Pa(i);if(n.minPromptPrice!==null&&(c===null||c<n.minPromptPrice)||n.maxPromptPrice!==null&&(c===null||c>n.maxPromptPrice)||!uu(n.series,Cc(i)))return!1;const d=Ac(i);if(!uu(n.providers,d?[d]:[])||!uu(n.supportedParameters,Uo(i)))return!1;const f=Dc(i);return!!uu(n.moderation,f?[f]:[])}),a={newness:(i,l)=>{const c=Date.parse(i.created_at??"")||0;return(Date.parse(l.created_at??"")||0)-c},price:(i,l)=>{const c=Pa(i),d=Pa(l),f=c??Number.POSITIVE_INFINITY,h=d??Number.POSITIVE_INFINITY;return f===h?0:f<h?-1:1},context:(i,l)=>{const c=Zu(i),d=Zu(l),f=c??-1/0,h=d??-1/0;return f===h?0:h-f}},s=a[n.sort]??a.newness;return u.slice().sort(s)}function au(e,t){const n=Bo(t);if(!n)return e;const r=_p(e,n);return Tc(e,n,r==="include"?"exclude":r==="exclude"?"neutral":"include")}function kp(e,t,n,r){const u={...e};return u[t]=yp(e[t],n,r),u}function su(e){return e===null||Number.isNaN(e)||!Number.isFinite(e)||e<0?null:e}function xn(e){return e.include.length>0||e.exclude.length>0}function Ep(e){return!!(e.search.trim()||xn(e.inputModalities)||xn(e.outputModalities)||xn(e.series)||xn(e.providers)||xn(e.supportedParameters)||xn(e.moderation)||e.minContext!==null||e.minPromptPrice!==null||e.maxPromptPrice!==null)}function wp(e,t,n){if(!Array.isArray(e)||e.length===0)return[];if(!n||e.some(u=>u.id===n))return e;const r=t.find(u=>u.id===n);return r?[r,...e]:e}function Sp(e,t){return!Array.isArray(e)||e.length===0||!t?null:e.find(r=>r.id===t)??null}function Ap(){const e=kt({...gp});async function t(){e.update(F=>({...F,loading:!0,error:null}));try{const F=await F0(),I=Array.isArray(F.data)?F.data:[],K=bp(I);return e.update(N=>({...N,models:I,facets:K,loading:!1,error:null})),F}catch(F){const I=F instanceof Error?F.message:String(F);e.update(K=>({...K,loading:!1,error:I}))}}function n(F){e.update(I=>({...I,filters:{...I.filters,search:F}}))}function r(F){e.update(I=>({...I,filters:{...I.filters,inputModalities:au(I.filters.inputModalities,F)}}))}function u(F){e.update(I=>({...I,filters:{...I.filters,outputModalities:au(I.filters.outputModalities,F)}}))}function a(F){e.update(I=>({...I,filters:{...I.filters,series:au(I.filters.series,F)}}))}function s(F){e.update(I=>({...I,filters:{...I.filters,providers:au(I.filters.providers,F)}}))}function i(F){e.update(I=>({...I,filters:{...I.filters,supportedParameters:au(I.filters.supportedParameters,F)}}))}function l(F){e.update(I=>({...I,filters:{...I.filters,moderation:au(I.filters.moderation,F)}}))}function c(F,I,K){e.update(N=>({...N,filters:kp(N.filters,F,I,K)}))}function d(F){e.update(I=>({...I,filters:{...I.filters,minContext:su(F)}}))}function f(F){e.update(I=>({...I,filters:{...I.filters,minPromptPrice:su(F)}}))}function h(F){e.update(I=>({...I,filters:{...I.filters,maxPromptPrice:su(F)}}))}function v(F){e.update(I=>({...I,filters:{...I.filters,sort:F}}))}function p(){e.update(F=>{const I=lo();return I.sort=F.filters.sort,{...F,filters:I}})}function w(){const F=at(e).filters,I={};return xn(F.inputModalities)&&(I.inputModalities=F.inputModalities),xn(F.outputModalities)&&(I.outputModalities=F.outputModalities),F.minContext!==null&&(I.minContext=F.minContext),F.minPromptPrice!==null&&(I.minPromptPrice=F.minPromptPrice),F.maxPromptPrice!==null&&(I.maxPromptPrice=F.maxPromptPrice),xn(F.series)&&(I.series=F.series),xn(F.providers)&&(I.providers=F.providers),xn(F.supportedParameters)&&(I.supportedParameters=F.supportedParameters),xn(F.moderation)&&(I.moderation=F.moderation),I.sort=F.sort,I}function y(F){e.update(I=>{const K=lo();return K.search=I.filters.search,F.inputModalities&&(K.inputModalities=F.inputModalities),F.outputModalities&&(K.outputModalities=F.outputModalities),F.minContext!==void 0&&(K.minContext=su(F.minContext)),F.minPromptPrice!==void 0&&(K.minPromptPrice=su(F.minPromptPrice)),F.maxPromptPrice!==void 0&&(K.maxPromptPrice=su(F.maxPromptPrice)),F.series&&(K.series=F.series),F.providers&&(K.providers=F.providers),F.supportedParameters&&(K.supportedParameters=F.supportedParameters),F.moderation&&(K.moderation=F.moderation),F.sort&&(K.sort=F.sort),{...I,filters:K}})}const _=Ft(e,F=>F.models),A=Ft(e,F=>F.loading),E=Ft(e,F=>F.error),g=Ft(e,F=>F.filters),S=Ft(e,F=>F.facets),x=Ft(e,F=>xp(F)),T=Ft(e,F=>Ep(F.filters)),R=Ft([x,_,T],([F,I,K])=>{const N=K?F:I;return Q=>wp(N,I,Q)}),z=Ft(_,F=>I=>Sp(F,I));return{subscribe:e.subscribe,loadModels:t,setSearch:n,toggleInputModality:r,toggleOutputModality:u,toggleSeries:a,toggleProvider:s,toggleSupportedParameter:i,toggleModeration:l,setSelectionState:c,setMinContext:d,setMinPromptPrice:f,setMaxPromptPrice:h,setSort:v,resetFilters:p,getFilters:w,setFilters:y,models:_,loading:A,error:E,filters:g,facets:S,filtered:x,activeFilters:T,selectable:R,activeFor:z}}const wr=Ap(),ka={loading:!1,saving:!1,applying:null,deleting:null,creating:!1,settingDefault:null,error:null,items:[],lastApplied:null,lastResult:null};function Cp(){const e=kt({...ka});async function t(){e.set({...ka,loading:!0});try{const c=await Iu();e.set({...ka,loading:!1,items:c})}catch(c){const d=c instanceof Error?c.message:"Failed to load presets.";e.set({...ka,loading:!1,error:d})}}async function n(c){const d={name:c.trim(),model_filters:wr.getFilters()};if(!d.name)return e.update(f=>({...f,error:"Preset name is required."})),null;e.update(f=>({...f,creating:!0,error:null,lastResult:null}));try{const f=await Z0(d),h=await Iu();return e.update(v=>({...v,creating:!1,error:null,items:h,lastResult:f})),f}catch(f){const h=f instanceof Error?f.message:"Failed to create preset.";return e.update(v=>({...v,creating:!1,error:h})),null}}async function r(c,d){e.update(f=>({...f,saving:!0,error:null,lastResult:null}));try{const f={...d,model_filters:wr.getFilters()},h=await Y0(c,f),v=await Iu();return e.update(p=>({...p,saving:!1,error:null,items:v,lastResult:h})),h}catch(f){const h=f instanceof Error?f.message:"Failed to save snapshot.";return e.update(v=>({...v,saving:!1,error:h})),null}}async function u(c){e.update(d=>({...d,deleting:c,error:null}));try{const d=await J0(c),f=await Iu();return e.update(h=>({...h,deleting:null,items:f})),!!d?.deleted}catch(d){const f=d instanceof Error?d.message:"Failed to delete preset.";return e.update(h=>({...h,deleting:null,error:f})),!1}}async function a(c){e.update(d=>({...d,applying:c,error:null,lastApplied:null,lastResult:null}));try{const d=await X0(c);return d?.model_filters&&wr.setFilters(d.model_filters),e.update(f=>({...f,applying:null,lastApplied:c,lastResult:d})),d}catch(d){const f=d instanceof Error?d.message:"Failed to apply preset.";return e.update(h=>({...h,applying:null,error:f})),null}}async function s(c){e.update(d=>({...d,settingDefault:c,error:null}));try{const d=await Q0(c),f=await Iu();return e.update(h=>({...h,settingDefault:null,items:f,lastResult:d})),d}catch(d){const f=d instanceof Error?d.message:"Failed to set default preset.";return e.update(h=>({...h,settingDefault:null,error:f})),null}}async function i(){try{return await ep()}catch(c){return console.error("Failed to load default preset:",c),null}}function l(){e.update(c=>({...c,error:null}))}return{subscribe:e.subscribe,load:t,create:n,saveSnapshot:r,remove:u,apply:a,setDefault:s,loadDefault:i,clearError:l}}const Pn=Cp();var Dp=M('<div class="model-picker-loading svelte-1vc4gmw" aria-hidden="true"><select disabled><option>Loadingâ¦</option></select></div>'),Tp=M('<div class="web-search-loading svelte-1vc4gmw" aria-hidden="true"><button class="btn btn-ghost btn-small web-search-summary" type="button" disabled><span>Web search</span> <span class="status svelte-1vc4gmw"> </span></button></div>'),Fp=M('<button class="preset-badge applying svelte-1vc4gmw" type="button" aria-live="polite"><span class="spinner svelte-1vc4gmw" aria-hidden="true"></span> <span class="label svelte-1vc4gmw">Preset</span> <span class="name svelte-1vc4gmw"> </span></button>'),Mp=M('<button class="preset-badge svelte-1vc4gmw" type="button" aria-live="polite"><span class="dot svelte-1vc4gmw" aria-hidden="true"></span> <span class="label svelte-1vc4gmw">Preset</span> <span class="name svelte-1vc4gmw"> </span></button>'),Pp=M('<header class="topbar chat-header svelte-1vc4gmw"><div class="topbar-content svelte-1vc4gmw"><div class="controls svelte-1vc4gmw"><button class="btn btn-ghost btn-small explorer svelte-1vc4gmw" type="button">Explorer</button> <!> <!> <button class="btn btn-ghost btn-small svelte-1vc4gmw" type="button" aria-label="Model settings" title="Model settings"><span>Model</span> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.89 3.31.876 2.42 2.42a1.724 1.724 0 0 0 1.066 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.572c.89 1.543-.876 3.31-2.42 2.42a1.724 1.724 0 0 0-2.572 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.89-3.31-.876-2.42-2.42a1.724 1.724 0 0 0-1.066-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.572c-.89-1.543.876-3.31 2.42-2.42.965.557 2.185.21 2.573-1.066Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <button class="btn btn-ghost btn-small svelte-1vc4gmw" type="button" aria-label="Presets" title="Presets"><span>Presets</span></button> <!> <button class="btn btn-ghost btn-small system-settings svelte-1vc4gmw" type="button" aria-label="System settings" title="System settings"><span>System</span> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.89 3.31.876 2.42 2.42a1.724 1.724 0 0 0 1.066 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.572c.89 1.543-.876 3.31-2.42 2.42a1.724 1.724 0 0 0-2.572 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.89-3.31-.876-2.42-2.42a1.724 1.724 0 0 0-1.066-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.572c-.89-1.543.876-3.31 2.42-2.42.965.557 2.185.21 2.573-1.066Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <button class="btn btn-ghost btn-small svelte-1vc4gmw" type="button" aria-label="Speech settings" title="Speech settings"><span>Speech</span> <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.89 3.31.876 2.42 2.42a1.724 1.724 0 0 0 1.066 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.572c.89 1.543-.876 3.31-2.42 2.42a1.724 1.724 0 0 0-2.572 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.89-3.31-.876-2.42-2.42a1.724 1.724 0 0 0-1.066-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.572c-.89-1.543.876-3.31 2.42-2.42.965.557 2.185.21 2.573-1.066Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <button class="btn btn-ghost btn-small kiosk-btn svelte-1vc4gmw" type="button" aria-label="Kiosk settings" title="Kiosk settings"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect x="4" y="2" width="16" height="12" rx="1.5" stroke="currentColor" stroke-width="1.5"></rect><path d="M12 14v4M8 22h8M8 18h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button> <button class="btn btn-ghost btn-small svelte-1vc4gmw" type="button">Clear</button></div></div></header>');function Ip(e,t){Qe(t,!1);const n=()=>Xe(bc,"$webSearchStore",u),r=()=>Xe(Pn,"$presetsStore",u),[u,a]=Gn(),s=Et();let i=ne(t,"selectableModels",24,()=>[]),l=ne(t,"selectedModel",8,""),c=ne(t,"modelsLoading",8,!1),d=ne(t,"modelsError",8,null),f=ne(t,"hasMessages",8,!1),h=U(null),v=U(null),p=U(!1),w=U(!1);async function y(){if(!o(h)){D(p,!0);try{const Z=await Di(()=>import("./ModelPicker-JKtmtRjt.js"),__vite__mapDeps([0,1]));D(h,Z.default)}catch(Z){console.error("Failed to load ModelPicker",Z)}finally{D(p,!1)}}}async function _(){if(!o(v)){D(w,!0);try{const Z=await Di(()=>import("./WebSearchMenu-BL7jSOF3.js"),__vite__mapDeps([2,3]));D(v,Z.default)}catch(Z){console.error("Failed to load WebSearchMenu",Z)}finally{D(w,!1)}}}da(()=>{y(),_()});function A(){s("openExplorer")}function E(){s("clear")}function g(Z){s("modelChange",Z.detail)}function S(){s("openModelSettings")}function x(){s("openSystemSettings")}function T(){s("openSpeechSettings")}function R(){s("openKioskSettings")}function z(){s("openPresets")}rt();var F=Pp(),I=b(F),K=b(I),N=b(K),Q=C(N,2);{var q=Z=>{var B=Se(),ye=me(B);vi(ye,()=>o(h),(Me,Re)=>{Re(Me,{get selectableModels(){return i()},get selectedModel(){return l()},get modelsLoading(){return c()},get modelsError(){return d()},$$events:{modelChange:g}})}),k(Z,B)},ae=Z=>{var B=Dp();G(()=>oe(B,"data-loading",o(p))),k(Z,B)};$(Q,Z=>{o(h)?Z(q):Z(ae,!1)})}var ie=C(Q,2);{var Y=Z=>{var B=Se(),ye=me(B);vi(ye,()=>o(v),(Me,Re)=>{Re(Me,{})}),k(Z,B)},W=Z=>{var B=Tp(),ye=b(B),Me=C(b(ye),2),Re=b(Me);G(()=>{oe(B,"data-loading",o(w)),oe(Me,"data-enabled",(n(),m(()=>n().enabled))),X(Re,(n(),m(()=>n().enabled?"On":"Off")))}),k(Z,B)};$(ie,Z=>{o(v)?Z(Y):Z(W,!1)})}var O=C(ie,2),V=C(O,2),he=C(V,2);{var pe=Z=>{var B=Fp(),ye=C(b(B),4),Me=b(ye);G(()=>{oe(B,"title",(r(),m(()=>`Applying ${r().applying}â¦ (click to manage presets)`))),oe(ye,"title",(r(),m(()=>r().applying))),X(Me,(r(),m(()=>r().applying)))}),J("click",B,z),k(Z,B)},H=Z=>{var B=Se(),ye=me(B);{var Me=Re=>{var We=Mp(),Ae=C(b(We),4),tt=b(Ae);G(()=>{oe(We,"title",(r(),m(()=>`Active preset: ${r().lastApplied} (click to manage)`))),oe(Ae,"title",(r(),m(()=>r().lastApplied))),X(tt,(r(),m(()=>r().lastApplied)))}),J("click",We,z),k(Re,We)};$(ye,Re=>{r(),m(()=>r().lastApplied)&&Re(Me)},!0)}k(Z,B)};$(he,Z=>{r(),m(()=>r().applying)?Z(pe):Z(H,!1)})}var j=C(he,2),ce=C(j,2),ee=C(ce,2),De=C(ee,2);G(()=>{O.disabled=c()||!l(),De.disabled=!f()}),J("click",N,A),J("click",O,S),J("click",V,z),J("click",j,x),J("click",ce,T),J("click",ee,R),J("click",De,E),k(e,F),et(),a()}/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Np={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Op=No("<svg><!><!></svg>");function Zn(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]),r=Sn(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Qe(t,!1);let u=ne(t,"name",8,void 0),a=ne(t,"color",8,"currentColor"),s=ne(t,"size",8,24),i=ne(t,"strokeWidth",8,2),l=ne(t,"absoluteStrokeWidth",8,!1),c=ne(t,"iconNode",24,()=>[]);const d=(...p)=>p.filter((w,y,_)=>!!w&&_.indexOf(w)===y).join(" ");rt();var f=Op();_i(f,(p,w)=>({...Np,...r,width:s(),height:s(),stroke:a(),"stroke-width":p,class:w}),[()=>(L(l()),L(i()),L(s()),m(()=>l()?Number(i())*24/Number(s()):i())),()=>(L(u()),L(n),m(()=>d("lucide-icon","lucide",u()?`lucide-${u()}`:"",n.class)))]);var h=b(f);mt(h,1,c,jn,(p,w)=>{var y=Of(()=>Wd(o(w),2));let _=()=>o(y)[0],A=()=>o(y)[1];var E=Se(),g=me(E);p0(g,_,!0,(S,x)=>{_i(S,()=>({...A()}))}),k(p,E)});var v=C(h);Gt(v,t,"default",{}),k(e,f),et()}function Lp(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M12 18V5"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77"}]];Zn(e,Kn({name:"brain"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function Rp(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M5 21v-6"}],["path",{d:"M12 21V9"}],["path",{d:"M19 21V3"}]];Zn(e,Kn({name:"chart-no-axes-column-increasing"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function $p(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M20 6 9 17l-5-5"}]];Zn(e,Kn({name:"check"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function zp(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4"}],["path",{d:"M21 14H11"}],["path",{d:"m15 10-4 4 4 4"}]];Zn(e,Kn({name:"clipboard-copy"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function Up(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];Zn(e,Kn({name:"globe"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function Mi(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];Zn(e,Kn({name:"pencil"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function Bp(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]];Zn(e,Kn({name:"refresh-ccw"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function jp(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}],["path",{d:"m21.854 2.147-10.94 10.939"}]];Zn(e,Kn({name:"send"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function qp(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Zn(e,Kn({name:"trash-2"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function Hp(e,t){const n=Sn(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"}]];Zn(e,Kn({name:"wrench"},()=>n,{get iconNode(){return r},children:(u,a)=>{var s=Se(),i=me(s);Gt(i,t,"default",{}),k(u,s)},$$slots:{default:!0}}))}function Wp(e,t=null){let n=0,r=2;function u(c){if(typeof c=="number")r=Number.isFinite(c)&&c>0?c:2;else if(c&&typeof c=="object"&&"maxMultiplier"in c){const d=c.maxMultiplier;typeof d=="number"&&Number.isFinite(d)&&d>0&&(r=d)}}u(t);function a(){const c=e.style.height;if(e.style.height="auto",n=e.clientHeight||e.scrollHeight||0,e.style.height=c,!n){const d=getComputedStyle(e);n=parseFloat(d.lineHeight||"0")||24}}function s(){const c=Math.max(1,Math.round(n*r));e.style.height="auto";const d=e.scrollHeight,f=Math.min(d,c);e.style.height=`${f}px`,e.style.overflowY=d>c?"auto":"hidden",e.style.maxHeight=`${c}px`}function i(){s()}const l=requestAnimationFrame(()=>{a(),s()});return e.addEventListener("input",i),{update(c){u(c),a(),s()},destroy(){cancelAnimationFrame(l),e.removeEventListener("input",i),e.style.overflowY="",e.style.maxHeight=""}}}const jo="speech.settings.v1",Vp={fast:{label:"Fast speech",stt:{utteranceEndMs:1e3,endpointing:800,autoSubmitDelayMs:100}},normal:{label:"Normal speech",stt:{utteranceEndMs:1500,endpointing:1200,autoSubmitDelayMs:400}},slow:{label:"Slow speech",stt:{utteranceEndMs:2500,endpointing:2e3,autoSubmitDelayMs:800}}},Gp=[{value:"nova-3-general",label:"Nova-3 General"},{value:"nova-3-medical",label:"Nova-3 Medical"},{value:"nova-2-finance",label:"Nova-2 Finance"},{value:"nova-2-conversationalai",label:"Nova-2 Conversational AI"}],Kp={stt:{provider:"deepgram",model:"nova-3",interimResults:!0,vadEvents:!0,utteranceEndMs:1500,endpointing:1200,autoSubmit:!0,autoSubmitDelayMs:0,smartFormat:!0,punctuate:!0,numerals:!0,fillerWords:!1,profanityFilter:!1},updatedAt:null};function Zp(e){return JSON.parse(JSON.stringify(e))}function $r(){return Zp(Kp)}function Ds(e,t,n){return Math.min(Math.max(Math.round(e),t),n)}function hr(e,t){return typeof e=="boolean"?e:t}function Ts(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function co(e){const t=$r(),n={stt:{...t.stt},updatedAt:t.updatedAt};if(!e||typeof e!="object")return n;const r=e,u=r.stt??r.stt;if(u&&typeof u=="object"){const s=u,i=typeof s.model=="string"||typeof s.model=="string"?s.model:null,l=i?i.trim():"";n.stt.provider="deepgram",n.stt.model=l||t.stt.model,n.stt.interimResults=hr(s.interimResults??s.interim_results,t.stt.interimResults),n.stt.vadEvents=hr(s.vadEvents??s.vad_events,t.stt.vadEvents);const c=Ts(s.utteranceEndMs??s.utterance_end_ms);c!==null&&(n.stt.utteranceEndMs=Ds(c,500,5e3));const d=Ts(s.endpointing);d!==null&&(n.stt.endpointing=Ds(d,300,5e3)),n.stt.autoSubmit=hr(s.autoSubmit??s.auto_submit,t.stt.autoSubmit);const f=Ts(s.autoSubmitDelayMs??s.auto_submit_delay_ms);f!==null&&(n.stt.autoSubmitDelayMs=Ds(f,0,2e4)),n.stt.smartFormat=hr(s.smartFormat??s.smart_format,t.stt.smartFormat),n.stt.punctuate=hr(s.punctuate,t.stt.punctuate),n.stt.numerals=hr(s.numerals,t.stt.numerals),n.stt.fillerWords=hr(s.fillerWords??s.filler_words,t.stt.fillerWords),n.stt.profanityFilter=hr(s.profanityFilter??s.profanity_filter,t.stt.profanityFilter)}const a=r.updatedAt??r.updated_at;return n.updatedAt=typeof a=="string"&&a?a:null,n}function Pi(){if(typeof window>"u"||!window.localStorage)return $r();try{const e=window.localStorage.getItem(jo);if(!e)return $r();const t=JSON.parse(e);return co(t)}catch(e){return console.warn("Failed to read speech settings from storage",e),$r()}}function Yp(e){if(!(typeof window>"u"||!window.localStorage))try{window.localStorage.setItem(jo,JSON.stringify(e))}catch(t){console.warn("Failed to persist speech settings",t)}}function Jp(){const e=Pi(),t=kt(e);function n(s){const i=co(s),l={...i,stt:{...i.stt},updatedAt:new Date().toISOString()};return t.set(l),Yp(l),l}function r(s){const i=at(t),l={...i,stt:{...i.stt},updatedAt:i.updatedAt};return s.stt&&(l.stt={...l.stt,...s.stt}),s.updatedAt!==void 0&&(l.updatedAt=s.updatedAt),n(l)}function u(){return n($r())}function a(){const s=Pi();t.set(s)}return typeof window<"u"&&window.addEventListener("storage",s=>{if(s.key===jo)try{const i=s.newValue?JSON.parse(s.newValue):null,l=co(i);t.set(l)}catch(i){console.warn("Failed to synchronize speech settings from storage",i)}}),{subscribe:t.subscribe,save:n,update:r,reset:u,refresh:a,get current(){return at(t)}}}const Ga=Jp(),Xp={mode:"idle",recording:!1,connecting:!1,error:null,promptText:"",promptVersion:0,keepPromptSynced:!1,pendingSubmit:null},sn=kt({...Xp});let Ia=null,Ir=null,vr=null,Mr=0,Qn="",Na="",Oa=!1,La=null,Ra=null,fo=0;function cs(){Ra&&(clearTimeout(Ra),Ra=null),fo++}function Ka(e,t){sn.update(n=>({...n,promptText:e,promptVersion:n.promptVersion+1,keepPromptSynced:t?!0:n.keepPromptSynced}))}function Qp(){Qn="",Na="",Oa=!1}function po(){La&&(clearTimeout(La),La=null)}function e1(){if(vr)try{vr.close()}catch(e){console.warn("Failed to close Deepgram socket",e)}vr=null}function Fc(){if(Ir)try{Ir.stop()}catch{}if(Ir=null,Ia)try{Ia.getTracks().forEach(e=>e.stop())}catch{}Ia=null}function Nn(e={}){Fc(),e1(),po(),sn.update(t=>({...t,recording:!1,connecting:!1,keepPromptSynced:!1,pendingSubmit:e.submitText?{text:e.submitText}:null,mode:"idle"}))}function Nu(e){sn.update(t=>({...t,error:e,recording:!1,connecting:!1,keepPromptSynced:!1,mode:"idle"}))}function Ii(e){const t=e.trim(),n=Ga.current,r=n?.stt.autoSubmit??!0,u=Math.max(n?.stt.autoSubmitDelayMs??0,0);if(cs(),!t){Nn({submitText:null});return}if(r){if(u<=0){Nn({submitText:t});return}Nn(),Ka(t,!1);const a=++fo;Ra=setTimeout(()=>{a===fo&&sn.update(s=>({...s,pendingSubmit:{text:t}}))},u)}else Nn(),Ka(t,!1)}async function t1(e){const t=at(sn);(t.connecting||t.recording)&&Nn(),cs();const n=Ga.current;if(!n){Nu("Speech settings unavailable");return}const r=++Mr;Qp(),sn.set({...t,mode:e,connecting:!0,recording:!1,error:null,keepPromptSynced:!0,pendingSubmit:null});let u;try{if(u=(await M0()).access_token,!u)throw new Error("Missing Deepgram token")}catch(_){if(r!==Mr)return;Nn();const A=_ instanceof Error?_.message:"Failed to get Deepgram token";Nu(A);return}let a;try{a=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1})}catch(_){if(r!==Mr)return;Nn();const A=_ instanceof Error?_.message:"Microphone access denied";Nu(A);return}const i=["audio/ogg;codecs=opus","audio/webm;codecs=opus","audio/webm"].find(_=>{try{return MediaRecorder.isTypeSupported(_)}catch{return!1}}),l="opus",c=n.stt,d=Math.max(c.utteranceEndMs,500),f=Math.max(c.endpointing,300),v=`wss://api.deepgram.com/v1/listen?${new URLSearchParams({model:c.model,interim_results:String(c.interimResults!==!1),vad_events:String(c.vadEvents!==!1),smart_format:String(c.smartFormat!==!1),punctuate:String(c.punctuate!==!1),numerals:String(c.numerals!==!1),filler_words:String(c.fillerWords===!0),profanity_filter:String(c.profanityFilter===!0),utterance_end_ms:String(d),endpointing:String(f),encoding:l,no_delay:"false",multichannel:"false",alternatives:"1"}).toString()}`,w=u.includes(".")&&u.split(".").length>=3?["Bearer",u]:["token",u],y=new WebSocket(v,w);vr=y,Ia=a,y.addEventListener("open",()=>{if(r===Mr){sn.update(_=>({..._,connecting:!1,recording:!0,error:null,keepPromptSynced:!0}));try{Ir=new MediaRecorder(a,i?{mimeType:i}:void 0)}catch{Nu("MediaRecorder not supported"),Nn();return}Ir.addEventListener("dataavailable",async _=>{if(!(!_.data||_.data.size===0))try{const A=await _.data.arrayBuffer();vr&&vr.readyState===WebSocket.OPEN&&vr.send(A)}catch(A){console.warn("Failed to send audio chunk",A)}}),Ir.addEventListener("stop",()=>{try{vr?.send(new Uint8Array)}catch{}}),Ir.start(250)}}),y.addEventListener("message",_=>{if(r!==Mr||typeof _.data!="string")return;let A;try{A=JSON.parse(_.data)}catch{return}n1(A)}),y.addEventListener("error",_=>{console.warn("Deepgram socket error",_),r===Mr&&(Nu("Deepgram connection error"),Nn())}),y.addEventListener("close",()=>{r===Mr&&(Fc(),sn.update(_=>({..._,recording:!1,connecting:!1,keepPromptSynced:!1})))})}function n1(e,t,n){const r=e;if(r.type==="UtteranceEnd"){Oa||Ii(Qn||Na),po(),La=setTimeout(()=>{Oa=!1},1e3);return}if(r.type!=="Results")return;const s=(r.channel?.alternatives?.[0]?.transcript??"").trim();if(s){const c=Qn?`${Qn} ${s}`.trim():s;Na=c,Ka(c,!0)}r.is_final===!0&&s&&(Qn=Qn?`${Qn} ${s}`.trim():s,Ka(Qn,!0)),r.speech_final===!0&&(Oa=!0,po(),Ii(Qn||Na||s))}async function r1(){cs();const e=at(sn);if(e.mode==="dictation"&&(e.recording||e.connecting)){Nn(),sn.update(n=>({...n,mode:"idle",keepPromptSynced:!1}));return}sn.update(n=>({...n,mode:"dictation"})),await t1("dictation")}function Ni(){cs(),Nn(),sn.update(e=>({...e,mode:"idle"}))}function Oi(){const e=at(sn);if(!e.pendingSubmit)return null;const t=e.pendingSubmit;return sn.update(n=>({...n,pendingSubmit:null})),t}const Mc={subscribe:sn.subscribe};function Hu(e){return typeof e=="object"&&e!==null}function er(e){if(typeof e!="string")return;const t=e.trim();return t||void 0}function Li(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.trim();if(!t)return;const n=Number.parseInt(t,10);if(Number.isFinite(n))return n}}function pu(e){if(!Hu(e))return null;const t=er(e.url);if(!t)return null;const n={url:t},r=er(e.title)??er(e.name)??er(e.label);r&&(n.title=r);const u=er(e.content)??er(e.snippet)??er(e.text)??er(e.description);u&&(n.content=u);const a=Li(e.startIndex??e.start_index);a!==void 0&&(n.startIndex=a);const s=Li(e.endIndex??e.end_index);return s!==void 0&&(n.endIndex=s),n}function u1(e){const t=er(e.type),n=t?t.toLowerCase():null,r=[];"url_citation"in e&&r.push(e.url_citation),"urlCitation"in e&&r.push(e.urlCitation),"citation"in e&&r.push(e.citation),"payload"in e&&r.push(e.payload),"data"in e&&r.push(e.data);for(const u of r){const a=pu(u);if(a)return a}return n==="url_citation"||n==="url-citation"?pu(e):null}function ou(e,t,n){const r=`${n.url}|${n.startIndex??""}|${n.endIndex??""}`;t.has(r)||(t.add(r),e.push(n))}function a1(e){const t=[],n=new Set,r=/\[([^\]]+)\]\(([^)]+)\)/g;let u;for(;(u=r.exec(e))!==null;){const a=u[1].trim(),s=u[2].trim();s&&!n.has(s)&&(n.add(s),t.push({url:s,title:a||void 0,startIndex:u.index,endIndex:u.index+u[0].length}))}return t}function Nr(...e){const t=[],n=new Set,r=new WeakSet,u=[];function a(s){if(s!=null){if(Array.isArray(s)||Hu(s)){const i=s;if(r.has(i))return;r.add(i)}u.push(s)}}for(e.forEach(a);u.length>0;){const s=u.shift();if(s==null)continue;if(Array.isArray(s)){for(const c of s){if(c==null)continue;if(Array.isArray(c)||Hu(c)){a(c);continue}const d=pu(c);d&&ou(t,n,d)}continue}if(!Hu(s)){const c=pu(s);c&&ou(t,n,c);continue}const i=u1(s);if(i)ou(t,n,i);else{const c=pu(s);c&&ou(t,n,c)}a(s.meta),a(s.metadata),a(s.annotations),a(s.citations),a(s.url_citation),a(s.urlCitation),a(s.payload),a(s.data),a(s.message);const l=s.content??s.text;if(typeof l=="string"&&l.length>0){const c=a1(l);for(const d of c)ou(t,n,d)}for(const c of Object.values(s))if(c!=null)if(Array.isArray(c)||Hu(c))a(c);else{const d=pu(c);d&&ou(t,n,d)}}return t}function s1(e,t){const n=e.trim(),r=[];n&&r.push({type:"text",text:n});for(const u of t)r.push({type:"image_url",image_url:{url:u.deliveryUrl},metadata:{attachment_id:u.id,display_url:u.displayUrl,mime_type:u.mimeType,size_bytes:u.sizeBytes,filename:u.metadata?.filename,session_id:u.sessionId,uploaded_at:u.uploadedAt,expires_at:u.expiresAt}});return r.length===1&&r[0].type==="text"?r[0].text:r.length>0?r:""}function ho(e){if(typeof e=="string"){const u=e;return{parts:u?[{type:"text",text:u}]:[],text:u}}const t=[],n=[];for(const u of e){if(u?.type==="text"&&typeof u.text=="string"){const a=u.text;t.push({type:"text",text:a}),n.push(a);continue}if(u?.type==="image_url"&&"image_url"in u){const a=u.image_url;if(!a||typeof a.url!="string")continue;const s=u.metadata??{},i=typeof s.display_url=="string"&&s.display_url?s.display_url:a.url,l=typeof s.attachment_id=="string"&&s.attachment_id?s.attachment_id:void 0,c=typeof s.mime_type=="string"&&s.mime_type?s.mime_type:void 0,d=typeof s.size_bytes=="number"&&Number.isFinite(s.size_bytes)?Number(s.size_bytes):void 0,f=typeof s.filename=="string"&&s.filename?s.filename:void 0,h=typeof s.session_id=="string"&&s.session_id?s.session_id:void 0,v=typeof s.uploaded_at=="string"&&s.uploaded_at?s.uploaded_at:void 0,p=typeof s.expires_at=="string"&&s.expires_at?s.expires_at:null;t.push({type:"image",url:a.url,displayUrl:i,attachmentId:l,mimeType:c,sizeBytes:d,fileName:f,sessionId:h,uploadedAt:v,expiresAt:p,metadata:u.metadata??null})}}const r=n.join(`
`).trim();return{parts:t,text:r}}function Za(e){if(e==null)return[];if(Array.isArray(e))return e.flatMap(t=>Za(t));if(typeof e=="string")return e.length>0?[{text:e}]:[];if(typeof e=="object"){const t=e,n=t.text,r=t.type,u=[];if(typeof n=="string"&&n.length>0){const s={text:n};typeof r=="string"&&r.length>0&&(s.type=r),u.push(s)}const a=["segments","segment","messages","message","content","contents","parts","steps","items"];for(const s of a){const i=t[s];i!==void 0&&u.push(...Za(i))}return u}return[]}function o1(e){if(!e||typeof e!="object")return{segments:[],hasPayload:!1};const t=e.choices;if(!Array.isArray(t))return{segments:[],hasPayload:!1};const n=[];let r=!1;for(const u of t){if(!u||typeof u!="object")continue;const a=u.delta;if(!(!a||typeof a!="object")&&"reasoning"in a){r=!0;const s=a.reasoning;n.push(...Za(s))}}return{segments:n,hasPayload:r}}function i1(e,t){const n=t.filter(s=>s.text.length>0);if(n.length===0)return e??[];if(!e||e.length===0)return n;const r=e.map(s=>s.text).join(""),u=n.map(s=>s.text).join("");if(u.startsWith(r)){const s=u.slice(r.length);if(s.length===0)return e;const i=[...e],l=i.length-1,c=n[n.length-1];return i[l]={text:`${i[l].text}${s}`,type:c.type??i[l].type},i}const a=[...e];for(const s of n)a.some(l=>l.text===s.text&&l.type===s.type)||a.push(s);return a}function Ri(e){return e?.reduce((t,n)=>t+n.text.length,0)??0}async function l1(e,t={}){const{signal:n,onSession:r,onMessageDelta:u,onMetadata:a,onToolEvent:s,onDone:i,onError:l}=t,{onNotice:c}=t;await K0(e,{signal:n,onSession:r,onDone:i,onError:l,onNotice:c,onChunk(d,f){const h=f?.event??"message";if(h==="message"){const{text:v,fragments:p}=c1(d),{segments:w,hasPayload:y}=o1(d);if(!v&&p.length===0&&w.length===0&&!y)return;u?.({text:v,fragments:p,reasoningSegments:w,hasReasoningPayload:y,chunk:d});return}if(h==="metadata"&&f?.data){try{const v=JSON.parse(f.data);a?.(v)}catch(v){console.warn("Failed to parse metadata payload",v,f.data)}return}if(h==="tool"&&f?.data)try{const v=JSON.parse(f.data);s?.(v)}catch(v){console.warn("Failed to parse tool payload",v,f.data)}}})}function c1(e){const t=[],n=[],r=e.choices??[];for(const u of r){const a=u.delta??{},s=a.content;if(typeof s=="string")s&&t.push(s);else if(Array.isArray(s))for(const l of s)l&&typeof l=="object"&&n.push(l);const i=a.images;if(Array.isArray(i))for(const l of i)l&&typeof l=="object"&&n.push(l)}return{text:t.join(""),fragments:n}}const Fs={loading:!1,saving:!1,error:null,saveError:null,dirty:!1,data:null,lastSyncedModel:null,lastSavedAt:null,version:0};function d1(e){if(!e)return;const t={};for(const[n,r]of Object.entries(e))if(r!=null&&!(typeof r=="string"&&r.trim()==="")){if(Array.isArray(r)){if(r.length===0)continue;t[n]=r;continue}if(typeof r=="object"){if(Object.entries(r).length===0)continue;t[n]=r;continue}t[n]=r}return Object.keys(t).length>0?t:void 0}function f1(){const e=kt({...Fs});let t=0;async function n(){const l=at(e);if(!l.dirty||!l.data)return l.dirty&&e.update(h=>({...h,dirty:!1})),!0;const c=l.version,d={model:l.data.model,provider:l.data.provider??null};"supports_tools"in l.data&&(d.supports_tools=l.data.supports_tools===void 0?null:l.data.supports_tools);const f=d1(l.data.parameters);f?d.parameters=f:d.parameters=null,e.update(h=>({...h,saving:!0,saveError:null}));try{const h=await Si(d);return e.update(v=>{const p=Date.now();return v.version!==c?{...v,saving:!1,saveError:null,lastSavedAt:p,lastSyncedModel:h.model}:{...v,saving:!1,saveError:null,dirty:!1,data:h,lastSyncedModel:h.model,lastSavedAt:p}}),!0}catch(h){const v=h instanceof Error?h.message:"Failed to save model settings.";return e.update(p=>({...p,saving:!1,saveError:v})),!1}}async function r(l){const c=++t;e.set({...Fs,loading:!0});try{const d=await I0();let f=d;if(l&&d.model!==l&&(f=await Si({model:l,parameters:null,provider:null})),c!==t)return;e.set({loading:!1,saving:!1,error:null,saveError:null,dirty:!1,data:f,lastSyncedModel:f.model,lastSavedAt:Date.now(),version:0})}catch(d){if(c!==t)return;const f=d instanceof Error?d.message:"Failed to load model settings.";e.set({...Fs,error:f})}}function u(l,c){e.update(d=>{if(!d.data)return d;const f={...d.data.parameters??{}};c==null?delete f[l]:f[l]=c;const h={...d.data,parameters:Object.keys(f).length>0?f:null};return{...d,data:h,dirty:!0,saveError:null,version:d.version+1}})}function a(l){e.update(c=>{if(!c.data||c.data.model===l)return c;const d={...c.data,model:l};return{...c,data:d,dirty:!0,saveError:null,version:c.version+1}})}function s(){e.update(l=>{if(!l.data)return l;const c={...l.data,parameters:null};return{...l,data:c,dirty:!0,saveError:null,version:l.version+1}})}function i(){e.update(l=>({...l,error:null,saveError:null}))}return{subscribe:e.subscribe,load:r,updateParameter:u,setModel:a,resetToDefaults:s,clearErrors:i,flushSave:n}}const Dt=f1();function p1(e){return typeof e=="object"&&e!==null}const $i={messages:[],sessionId:null,isStreaming:!1,error:null,selectedModel:"openrouter/auto"};function Ou(e){let t=null;const n=typeof globalThis<"u"?globalThis.crypto:void 0;if(n?.randomUUID)try{t=n.randomUUID()}catch(r){console.warn("Failed to generate UUID via crypto.randomUUID",r)}if(!t&&n?.getRandomValues){const r=new Uint32Array(4);n.getRandomValues(r),t=Array.from(r,u=>u.toString(16).padStart(8,"0")).join("")}return t||(t=`${Date.now().toString(36)}${Math.random().toString(36).slice(2,12)}`),`${e}_${t.replace(/-/g,"")}`}function Pc(e,t){const n=[],r=new Set;for(const u of e){if(u.type!=="image")continue;const a=u.attachmentId??u.displayUrl??u.url;!a||r.has(a)||(r.add(a),n.push({id:u.attachmentId??a,sessionId:u.sessionId??t??"",mimeType:u.mimeType??"image/png",sizeBytes:u.sizeBytes??0,displayUrl:u.displayUrl||u.url,deliveryUrl:u.displayUrl||u.url,uploadedAt:u.uploadedAt??new Date().toISOString(),expiresAt:u.expiresAt??null,metadata:u.metadata??null}))}return n}function h1(e,t,n,r,u){if(!(Array.isArray(e)||r.length>0)){const d=`${(typeof e=="string"?e:t)??""}${n}`;return{content:d,text:d,attachments:[]}}const s=Array.isArray(e)?[...e]:[];if(!Array.isArray(e)){const c=typeof e=="string"?e:t;c&&s.push({type:"text",text:c})}if(r.length>0)s.push(...r);else if(n){const c=s[s.length-1];c&&c.type==="text"&&typeof c.text=="string"?c.text+=n:s.push({type:"text",text:n})}if(s.length===0){const d=`${(typeof e=="string"?e:t)??""}${n}`;return{content:d,text:d,attachments:[]}}const i=ho(s),l=Pc(i.parts,u);return{content:s,text:i.text,attachments:l}}function zi(e){const t=[],n=new Set,r=e.details?.serverMessageId;if(typeof r=="number"){const u=String(r);t.push(u),n.add(u)}return e.id&&!n.has(e.id)&&t.push(e.id),t}function m1(e,t,n,r,u){const a={model:e.selectedModel,session_id:e.sessionId??void 0,messages:[{role:"user",content:t,client_message_id:r}],metadata:{client_assistant_message_id:u,client_parent_message_id:r}};if(n.enabled){const s={id:"web"};n.engine&&(s.engine=n.engine),n.maxResults!==null&&n.maxResults!==void 0&&(s.max_results=n.maxResults);const i=n.searchPrompt.trim();i&&(s.search_prompt=i),a.plugins=[s],n.contextSize&&(a.web_search_options={search_context_size:n.contextSize})}return a}function v1(){const e=kt({...$i});let t=null;function n(...p){for(const w of p)if(typeof w=="string"&&w)return w;return null}async function r(p){const w=p.text??"",y=(p.attachments??[]).map(N=>({...N})),_=w.trim(),A=at(e);if(A.isStreaming&&t?.abort(),!_&&y.length===0)return;const E=Ou("user"),g=Ou("assistant"),S=s1(_,y),x=ho(S),T=y,R=bc.current,z=m1(A,S,R,E,g),F=new Date().toISOString();e.update(N=>({...N,messages:[...N.messages,{id:E,role:"user",content:S,text:x.text,attachments:T,createdAt:F,createdAtUtc:F},{id:g,role:"assistant",content:"",text:"",attachments:[],pending:!0,createdAt:null,createdAtUtc:null,details:R.enabled?{webSearchConfig:{engine:R.engine,maxResults:R.maxResults,contextSize:R.contextSize,searchPrompt:R.searchPrompt}}:void 0}],isStreaming:!0,error:null}));const I=new AbortController;t=I;const K=new Map;try{await l1(z,{signal:I.signal,onSession(N){e.update(Q=>({...Q,sessionId:N}))},onNotice(N){if(console.log("[NOTICE] Received notice:",N),!N||typeof N!="object"){console.warn("[NOTICE] Invalid payload:",N);return}const Q=N.type;console.log("[NOTICE] Notice type:",Q),console.log("[NOTICE] No handler for notice type:",Q)},onMessageDelta({text:N,fragments:Q,reasoningSegments:q,hasReasoningPayload:ae,chunk:ie}){e.update(Y=>{const W=Y.messages.map(O=>{if(O.id!==g)return O;const V=h1(O.content,O.text,N,Q,Y.sessionId),he=V.attachments.length>0?V.attachments:O.attachments,pe={...O,content:V.content,text:V.text,attachments:he??[]};if(q.length>0||ae){const j=O.details??{},ce={...j,reasoningStatus:"streaming"};q.length>0&&(ce.reasoning=i1(j.reasoning,q)),pe.details=ce}const H=ie?Nr(ie):[];if(H.length>0){let j=pe.details;j||(j=O.details?{...O.details}:{});const ce=Nr(j?.citations??null,H);ce.length>0&&(j.citations=ce,pe.details=j)}return pe});return{...Y,messages:W}})},onMetadata(N){e.update(Q=>{const q=Q.messages.map(ae=>{if(ae.id!==g)return ae;const ie=ae.details??{},Y=Za(N.reasoning),W=Y.length>0;let O=ie.reasoning;W&&(O=Ri(Y)>=Ri(ie.reasoning)?Y:ie.reasoning??Y);const V=W?ae.pending?"streaming":"complete":ie.reasoningStatus??null,he=typeof N.message_id=="number"?N.message_id:ie.serverMessageId??null;let pe=ie.meta??null,H=ie.citations??null;if(N.meta===null)pe=null,H=null;else if(p1(N.meta)){pe=N.meta;const ee=Nr(N.meta,N);ee.length>0&&(H=ee)}else{const ee=Nr(N);ee.length>0&&(H=ee)}const j=n(N.created_at,N.created_at_utc,ae.createdAt??null),ce=n(N.created_at_utc,ae.createdAtUtc??null);return{...ae,details:{...ie,model:typeof N.model=="string"?N.model:ie.model??null,finishReason:typeof N.finish_reason=="string"?N.finish_reason:ie.finishReason??null,reasoning:O,reasoningStatus:V,usage:N.usage&&typeof N.usage=="object"?N.usage:ie.usage??null,routing:N.routing&&typeof N.routing=="object"?N.routing:ie.routing??null,toolCalls:Array.isArray(N.tool_calls)?N.tool_calls:ie.toolCalls??null,generationId:typeof N.generation_id=="string"?N.generation_id:ie.generationId??null,serverMessageId:he,meta:pe,citations:H},createdAt:j,createdAtUtc:ce}});return{...Q,messages:q}})},onToolEvent(N){const Q=typeof N.call_id=="string"?N.call_id:Ou("tool"),q=typeof N.status=="string"?N.status:"started",ae=typeof N.name=="string"?N.name:"tool",ie=N.result,Y=typeof ie=="string"?ie:ie&&typeof ie=="object"?JSON.stringify(ie):null,W=typeof N.message_id=="number"?N.message_id:null,O=N.content,V=at(e);let he,pe,H=[];if(Array.isArray(O)){const ce=ho(O);H=Pc(ce.parts,V.sessionId),he=O,pe=ce.text}else q==="started"?(he=`Running ${ae}â¦`,pe=`Running ${ae}â¦`):(he=Y??`Tool ${ae} responded.`,pe=Y??`Tool ${ae} responded.`);let j=K.get(Q);if(j)e.update(ce=>{const ee=ce.messages.map(De=>{if(De.id!==j)return De;const Z={...De.details??{},toolName:ae,toolStatus:q,toolResult:Y??De.details?.toolResult??null,serverMessageId:W??De.details?.serverMessageId??null},B=n(N.created_at,N.created_at_utc,De.createdAt??null),ye=n(N.created_at_utc,De.createdAtUtc??null);return{...De,content:he,text:pe,attachments:H.length>0?H:De.attachments??[],pending:q==="started",details:Z,createdAt:B,createdAtUtc:ye??B??De.createdAtUtc??null}});return{...ce,messages:ee}});else{j=Ou("tool"),K.set(Q,j);const ce=new Date().toISOString(),ee=n(N.created_at,N.created_at_utc,ce),De=n(N.created_at_utc,ee??ce);e.update(Z=>({...Z,messages:[...Z.messages,{id:j,role:"tool",content:he,text:pe,attachments:H,pending:q==="started",details:{toolName:ae,toolStatus:q,toolResult:Y??null,serverMessageId:W},createdAt:ee,createdAtUtc:De}]}))}},onDone(){e.update(N=>{const Q=N.messages.map(q=>{if(q.id!==g)return q;const ae=q.details?{...q.details,reasoningStatus:q.details.reasoning?"complete":q.details.reasoningStatus??null}:void 0,ie=new Date().toISOString(),Y=q.createdAt??ie;return{...q,pending:!1,details:ae,createdAt:Y,createdAtUtc:q.createdAtUtc??Y}});return{...N,isStreaming:!1,messages:Q}})},onError(N){console.error("Chat stream error",N),e.update(Q=>({...Q,isStreaming:!1,error:N.message??"Unknown error",messages:Q.messages.filter(q=>q.id!==g&&!(q.role==="tool"&&q.pending))}))}})}catch(N){if(N instanceof DOMException&&N.name==="AbortError")return;const Q=N instanceof Error?N.message:String(N);e.update(q=>({...q,isStreaming:!1,error:Q,messages:q.messages.filter(ae=>ae.id!==g&&!(ae.role==="tool"&&ae.pending))}))}finally{t=null}}function u(){t&&(t.abort(),t=null,e.update(p=>{const w=p.messages.filter(y=>!(y.role==="assistant"&&y.pending&&!y.text||y.role==="tool"&&y.pending));return{...p,isStreaming:!1,messages:w}}))}function a(){t?.abort(),t=null,e.update(p=>({...$i,selectedModel:p.selectedModel}))}function s(p,w){const y=p.messages.findIndex(g=>g.id===w);if(y===-1)return p;const _=p.messages.slice(),A=[],[E]=_.splice(y,1);if(!E)return p;if(E.role==="assistant")for(A.push(E.id);y<_.length&&_[y].role==="tool";)_.splice(y,1);else if(E.role==="user")for(;y<_.length&&_[y].role!=="user"&&_[y].role!=="system";){const[g]=_.splice(y,1);g?.role==="assistant"&&g.id&&A.push(g.id)}return{...p,messages:_}}async function i(p,w){let y=null;const _=new Set;for(const A of w){if(A.role==="assistant"||A.role==="tool")continue;const E=zi(A);let g=!1;for(const S of E)if(!(!S||_.has(S))){_.add(S);try{await wi(p,S),g=!0;break}catch(x){if(x instanceof xu&&x.status===404)continue;y||(y=x instanceof Error?x.message:"Failed to delete previous message.");break}}}return y}async function l(p){const w=at(e);if(w.isStreaming)return;const y=w.messages.find(_=>_.id===p);if(y){if(w.sessionId){const _=zi(y);let A=null;for(const E of _)try{await wi(w.sessionId,E),A=null;break}catch(g){if(g instanceof xu&&g.status===404)continue;A=g instanceof Error?g.message:"Failed to delete message.";break}A&&e.update(E=>({...E,error:A}))}e.update(_=>s(_,p))}}async function c(p){const w=at(e),y=w.messages.findIndex(g=>g.id===p);if(y===-1)return;const _=w.messages[y];if(_.role!=="user")return;w.isStreaming&&(t?.abort(),t=null);const A=w.messages.slice(y),E=w.messages.slice(0,y);if(e.update(g=>({...g,messages:E,isStreaming:!1,error:null})),w.sessionId){const g=await i(w.sessionId,A);g&&e.update(S=>({...S,error:g}))}await r({text:_.text,attachments:(_.attachments??[]).map(g=>({...g}))})}async function d(p,w){const y=w.trim();if(!y)return;const _=at(e),A=_.messages.findIndex(x=>x.id===p);if(A===-1)return;const E=_.messages[A];if(E.role!=="user")return;_.isStreaming&&(t?.abort(),t=null);const g=_.messages.slice(A),S=_.messages.slice(0,A);if(e.update(x=>({...x,messages:S,isStreaming:!1,error:null})),_.sessionId){const x=await i(_.sessionId,g);x&&e.update(T=>({...T,error:x}))}await r({text:y,attachments:(E.attachments??[]).map(x=>({...x}))})}function f(){e.update(p=>({...p,error:null}))}function h(p){e.update(w=>({...w,selectedModel:p}));try{Dt.clearErrors(),Dt.load(p)}catch{}}function v(){const p=at(e);if(p.sessionId)return p.sessionId;const w=Ou("session");return e.update(y=>({...y,sessionId:w})),w}return{subscribe:e.subscribe,sendMessage:r,cancelStream:u,clearConversation:a,deleteMessage:l,retryMessage:c,editMessage:d,clearError:f,setModel:h,ensureSessionId:v}}const ea=v1();var g1=M('<span class="chip-status svelte-1ct3ltt">Uploadingâ¦</span>'),b1=M('<span class="chip-status svelte-1ct3ltt"> </span>'),_1=M('<div><img alt="Attachment preview" loading="lazy" class="svelte-1ct3ltt"/> <!> <!> <button type="button" class="remove-attachment svelte-1ct3ltt" aria-label="Remove image">Ã</button></div>'),y1=M('<div class="attachment-strip svelte-1ct3ltt"></div>'),x1=M('<div class="composer-error svelte-1ct3ltt" role="alert"> </div>'),k1=M('<div class="composer-error voice svelte-1ct3ltt" role="alert"> </div>'),E1=M('<button type="button" class="stop-inline svelte-1ct3ltt"><span aria-hidden="true" class="stop-indicator svelte-1ct3ltt"></span> Stop</button>'),w1=M('<form class="composer svelte-1ct3ltt"><div class="composer-content svelte-1ct3ltt"><!> <!> <!> <div class="input-shell svelte-1ct3ltt"><button type="button" class="icon-button leading svelte-1ct3ltt" aria-label="Attach image"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 2v14M2 9h14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button> <input class="sr-only svelte-1ct3ltt" type="file" accept="image/png,image/jpeg,image/webp,image/gif" multiple/> <textarea rows="1" class="svelte-1ct3ltt"></textarea> <div class="composer-actions svelte-1ct3ltt"><!> <button type="button" class="icon-button svelte-1ct3ltt" aria-label="Start dictation" title="Start dictation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 3a2 2 0 0 1 2 2v4a2 2 0 1 1-4 0V5a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.5"></path><path d="M5 8.5a4 4 0 0 0 8 0M9 12.5V15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button> <button type="submit" class="send-button svelte-1ct3ltt" title="Send message"><span class="send-label svelte-1ct3ltt">Send</span> <!></button></div></div></div></form>');function S1(e,t){Qe(t,!1);const n=()=>Xe(Mc,"$speechState",r),[r,u]=Gn(),a=U(),s=U(),i=U(),l=U(),c=U(),d=U(),f=U(),h=U();let v=ne(t,"prompt",12,""),p=ne(t,"isStreaming",8,!1),w=ne(t,"presetAttachments",24,()=>[]);const y=Et(),_=new Set(["image/png","image/jpeg","image/webp","image/gif"]),A=10*1024*1024,E=4;let g=U([]),S=U(null),x=U(null),T=U(null);function R(){return globalThis.crypto?.randomUUID?`attachment_${globalThis.crypto.randomUUID().replace(/-/g,"")}`:`attachment_${Date.now().toString(36)}${Math.random().toString(36).slice(2,10)}`}function z(te){if(!(!te||typeof te!="string")&&te.startsWith("blob:"))try{URL.revokeObjectURL(te)}catch{}}function F(te){if(W(),!te||te.length===0){D(S,null);return}const Ee=[];for(const ge of te){if(!ge)continue;const Te=ge.displayUrl??ge.deliveryUrl??null;Te&&Ee.push({id:ge.id??R(),file:null,previewUrl:Te,status:"ready",resource:{...ge,metadata:ge.metadata?{...ge.metadata}:null}})}D(g,Ee),D(S,null)}function I(){if(p())return;const te=v().trim();if(o(g).some($e=>$e.status==="uploading")){D(S,"Please wait for uploads to finish.");return}if(o(g).some($e=>$e.status==="error")){D(S,"Remove failed uploads before sending.");return}const Te=o(g).filter($e=>$e.status==="ready"&&$e.resource).map($e=>$e.resource);!te&&Te.length===0||(y("submit",{text:te,attachments:Te}),v(""),D(S,null),W())}function K(te){te.key==="Enter"&&!te.shiftKey&&(te.preventDefault(),I())}function N(){y("cancel")}function Q(){p()&&n().mode!=="dictation"||n().connecting&&!n().recording&&n().mode!=="dictation"||y("startDictation")}function q(){p()||(D(S,null),o(x)?.click())}function ae(te){const Ee=te.target,ge=Ee.files?Array.from(Ee.files):[];if(Ee.value="",!ge.length)return;const Te=E-o(g).length;if(Te<=0){D(S,`You can attach up to ${E} images.`);return}const $e=ea.ensureSessionId(),ue=ge.slice(0,Te);ge.length>Te&&D(S,`Only ${E} images allowed per message.`);for(const ve of ue){if(!_.has(ve.type)){D(S,"Unsupported image format.");continue}if(ve.size>A){D(S,"Images must be 10 MB or less.");continue}const xe=URL.createObjectURL(ve),we={id:R(),file:ve,previewUrl:xe,status:"uploading"};D(g,[...o(g),we]),ie(we,$e)}}async function ie(te,Ee){if(te.file)try{const{attachment:ge}=await V0(te.file,Ee);D(g,o(g).map(Te=>Te.id===te.id?{...Te,status:"ready",resource:ge}:Te))}catch(ge){const Te=ge instanceof Error?ge.message:"Failed to upload image.";D(g,o(g).map($e=>$e.id===te.id?{...$e,status:"error",error:Te}:$e))}}function Y(te){D(g,o(g).filter(Ee=>Ee.id===te?(z(Ee.previewUrl),!1):!0)),o(g).length||D(S,null)}function W(){o(g).forEach(te=>{z(te.previewUrl)}),D(g,[])}fa(()=>{W()}),fe(()=>L(v()),()=>{D(a,v().trim())}),fe(()=>o(g),()=>{D(s,o(g).some(te=>te.status==="uploading"))}),fe(()=>o(g),()=>{D(i,o(g).some(te=>te.status==="error"))}),fe(()=>o(g),()=>{D(l,o(g).some(te=>te.status==="ready"))}),fe(()=>(L(p()),o(s),o(i),o(a),o(l)),()=>{D(c,p()||o(s)||o(i)||!o(a)&&!o(l))}),fe(()=>(L(w()),o(T)),()=>{w()!==o(T)&&(F(w()),D(T,w()))}),fe(()=>n(),()=>{D(d,n().mode==="dictation"&&(n().recording||n().connecting))}),fe(()=>n(),()=>{D(f,n().connecting&&!n().recording)}),fe(()=>n(),()=>{D(h,n().error)}),At(),rt();var O=w1(),V=b(O),he=b(V);{var pe=te=>{var Ee=y1();mt(Ee,5,()=>o(g),ge=>ge.id,(ge,Te)=>{var $e=_1();let ue;var ve=b($e),xe=C(ve,2);{var we=Le=>{var Be=g1();k(Le,Be)};$(xe,Le=>{o(Te),m(()=>o(Te).status==="uploading")&&Le(we)})}var be=C(xe,2);{var Oe=Le=>{var Be=b1(),Ve=b(Be);G(()=>X(Ve,(o(Te),m(()=>o(Te).error??"Upload failed.")))),k(Le,Be)};$(be,Le=>{o(Te),m(()=>o(Te).status==="error")&&Le(Oe)})}var Ce=C(be,2);G(Le=>{ue=St($e,1,"attachment-chip svelte-1ct3ltt",null,ue,Le),oe(ve,"src",(o(Te),m(()=>o(Te).previewUrl??o(Te).resource?.displayUrl??o(Te).resource?.deliveryUrl??"")))},[()=>({uploading:o(Te).status==="uploading",error:o(Te).status==="error"})]),J("click",Ce,()=>Y(o(Te).id)),k(ge,$e)}),k(te,Ee)};$(he,te=>{o(g),m(()=>o(g).length)&&te(pe)})}var H=C(he,2);{var j=te=>{var Ee=x1(),ge=b(Ee);G(()=>X(ge,o(S))),k(te,Ee)};$(H,te=>{o(S)&&te(j)})}var ce=C(H,2);{var ee=te=>{var Ee=k1(),ge=b(Ee);G(()=>X(ge,o(h))),k(te,Ee)};$(ce,te=>{o(h)&&te(ee)})}var De=C(ce,2),Z=b(De),B=C(Z,2);Ar(B,te=>D(x,te),()=>o(x));var ye=C(B,2);jr(()=>rr(ye,v)),jr(()=>J("keydown",ye,K)),Wa(ye,(te,Ee)=>Wp?.(te,Ee),v);var Me=C(ye,2),Re=b(Me);{var We=te=>{var Ee=E1();J("click",Ee,N),k(te,Ee)};$(Re,te=>{p()&&te(We)})}var Ae=C(Re,2),tt=C(Ae,2),_e=C(b(tt),2);jp(_e,{size:16,"aria-hidden":"true","stroke-width":2}),G(()=>{Z.disabled=(L(p()),o(g),m(()=>p()||o(g).length>=E)),oe(ye,"placeholder",p()?"Waiting for responseâ¦":"Type hereâ¦"),oe(ye,"aria-disabled",p()),Ae.disabled=p()&&!o(d)||o(f)&&!o(d),oe(Ae,"aria-pressed",o(d)?"true":"false"),oe(Ae,"data-active",o(d)?"true":"false"),tt.disabled=o(c)}),J("click",Z,q),J("change",B,ae),J("click",Ae,Q),J("submit",O,Oo(I)),k(e,O),et(),u()}var A1=M('<div><button type="button" class="model-settings-backdrop"></button> <div role="dialog" aria-modal="true" tabindex="-1"><header class="model-settings-header"><div class="model-settings-heading"><!></div> <div class="model-settings-actions"><!> <button type="button" class="btn btn-ghost btn-small">Close</button></div></header> <section><!></section> <!></div></div>');function cr(e,t){Qe(t,!1);let n=ne(t,"open",8,!1),r=ne(t,"labelledBy",8,null),u=ne(t,"modalClass",8,""),a=ne(t,"bodyClass",8,""),s=ne(t,"layerClass",8,""),i=ne(t,"closeLabel",8,"Close modal"),l=ne(t,"closeOnBackdrop",8,!0),c=ne(t,"focusOnOpen",8,!0),d=ne(t,"closeDisabled",8,!1);const f=Et();let h=U(null),v=U(!1);function p(g){!l()||d()||g.target===g.currentTarget&&f("close")}function w(){d()||f("close")}function y(g){!n()||d()||g.key==="Escape"&&(g.preventDefault(),f("close"))}fe(()=>(L(n()),o(v),L(c()),o(h)),()=>{n()&&!o(v)?(D(v,!0),c()&&o(h)&&o(h).focus()):!n()&&o(v)&&D(v,!1)}),At(),rt();var _=Se();J("keydown",qa,y);var A=me(_);{var E=g=>{var S=A1(),x=b(S),T=C(x,2),R=b(T),z=b(R),F=b(z);Gt(F,t,"heading",{});var I=C(z,2),K=b(I);Gt(K,t,"actions",{});var N=C(K,2),Q=C(R,2),q=b(Q);Gt(q,t,"default",{});var ae=C(Q,2);Gt(ae,t,"footer",{}),Ar(T,ie=>D(h,ie),()=>o(h)),G((ie,Y,W)=>{St(S,1,ie),oe(x,"aria-label",i()),St(T,1,Y),oe(T,"aria-labelledby",r()||void 0),oe(N,"aria-label",i()),N.disabled=d(),St(Q,1,W)},[()=>Ma((L(s()),m(()=>`model-settings-layer ${s()}`.trim()))),()=>Ma((L(u()),m(()=>`model-settings-modal ${u()}`.trim()))),()=>Ma((L(a()),m(()=>`model-settings-body ${a()}`.trim())))]),J("click",x,p),J("click",N,w),k(g,S)};$(A,g=>{n()&&g(E)})}k(e,_),et()}var C1=M('<p class="status">Loadingâ¦</p>'),D1=M('<p class="status error"> </p>'),T1=M('<pre class="svelte-1uwhn5q"> </pre>'),F1=M('<div class="generation-detail-row svelte-1uwhn5q"><dt class="svelte-1uwhn5q"> </dt> <dd class="svelte-1uwhn5q"><!></dd></div>'),M1=M('<dl class="generation-modal-details svelte-1uwhn5q"></dl>'),P1=M('<p class="status">No details available.</p>'),I1=M('<p class="model-settings-subtitle"> </p>'),N1=M('<h2 id="generation-modal-title">Generation details</h2> <!>',1);function O1(e,t){Qe(t,!1);const n=Et();let r=ne(t,"open",8,!1),u=ne(t,"generationId",8,null),a=ne(t,"loading",8,!1),s=ne(t,"error",8,null),i=ne(t,"data",8,null),l=ne(t,"fields",8,gc),c=U([]);function d(){n("close")}fe(()=>(L(i()),L(l()),Ai),()=>{D(c,i()?l().map(p=>({field:p,display:Ai(i()?.[p.key])})):[])}),At(),rt();var f=Se(),h=me(f);{var v=p=>{cr(p,{get open(){return r()},labelledBy:"generation-modal-title",modalClass:"generation-modal",closeLabel:"Close generation details",$$events:{close:d},children:(w,y)=>{var _=Se(),A=me(_);{var E=S=>{var x=C1();k(S,x)},g=S=>{var x=Se(),T=me(x);{var R=F=>{var I=D1(),K=b(I);G(()=>X(K,s())),k(F,I)},z=F=>{var I=Se(),K=me(I);{var N=q=>{var ae=M1();mt(ae,5,()=>o(c),ie=>ie.field.key,(ie,Y)=>{var W=F1(),O=b(W),V=b(O),he=C(O,2),pe=b(he);{var H=ce=>{var ee=T1(),De=b(ee);G(()=>X(De,(o(Y),m(()=>o(Y).display.text)))),k(ce,ee)},j=ce=>{var ee=Ln();G(()=>X(ee,(o(Y),m(()=>o(Y).display.text)))),k(ce,ee)};$(pe,ce=>{o(Y),m(()=>o(Y).display.isMultiline)?ce(H):ce(j,!1)})}G(()=>X(V,(o(Y),m(()=>o(Y).field.label)))),k(ie,W)}),k(q,ae)},Q=q=>{var ae=P1();k(q,ae)};$(K,q=>{i()?q(N):q(Q,!1)},!0)}k(F,I)};$(T,F=>{s()?F(R):F(z,!1)},!0)}k(S,x)};$(A,S=>{a()?S(E):S(g,!1)})}k(w,_)},$$slots:{default:!0,heading:(w,y)=>{var _=N1(),A=C(me(_),2);{var E=g=>{var S=I1(),x=b(S);G(()=>X(x,`ID: ${u()??""}`)),k(g,S)};$(A,g=>{u()&&g(E)})}k(w,_)}}})};$(h,p=>{r()&&p(v)})}k(e,f),et()}var L1=M('<span class="editor-status svelte-hszu4t">Updated</span>'),R1=M('<form class="message-editor svelte-hszu4t"><div class="editor-shell svelte-hszu4t"><div class="editor-header svelte-hszu4t"><span>Edit message</span> <!></div> <textarea rows="3" placeholder="Update your message..." class="svelte-hszu4t"></textarea> <div class="editor-actions svelte-hszu4t"><button type="button" class="button secondary svelte-hszu4t">Cancel</button> <button type="submit" class="button primary svelte-hszu4t"><!></button></div></div></form>');function $1(e,t){Qe(t,!1);const n=U(),r=U(),u=U();let a=ne(t,"value",12,""),s=ne(t,"originalValue",8,""),i=ne(t,"saving",8,!1),l=ne(t,"disabled",8,!1);const c=Et();let d=U(null);da(()=>{o(d)&&(o(d).focus(),o(d).setSelectionRange(0,o(d).value.length))});function f(){o(r)&&c("submit",{text:o(n)})}function h(){i()||c("cancel")}function v(F){F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),f())}fe(()=>L(a()),()=>{D(n,a().trim())}),fe(()=>(o(n),L(i()),L(l())),()=>{D(r,!!o(n)&&!i()&&!l())}),fe(()=>(o(n),L(s())),()=>{D(u,o(n)!==s().trim())}),At(),rt();var p=R1(),w=b(p),y=b(w),_=C(b(y),2);{var A=F=>{var I=L1();k(F,I)};$(_,F=>{o(u)&&F(A)})}var E=C(y,2);Ar(E,F=>D(d,F),()=>o(d));var g=C(E,2),S=b(g),x=C(S,2),T=b(x);{var R=F=>{var I=Ln("Sendingâ¦");k(F,I)},z=F=>{var I=Ln("Save & Send");k(F,I)};$(T,F=>{i()?F(R):F(z,!1)})}G(()=>{E.disabled=i()||l(),S.disabled=i(),x.disabled=!o(r)}),rr(E,a),J("keydown",E,v),J("click",S,h),J("submit",p,Oo(f)),k(e,p),et()}const Ui={open:!1,messageId:null,citations:[]};function Ic(){const{subscribe:e,set:t,update:n}=kt(Ui);function r(a,s){t({open:!0,messageId:a,citations:s})}function u(){t(Ui)}return{subscribe:e,openWithCitations:r,close:u}}Ic();const Ms={open:!1,messageId:null,segments:[],status:null};function z1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const r=e[n],u=t[n];if(r.text!==u.text||r.type!==u.type)return!1}return!0}function U1(){const{subscribe:e,set:t,update:n}=kt(Ms);function r(i,l,c){t({open:!0,messageId:i,segments:l??[],status:c??null})}function u(i){r(i.id,i.details?.reasoning,i.details?.reasoningStatus)}function a(){t(Ms)}function s(i){n(l=>{if(!l.open||!l.messageId)return l;const c=i.find(h=>h.id===l.messageId);if(!c)return Ms;const d=c.details?.reasoning??[],f=c.details?.reasoningStatus??null;return z1(d,l.segments)&&f===l.status?l:{...l,segments:d,status:f}})}return{subscribe:e,openWithDetails:r,openForMessage:u,close:a,syncFromMessages:s}}const Nc="tool",B1=["prompt_tokens","input_tokens","prompt","input","promptTokens","inputTokens"],j1=["completion_tokens","output_tokens","completion","output","completionTokens","outputTokens"],q1=["total_tokens","total","totalTokens"];function H1(e,t=Nc){const n=[],r={},u={};for(let a=0;a<e.length;a+=1){const s=e[a];if(u[s.id]=a,s.role==="assistant"){const i=s.details?.toolCalls,l=Array.isArray(i)&&i.length>0;let c=0,d=a+1;for(;Oc(e[d],t);)c+=1,d+=1;const f=l?i.length:0,h=Math.max(f,c),v=h>0,p=W1(s.details?.usage);r[s.id]={used:v,count:h,tokens:p}}s.role!==t&&n.push(s)}return{visibleMessages:n,assistantToolUsage:r,messageIndexMap:u}}function Bi(e,t,n,r=Nc){const u=t[n];if(typeof u!="number")return[];const a=e[u];if(!a||a.role!=="assistant")return[];const s=[],i=Array.isArray(a.details?.toolCalls)?a.details?.toolCalls:[];let l=u+1;for(;Oc(e[l],r);){const c=e[l],d=c.details??{},f=i[s.length],v=(typeof d?.toolName=="string"?d.toolName:null)??Ps(f)??"Tool",p=typeof d?.toolStatus=="string"?d.toolStatus:null,w=typeof d?.toolResult=="string"?d.toolResult:null,y=typeof c.content=="string"?c.content:null,_=w??y??Is(f),A=Ns(f);s.push({id:c.id,name:v,status:p,input:A,result:_}),l+=1}return s.length===0&&i.length>0?i.forEach((c,d)=>{s.push({id:`${a.id}-metadata-${d}`,name:Ps(c)??`Tool ${d+1}`,status:null,input:Ns(c),result:Is(c)})}):s.length>0&&i.length>0&&s.forEach((c,d)=>{const f=i[d];f&&((!c.name||c.name==="Tool")&&(c.name=Ps(f)??c.name),c.input||(c.input=Ns(f)),c.result||(c.result=Is(f)))}),s}function Oc(e,t){return e?.role===t}function Ps(e){if(!e)return null;const t=e.name;if(typeof t=="string"&&t.trim().length>0)return t;const n=e.function;if(n&&typeof n=="object"){const r=n.name;if(typeof r=="string"&&r.trim().length>0)return r}return null}function Is(e){if(!e)return null;const t=e.result;if(typeof t=="string")return t;if(t&&typeof t=="object")try{return JSON.stringify(t,null,2)}catch(r){console.warn("Failed to stringify tool result",r)}const n=e.function;if(n&&typeof n=="object"){const r=n.arguments;if(typeof r=="string")return r;if(r&&typeof r=="object")try{return JSON.stringify(r,null,2)}catch(u){console.warn("Failed to stringify tool arguments",u)}}return null}function Ns(e){if(!e)return null;const t=e.arguments,n=ji(t);if(n)return n;const r=e.function;if(r&&typeof r=="object"){const u=ji(r.arguments);if(u)return u}return null}function W1(e){if(!e||typeof e!="object")return null;const t=e,n=Os(t,B1),r=Os(t,j1);let u=Os(t,q1);return u==null&&(n!=null||r!=null)&&(u=(n??0)+(r??0)),n==null&&r==null&&u==null?null:{inputTokens:n,outputTokens:r,totalTokens:u}}function Os(e,t){for(const n of t){if(!(n in e))continue;const r=V1(e[n]);if(r!=null)return r}return null}function V1(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()){const t=Number(e);return Number.isFinite(t)?t:null}return null}function ji(e){if(typeof e=="string"){const t=e.trim();if(!t)return null;try{const n=JSON.parse(t);return typeof n=="string"?n:JSON.stringify(n,null,2)}catch{return t}}if(e&&typeof e=="object")try{return JSON.stringify(e,null,2)}catch(t){console.warn("Failed to stringify tool arguments",t,e)}return null}const qi={open:!1,messageId:null,tools:[]};function G1(){const{subscribe:e,set:t,update:n}=kt(qi);function r(i,l){t({open:!0,messageId:i,tools:l})}function u(i,l,c,d){const f=Bi(i,l,c,d);r(c,f)}function a(){t(qi)}function s(i,l,c){n(d=>{if(!d.open||!d.messageId)return d;const f=Bi(i,l,d.messageId,c);return f.length===d.tools.length&&f.every((v,p)=>{const w=d.tools[p];return w?.id===v.id&&w?.name===v.name&&w?.status===v.status&&w?.input===v.input&&w?.result===v.result})?d:{...d,tools:f}})}return{subscribe:e,openWithEntries:r,openForMessage:u,close:a,syncEntries:s}}const Hi={open:!1,messageId:null,details:null};function K1(){const{subscribe:e,set:t,update:n}=kt(Hi);function r(s,i){t({open:!0,messageId:s,details:i??{engine:null,maxResults:null,contextSize:null,searchPrompt:null}})}function u(s){const i=s.details?.webSearchConfig;if(i&&typeof i=="object"){const l={engine:i.engine??null,maxResults:i.maxResults??null,contextSize:i.contextSize??null,searchPrompt:i.searchPrompt??null};r(s.id,l)}else r(s.id,null)}function a(){t(Hi)}return{subscribe:e,openWithDetails:r,openForMessage:u,close:a}}var Z1=M('<p class="status svelte-15rpl30">No web citations found.</p>'),Y1=M('<h3 class="citations-modal-title svelte-15rpl30"> </h3>'),J1=M('<p class="citations-modal-content svelte-15rpl30"> </p>'),X1=M("<span> </span>"),Q1=M("<span> </span>"),eh=M('<div class="citations-modal-meta svelte-15rpl30"><!> <!></div>'),th=M('<li class="citations-modal-item svelte-15rpl30"><div class="citations-modal-header svelte-15rpl30"><span class="citations-modal-number svelte-15rpl30"></span> <a class="citations-modal-link svelte-15rpl30" target="_blank" rel="noreferrer">Visit source</a></div> <!> <div class="citations-modal-url svelte-15rpl30"> </div> <!> <!></li>'),nh=M('<ul class="citations-modal-list svelte-15rpl30"></ul>'),rh=M('<p class="model-settings-subtitle"> </p>'),uh=M('<h2 id="citations-modal-title">Web Citations</h2> <!>',1);function ah(e,t){Qe(t,!1);const n=Et();let r=ne(t,"open",8,!1),u=ne(t,"messageId",8,null),a=ne(t,"citations",24,()=>[]);function s(){n("close")}rt();var i=Se(),l=me(i);{var c=d=>{cr(d,{get open(){return r()},labelledBy:"citations-modal-title",modalClass:"citations-modal",bodyClass:"citations-modal-body",closeLabel:"Close web citations",$$events:{close:s},children:(f,h)=>{var v=Se(),p=me(v);{var w=_=>{var A=Z1();k(_,A)},y=_=>{var A=nh();mt(A,5,a,jn,(E,g,S)=>{var x=th(),T=b(x),R=b(T);R.textContent=`Citation ${S+1}`;var z=C(R,2),F=C(T,2);{var I=Y=>{var W=Y1(),O=b(W);G(()=>X(O,(o(g),m(()=>o(g).title)))),k(Y,W)};$(F,Y=>{o(g),m(()=>o(g).title)&&Y(I)})}var K=C(F,2),N=b(K),Q=C(K,2);{var q=Y=>{var W=J1(),O=b(W);G(()=>X(O,(o(g),m(()=>o(g).content)))),k(Y,W)};$(Q,Y=>{o(g),m(()=>o(g).content)&&Y(q)})}var ae=C(Q,2);{var ie=Y=>{var W=eh(),O=b(W);{var V=H=>{var j=X1(),ce=b(j);G(()=>X(ce,`Start: ${o(g),m(()=>o(g).startIndex)??""}`)),k(H,j)};$(O,H=>{o(g),m(()=>o(g).startIndex!==void 0)&&H(V)})}var he=C(O,2);{var pe=H=>{var j=Q1(),ce=b(j);G(()=>X(ce,`End: ${o(g),m(()=>o(g).endIndex)??""}`)),k(H,j)};$(he,H=>{o(g),m(()=>o(g).endIndex!==void 0)&&H(pe)})}k(Y,W)};$(ae,Y=>{o(g),m(()=>o(g).startIndex!==void 0||o(g).endIndex!==void 0)&&Y(ie)})}G(()=>{oe(z,"href",(o(g),m(()=>o(g).url))),X(N,(o(g),m(()=>o(g).url)))}),k(E,x)}),k(_,A)};$(p,_=>{L(a()),m(()=>a().length===0)?_(w):_(y,!1)})}k(f,v)},$$slots:{default:!0,heading:(f,h)=>{var v=uh(),p=C(me(v),2);{var w=y=>{var _=rh(),A=b(_);G(()=>X(A,`Message ID: ${u()??""}`)),k(y,_)};$(p,y=>{u()&&y(w)})}k(f,v)}}})};$(l,d=>{r()&&d(c)})}k(e,i),et()}const Wi='<svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>',sh='<svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"></path></svg>',oh=2e3,ih="copy-code-button",Vi="copy-code-block";function lh(e){e.classList.add(Vi);const t=document.createElement("button");t.type="button",t.className=ih,t.setAttribute("aria-label","Copy code"),t.setAttribute("title","Copy code"),t.innerHTML=Wi;let n=null;const r=async()=>{const a=e.querySelector("code")?.textContent??e.textContent??"";if(a){if(!navigator?.clipboard?.writeText){console.warn("Clipboard API unavailable; cannot copy code block");return}try{await navigator.clipboard.writeText(a)}catch(s){console.error("Failed to copy code block",s);return}n!==null&&window.clearTimeout(n),t.classList.add("copied"),t.setAttribute("aria-label","Code copied"),t.innerHTML=sh,n=window.setTimeout(()=>{e.isConnected&&(t.classList.remove("copied"),t.setAttribute("aria-label","Copy code"),t.innerHTML=Wi,n=null)},oh)}};return t.addEventListener("click",r),e.appendChild(t),{cleanup:()=>{t.removeEventListener("click",r),n!==null&&window.clearTimeout(n),t.remove(),e.classList.remove(Vi)}}}function Gi(e,t){e.querySelectorAll("pre").forEach(r=>{t.has(r)||t.set(r,lh(r))}),Array.from(t.keys()).forEach(r=>{if(!e.contains(r)){const u=t.get(r);u&&(u.cleanup(),t.delete(r))}})}function mo(e){const t=new Map,n=new MutationObserver(()=>{Gi(e,t)});return n.observe(e,{childList:!0,subtree:!0}),Gi(e,t),{destroy:()=>{n.disconnect(),Array.from(t.values()).forEach(r=>r.cleanup()),t.clear()}}}const Ki={};function ch(e){let t=Ki[e];if(t)return t;t=Ki[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);t.push(r)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}function ku(e,t){typeof t!="string"&&(t=ku.defaultChars);const n=ch(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(r){let u="";for(let a=0,s=r.length;a<s;a+=3){const i=parseInt(r.slice(a+1,a+3),16);if(i<128){u+=n[i];continue}if((i&224)===192&&a+3<s){const l=parseInt(r.slice(a+4,a+6),16);if((l&192)===128){const c=i<<6&1984|l&63;c<128?u+="ï¿½ï¿½":u+=String.fromCharCode(c),a+=3;continue}}if((i&240)===224&&a+6<s){const l=parseInt(r.slice(a+4,a+6),16),c=parseInt(r.slice(a+7,a+9),16);if((l&192)===128&&(c&192)===128){const d=i<<12&61440|l<<6&4032|c&63;d<2048||d>=55296&&d<=57343?u+="ï¿½ï¿½ï¿½":u+=String.fromCharCode(d),a+=6;continue}}if((i&248)===240&&a+9<s){const l=parseInt(r.slice(a+4,a+6),16),c=parseInt(r.slice(a+7,a+9),16),d=parseInt(r.slice(a+10,a+12),16);if((l&192)===128&&(c&192)===128&&(d&192)===128){let f=i<<18&1835008|l<<12&258048|c<<6&4032|d&63;f<65536||f>1114111?u+="ï¿½ï¿½ï¿½ï¿½":(f-=65536,u+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),a+=9;continue}}u+="ï¿½"}return u})}ku.defaultChars=";/?:@&=+$,#";ku.componentChars="";const Zi={};function dh(e){let t=Zi[e];if(t)return t;t=Zi[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?t.push(r):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function pa(e,t,n){typeof t!="string"&&(n=t,t=pa.defaultChars),typeof n>"u"&&(n=!0);const r=dh(t);let u="";for(let a=0,s=e.length;a<s;a++){const i=e.charCodeAt(a);if(n&&i===37&&a+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3))){u+=e.slice(a,a+3),a+=2;continue}if(i<128){u+=r[i];continue}if(i>=55296&&i<=57343){if(i>=55296&&i<=56319&&a+1<s){const l=e.charCodeAt(a+1);if(l>=56320&&l<=57343){u+=encodeURIComponent(e[a]+e[a+1]),a++;continue}}u+="%EF%BF%BD";continue}u+=encodeURIComponent(e[a])}return u}pa.defaultChars=";/?:@&=+$,-_.!~*'()#";pa.componentChars="-_.!~*'()";function qo(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Ya(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const fh=/^([a-z0-9.+-]+:)/i,ph=/:[0-9]*$/,hh=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,mh=["<",">",'"',"`"," ","\r",`
`,"	"],vh=["{","}","|","\\","^","`"].concat(mh),gh=["'"].concat(vh),Yi=["%","/","?",";","#"].concat(gh),Ji=["/","?","#"],bh=255,Xi=/^[+a-z0-9A-Z_-]{0,63}$/,_h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Qi={javascript:!0,"javascript:":!0},el={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Ho(e,t){if(e&&e instanceof Ya)return e;const n=new Ya;return n.parse(e,t),n}Ya.prototype.parse=function(e,t){let n,r,u,a=e;if(a=a.trim(),!t&&e.split("#").length===1){const c=hh.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let s=fh.exec(a);if(s&&(s=s[0],n=s.toLowerCase(),this.protocol=s,a=a.substr(s.length)),(t||s||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(u=a.substr(0,2)==="//",u&&!(s&&Qi[s])&&(a=a.substr(2),this.slashes=!0)),!Qi[s]&&(u||s&&!el[s])){let c=-1;for(let p=0;p<Ji.length;p++)r=a.indexOf(Ji[p]),r!==-1&&(c===-1||r<c)&&(c=r);let d,f;c===-1?f=a.lastIndexOf("@"):f=a.lastIndexOf("@",c),f!==-1&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=d),c=-1;for(let p=0;p<Yi.length;p++)r=a.indexOf(Yi[p]),r!==-1&&(c===-1||r<c)&&(c=r);c===-1&&(c=a.length),a[c-1]===":"&&c--;const h=a.slice(0,c);a=a.slice(c),this.parseHost(h),this.hostname=this.hostname||"";const v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v){const p=this.hostname.split(/\./);for(let w=0,y=p.length;w<y;w++){const _=p[w];if(_&&!_.match(Xi)){let A="";for(let E=0,g=_.length;E<g;E++)_.charCodeAt(E)>127?A+="x":A+=_[E];if(!A.match(Xi)){const E=p.slice(0,w),g=p.slice(w+1),S=_.match(_h);S&&(E.push(S[1]),g.unshift(S[2])),g.length&&(a=g.join(".")+a),this.hostname=E.join(".");break}}}}this.hostname.length>bh&&(this.hostname=""),v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const i=a.indexOf("#");i!==-1&&(this.hash=a.substr(i),a=a.slice(0,i));const l=a.indexOf("?");return l!==-1&&(this.search=a.substr(l),a=a.slice(0,l)),a&&(this.pathname=a),el[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Ya.prototype.parseHost=function(e){let t=ph.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const yh=Object.freeze(Object.defineProperty({__proto__:null,decode:ku,encode:pa,format:qo,parse:Ho},Symbol.toStringTag,{value:"Module"})),Lc=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Rc=/[\0-\x1F\x7F-\x9F]/,xh=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Wo=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,$c=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,zc=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,kh=Object.freeze(Object.defineProperty({__proto__:null,Any:Lc,Cc:Rc,Cf:xh,P:Wo,S:$c,Z:zc},Symbol.toStringTag,{value:"Module"})),Eh=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(e=>e.charCodeAt(0))),wh=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(e=>e.charCodeAt(0)));var Ls;const Sh=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Ah=(Ls=String.fromCodePoint)!==null&&Ls!==void 0?Ls:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function Ch(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=Sh.get(e))!==null&&t!==void 0?t:e}var Lt;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Lt||(Lt={}));const Dh=32;var yr;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(yr||(yr={}));function vo(e){return e>=Lt.ZERO&&e<=Lt.NINE}function Th(e){return e>=Lt.UPPER_A&&e<=Lt.UPPER_F||e>=Lt.LOWER_A&&e<=Lt.LOWER_F}function Fh(e){return e>=Lt.UPPER_A&&e<=Lt.UPPER_Z||e>=Lt.LOWER_A&&e<=Lt.LOWER_Z||vo(e)}function Mh(e){return e===Lt.EQUALS||Fh(e)}var It;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(It||(It={}));var gr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(gr||(gr={}));class Ph{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=It.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=gr.Strict}startEntity(t){this.decodeMode=t,this.state=It.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case It.EntityStart:return t.charCodeAt(n)===Lt.NUM?(this.state=It.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=It.NamedEntity,this.stateNamedEntity(t,n));case It.NumericStart:return this.stateNumericStart(t,n);case It.NumericDecimal:return this.stateNumericDecimal(t,n);case It.NumericHex:return this.stateNumericHex(t,n);case It.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Dh)===Lt.LOWER_X?(this.state=It.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=It.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,u){if(n!==r){const a=r-n;this.result=this.result*Math.pow(u,a)+parseInt(t.substr(n,a),u),this.consumed+=a}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const u=t.charCodeAt(n);if(vo(u)||Th(u))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(u,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const u=t.charCodeAt(n);if(vo(u))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(u,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Lt.SEMI)this.consumed+=1;else if(this.decodeMode===gr.Strict)return 0;return this.emitCodePoint(Ch(this.result),this.consumed),this.errors&&(t!==Lt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let u=r[this.treeIndex],a=(u&yr.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=Ih(r,u,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===gr.Attribute&&(a===0||Mh(s))?0:this.emitNotTerminatedNamedEntity();if(u=r[this.treeIndex],a=(u&yr.VALUE_LENGTH)>>14,a!==0){if(s===Lt.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==gr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,u=(r[n]&yr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,u,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:u}=this;return this.emitCodePoint(n===1?u[t]&~yr.VALUE_LENGTH:u[t+1],r),n===3&&this.emitCodePoint(u[t+2],r),r}end(){var t;switch(this.state){case It.NamedEntity:return this.result!==0&&(this.decodeMode!==gr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case It.NumericDecimal:return this.emitNumericEntity(0,2);case It.NumericHex:return this.emitNumericEntity(0,3);case It.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case It.EntityStart:return 0}}}function Uc(e){let t="";const n=new Ph(e,r=>t+=Ah(r));return function(u,a){let s=0,i=0;for(;(i=u.indexOf("&",i))>=0;){t+=u.slice(s,i),n.startEntity(a);const c=n.write(u,i+1);if(c<0){s=i+n.end();break}s=i+c,i=c===0?s+1:s}const l=t+u.slice(s);return t="",l}}function Ih(e,t,n,r){const u=(t&yr.BRANCH_LENGTH)>>7,a=t&yr.JUMP_TABLE;if(u===0)return a!==0&&r===a?n:-1;if(a){const l=r-a;return l<0||l>=u?-1:e[n+l]-1}let s=n,i=s+u-1;for(;s<=i;){const l=s+i>>>1,c=e[l];if(c<r)s=l+1;else if(c>r)i=l-1;else return e[l+u]}return-1}const Nh=Uc(Eh);Uc(wh);function Bc(e,t=gr.Legacy){return Nh(e,t)}function Oh(e){return Object.prototype.toString.call(e)}function Vo(e){return Oh(e)==="[object String]"}const Lh=Object.prototype.hasOwnProperty;function Rh(e,t){return Lh.call(e,t)}function ds(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function jc(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Go(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Ja(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const qc=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,$h=/&([a-z#][a-z0-9]{1,31});/gi,zh=new RegExp(qc.source+"|"+$h.source,"gi"),Uh=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Bh(e,t){if(t.charCodeAt(0)===35&&Uh.test(t)){const r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Go(r)?Ja(r):e}const n=Bc(e);return n!==e?n:e}function jh(e){return e.indexOf("\\")<0?e:e.replace(qc,"$1")}function Eu(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(zh,function(t,n,r){return n||Bh(t,r)})}const qh=/[&<>"]/,Hh=/[&<>"]/g,Wh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Vh(e){return Wh[e]}function Cr(e){return qh.test(e)?e.replace(Hh,Vh):e}const Gh=/[.?*+^$[\]\\(){}|-]/g;function Kh(e){return e.replace(Gh,"\\$&")}function pt(e){switch(e){case 9:case 32:return!0}return!1}function ta(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function na(e){return Wo.test(e)||$c.test(e)}function ra(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function fs(e){return e=e.trim().replace(/\s+/g," "),"áº".toLowerCase()==="á¹¾"&&(e=e.replace(/áº/g,"Ã")),e.toLowerCase().toUpperCase()}const Zh={mdurl:yh,ucmicro:kh},Yh=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:jc,assign:ds,escapeHtml:Cr,escapeRE:Kh,fromCodePoint:Ja,has:Rh,isMdAsciiPunct:ra,isPunctChar:na,isSpace:pt,isString:Vo,isValidEntityCode:Go,isWhiteSpace:ta,lib:Zh,normalizeReference:fs,unescapeAll:Eu,unescapeMd:jh},Symbol.toStringTag,{value:"Module"}));function Jh(e,t,n){let r,u,a,s;const i=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<i;){if(a=e.src.charCodeAt(e.pos),a===93&&(r--,r===0)){u=!0;break}if(s=e.pos,e.md.inline.skipToken(e),a===91){if(s===e.pos-1)r++;else if(n)return e.pos=l,-1}}let c=-1;return u&&(c=e.pos),e.pos=l,c}function Xh(e,t,n){let r,u=t;const a={ok:!1,pos:0,str:""};if(e.charCodeAt(u)===60){for(u++;u<n;){if(r=e.charCodeAt(u),r===10||r===60)return a;if(r===62)return a.pos=u+1,a.str=Eu(e.slice(t+1,u)),a.ok=!0,a;if(r===92&&u+1<n){u+=2;continue}u++}return a}let s=0;for(;u<n&&(r=e.charCodeAt(u),!(r===32||r<32||r===127));){if(r===92&&u+1<n){if(e.charCodeAt(u+1)===32)break;u+=2;continue}if(r===40&&(s++,s>32))return a;if(r===41){if(s===0)break;s--}u++}return t===u||s!==0||(a.str=Eu(e.slice(t,u)),a.pos=u,a.ok=!0),a}function Qh(e,t,n,r){let u,a=t;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)s.str=r.str,s.marker=r.marker;else{if(a>=n)return s;let i=e.charCodeAt(a);if(i!==34&&i!==39&&i!==40)return s;t++,a++,i===40&&(i=41),s.marker=i}for(;a<n;){if(u=e.charCodeAt(a),u===s.marker)return s.pos=a+1,s.str+=Eu(e.slice(t,a)),s.ok=!0,s;if(u===40&&s.marker===41)return s;u===92&&a+1<n&&a++,a++}return s.can_continue=!0,s.str+=Eu(e.slice(t,a)),s}const em=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Xh,parseLinkLabel:Jh,parseLinkTitle:Qh},Symbol.toStringTag,{value:"Module"})),Yn={};Yn.code_inline=function(e,t,n,r,u){const a=e[t];return"<code"+u.renderAttrs(a)+">"+Cr(a.content)+"</code>"};Yn.code_block=function(e,t,n,r,u){const a=e[t];return"<pre"+u.renderAttrs(a)+"><code>"+Cr(e[t].content)+`</code></pre>
`};Yn.fence=function(e,t,n,r,u){const a=e[t],s=a.info?Eu(a.info).trim():"";let i="",l="";if(s){const d=s.split(/(\s+)/g);i=d[0],l=d.slice(2).join("")}let c;if(n.highlight?c=n.highlight(a.content,i,l)||Cr(a.content):c=Cr(a.content),c.indexOf("<pre")===0)return c+`
`;if(s){const d=a.attrIndex("class"),f=a.attrs?a.attrs.slice():[];d<0?f.push(["class",n.langPrefix+i]):(f[d]=f[d].slice(),f[d][1]+=" "+n.langPrefix+i);const h={attrs:f};return`<pre><code${u.renderAttrs(h)}>${c}</code></pre>
`}return`<pre><code${u.renderAttrs(a)}>${c}</code></pre>
`};Yn.image=function(e,t,n,r,u){const a=e[t];return a.attrs[a.attrIndex("alt")][1]=u.renderInlineAsText(a.children,n,r),u.renderToken(e,t,n)};Yn.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};Yn.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Yn.text=function(e,t){return Cr(e[t].content)};Yn.html_block=function(e,t){return e[t].content};Yn.html_inline=function(e,t){return e[t].content};function Tu(){this.rules=ds({},Yn)}Tu.prototype.renderAttrs=function(t){let n,r,u;if(!t.attrs)return"";for(u="",n=0,r=t.attrs.length;n<r;n++)u+=" "+Cr(t.attrs[n][0])+'="'+Cr(t.attrs[n][1])+'"';return u};Tu.prototype.renderToken=function(t,n,r){const u=t[n];let a="";if(u.hidden)return"";u.block&&u.nesting!==-1&&n&&t[n-1].hidden&&(a+=`
`),a+=(u.nesting===-1?"</":"<")+u.tag,a+=this.renderAttrs(u),u.nesting===0&&r.xhtmlOut&&(a+=" /");let s=!1;if(u.block&&(s=!0,u.nesting===1&&n+1<t.length)){const i=t[n+1];(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===u.tag)&&(s=!1)}return a+=s?`>
`:">",a};Tu.prototype.renderInline=function(e,t,n){let r="";const u=this.rules;for(let a=0,s=e.length;a<s;a++){const i=e[a].type;typeof u[i]<"u"?r+=u[i](e,a,t,n,this):r+=this.renderToken(e,a,t)}return r};Tu.prototype.renderInlineAsText=function(e,t,n){let r="";for(let u=0,a=e.length;u<a;u++)switch(e[u].type){case"text":r+=e[u].content;break;case"image":r+=this.renderInlineAsText(e[u].children,t,n);break;case"html_inline":case"html_block":r+=e[u].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};Tu.prototype.render=function(e,t,n){let r="";const u=this.rules;for(let a=0,s=e.length;a<s;a++){const i=e[a].type;i==="inline"?r+=this.renderInline(e[a].children,t,n):typeof u[i]<"u"?r+=u[i](e,a,t,n,this):r+=this.renderToken(e,a,t,n)}return r};function mn(){this.__rules__=[],this.__cache__=null}mn.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};mn.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};mn.prototype.at=function(e,t,n){const r=this.__find__(e),u=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=u.alt||[],this.__cache__=null};mn.prototype.before=function(e,t,n,r){const u=this.__find__(e),a=r||{};if(u===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(u,0,{name:t,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null};mn.prototype.after=function(e,t,n,r){const u=this.__find__(e),a=r||{};if(u===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(u+1,0,{name:t,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null};mn.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};mn.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const u=this.__find__(r);if(u<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[u].enabled=!0,n.push(r)},this),this.__cache__=null,n};mn.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};mn.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const u=this.__find__(r);if(u<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[u].enabled=!1,n.push(r)},this),this.__cache__=null,n};mn.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function $n(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}$n.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,u=n.length;r<u;r++)if(n[r][0]===t)return r;return-1};$n.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};$n.prototype.attrSet=function(t,n){const r=this.attrIndex(t),u=[t,n];r<0?this.attrPush(u):this.attrs[r]=u};$n.prototype.attrGet=function(t){const n=this.attrIndex(t);let r=null;return n>=0&&(r=this.attrs[n][1]),r};$n.prototype.attrJoin=function(t,n){const r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function Hc(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}Hc.prototype.Token=$n;const tm=/\r\n?|\n/g,nm=/\0/g;function rm(e){let t;t=e.src.replace(tm,`
`),t=t.replace(nm,"ï¿½"),e.src=t}function um(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function am(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const u=t[n];u.type==="inline"&&e.md.inline.parse(u.content,e.md,e.env,u.children)}}function sm(e){return/^<a[>\s]/i.test(e)}function om(e){return/^<\/a\s*>/i.test(e)}function im(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let u=t[n].children,a=0;for(let s=u.length-1;s>=0;s--){const i=u[s];if(i.type==="link_close"){for(s--;u[s].level!==i.level&&u[s].type!=="link_open";)s--;continue}if(i.type==="html_inline"&&(sm(i.content)&&a>0&&a--,om(i.content)&&a++),!(a>0)&&i.type==="text"&&e.md.linkify.test(i.content)){const l=i.content;let c=e.md.linkify.match(l);const d=[];let f=i.level,h=0;c.length>0&&c[0].index===0&&s>0&&u[s-1].type==="text_special"&&(c=c.slice(1));for(let v=0;v<c.length;v++){const p=c[v].url,w=e.md.normalizeLink(p);if(!e.md.validateLink(w))continue;let y=c[v].text;c[v].schema?c[v].schema==="mailto:"&&!/^mailto:/i.test(y)?y=e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=e.md.normalizeLinkText(y):y=e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,"");const _=c[v].index;if(_>h){const S=new e.Token("text","",0);S.content=l.slice(h,_),S.level=f,d.push(S)}const A=new e.Token("link_open","a",1);A.attrs=[["href",w]],A.level=f++,A.markup="linkify",A.info="auto",d.push(A);const E=new e.Token("text","",0);E.content=y,E.level=f,d.push(E);const g=new e.Token("link_close","a",-1);g.level=--f,g.markup="linkify",g.info="auto",d.push(g),h=c[v].lastIndex}if(h<l.length){const v=new e.Token("text","",0);v.content=l.slice(h),v.level=f,d.push(v)}t[n].children=u=jc(u,s,d)}}}}const Wc=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,lm=/\((c|tm|r)\)/i,cm=/\((c|tm|r)\)/ig,dm={c:"Â©",r:"Â®",tm:"â¢"};function fm(e,t){return dm[t.toLowerCase()]}function pm(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&(r.content=r.content.replace(cm,fm)),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function hm(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&Wc.test(r.content)&&(r.content=r.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1â").replace(/(^|\s)--(?=\s|$)/mg,"$1â").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1â")),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function mm(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(lm.test(e.tokens[t].content)&&pm(e.tokens[t].children),Wc.test(e.tokens[t].content)&&hm(e.tokens[t].children))}const vm=/['"]/,tl=/['"]/g,nl="â";function Ea(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function gm(e,t){let n;const r=[];for(let u=0;u<e.length;u++){const a=e[u],s=e[u].level;for(n=r.length-1;n>=0&&!(r[n].level<=s);n--);if(r.length=n+1,a.type!=="text")continue;let i=a.content,l=0,c=i.length;e:for(;l<c;){tl.lastIndex=l;const d=tl.exec(i);if(!d)break;let f=!0,h=!0;l=d.index+1;const v=d[0]==="'";let p=32;if(d.index-1>=0)p=i.charCodeAt(d.index-1);else for(n=u-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){p=e[n].content.charCodeAt(e[n].content.length-1);break}let w=32;if(l<c)w=i.charCodeAt(l);else for(n=u+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){w=e[n].content.charCodeAt(0);break}const y=ra(p)||na(String.fromCharCode(p)),_=ra(w)||na(String.fromCharCode(w)),A=ta(p),E=ta(w);if(E?f=!1:_&&(A||y||(f=!1)),A?h=!1:y&&(E||_||(h=!1)),w===34&&d[0]==='"'&&p>=48&&p<=57&&(h=f=!1),f&&h&&(f=y,h=_),!f&&!h){v&&(a.content=Ea(a.content,d.index,nl));continue}if(h)for(n=r.length-1;n>=0;n--){let g=r[n];if(r[n].level<s)break;if(g.single===v&&r[n].level===s){g=r[n];let S,x;v?(S=t.md.options.quotes[2],x=t.md.options.quotes[3]):(S=t.md.options.quotes[0],x=t.md.options.quotes[1]),a.content=Ea(a.content,d.index,x),e[g.token].content=Ea(e[g.token].content,g.pos,S),l+=x.length-1,g.token===u&&(l+=S.length-1),i=a.content,c=i.length,r.length=n;continue e}}f?r.push({token:u,pos:d.index,single:v,level:s}):h&&v&&(a.content=Ea(a.content,d.index,nl))}}}function bm(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!vm.test(e.tokens[t].content)||gm(e.tokens[t].children,e)}function _m(e){let t,n;const r=e.tokens,u=r.length;for(let a=0;a<u;a++){if(r[a].type!=="inline")continue;const s=r[a].children,i=s.length;for(t=0;t<i;t++)s[t].type==="text_special"&&(s[t].type="text");for(t=n=0;t<i;t++)s[t].type==="text"&&t+1<i&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}}const Rs=[["normalize",rm],["block",um],["inline",am],["linkify",im],["replacements",mm],["smartquotes",bm],["text_join",_m]];function Ko(){this.ruler=new mn;for(let e=0;e<Rs.length;e++)this.ruler.push(Rs[e][0],Rs[e][1])}Ko.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)};Ko.prototype.State=Hc;function Jn(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const u=this.src;for(let a=0,s=0,i=0,l=0,c=u.length,d=!1;s<c;s++){const f=u.charCodeAt(s);if(!d)if(pt(f)){i++,f===9?l+=4-l%4:l++;continue}else d=!0;(f===10||s===c-1)&&(f!==10&&s++,this.bMarks.push(a),this.eMarks.push(s),this.tShift.push(i),this.sCount.push(l),this.bsCount.push(0),d=!1,i=0,l=0,a=s+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Jn.prototype.push=function(e,t,n){const r=new $n(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Jn.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Jn.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Jn.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const r=this.src.charCodeAt(t);if(!pt(r))break}return t};Jn.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!pt(this.src.charCodeAt(--t)))return t+1;return t};Jn.prototype.skipChars=function(t,n){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Jn.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Jn.prototype.getLines=function(t,n,r,u){if(t>=n)return"";const a=new Array(n-t);for(let s=0,i=t;i<n;i++,s++){let l=0;const c=this.bMarks[i];let d=c,f;for(i+1<n||u?f=this.eMarks[i]+1:f=this.eMarks[i];d<f&&l<r;){const h=this.src.charCodeAt(d);if(pt(h))h===9?l+=4-(l+this.bsCount[i])%4:l++;else if(d-c<this.tShift[i])l++;else break;d++}l>r?a[s]=new Array(l-r+1).join(" ")+this.src.slice(d,f):a[s]=this.src.slice(d,f)}return a.join("")};Jn.prototype.Token=$n;const ym=65536;function $s(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function rl(e){const t=[],n=e.length;let r=0,u=e.charCodeAt(r),a=!1,s=0,i="";for(;r<n;)u===124&&(a?(i+=e.substring(s,r-1),s=r):(t.push(i+e.substring(s,r)),i="",s=r+1)),a=u===92,r++,u=e.charCodeAt(r);return t.push(i+e.substring(s)),t}function xm(e,t,n,r){if(t+2>n)return!1;let u=t+1;if(e.sCount[u]<e.blkIndent||e.sCount[u]-e.blkIndent>=4)return!1;let a=e.bMarks[u]+e.tShift[u];if(a>=e.eMarks[u])return!1;const s=e.src.charCodeAt(a++);if(s!==124&&s!==45&&s!==58||a>=e.eMarks[u])return!1;const i=e.src.charCodeAt(a++);if(i!==124&&i!==45&&i!==58&&!pt(i)||s===45&&pt(i))return!1;for(;a<e.eMarks[u];){const g=e.src.charCodeAt(a);if(g!==124&&g!==45&&g!==58&&!pt(g))return!1;a++}let l=$s(e,t+1),c=l.split("|");const d=[];for(let g=0;g<c.length;g++){const S=c[g].trim();if(!S){if(g===0||g===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(S))return!1;S.charCodeAt(S.length-1)===58?d.push(S.charCodeAt(0)===58?"center":"right"):S.charCodeAt(0)===58?d.push("left"):d.push("")}if(l=$s(e,t).trim(),l.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;c=rl(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const f=c.length;if(f===0||f!==d.length)return!1;if(r)return!0;const h=e.parentType;e.parentType="table";const v=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),w=[t,0];p.map=w;const y=e.push("thead_open","thead",1);y.map=[t,t+1];const _=e.push("tr_open","tr",1);_.map=[t,t+1];for(let g=0;g<c.length;g++){const S=e.push("th_open","th",1);d[g]&&(S.attrs=[["style","text-align:"+d[g]]]);const x=e.push("inline","",0);x.content=c[g].trim(),x.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let A,E=0;for(u=t+2;u<n&&!(e.sCount[u]<e.blkIndent);u++){let g=!1;for(let x=0,T=v.length;x<T;x++)if(v[x](e,u,n,!0)){g=!0;break}if(g||(l=$s(e,u).trim(),!l)||e.sCount[u]-e.blkIndent>=4||(c=rl(l),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),E+=f-c.length,E>ym))break;if(u===t+2){const x=e.push("tbody_open","tbody",1);x.map=A=[t+2,0]}const S=e.push("tr_open","tr",1);S.map=[u,u+1];for(let x=0;x<f;x++){const T=e.push("td_open","td",1);d[x]&&(T.attrs=[["style","text-align:"+d[x]]]);const R=e.push("inline","",0);R.content=c[x]?c[x].trim():"",R.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return A&&(e.push("tbody_close","tbody",-1),A[1]=u),e.push("table_close","table",-1),w[1]=u,e.parentType=h,e.line=u,!0}function km(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,u=r;for(;r<n;){if(e.isEmpty(r)){r++;continue}if(e.sCount[r]-e.blkIndent>=4){r++,u=r;continue}break}e.line=u;const a=e.push("code_block","code",0);return a.content=e.getLines(t,u,4+e.blkIndent,!1)+`
`,a.map=[t,e.line],!0}function Em(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||u+3>a)return!1;const s=e.src.charCodeAt(u);if(s!==126&&s!==96)return!1;let i=u;u=e.skipChars(u,s);let l=u-i;if(l<3)return!1;const c=e.src.slice(i,u),d=e.src.slice(u,a);if(s===96&&d.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let f=t,h=!1;for(;f++,!(f>=n||(u=i=e.bMarks[f]+e.tShift[f],a=e.eMarks[f],u<a&&e.sCount[f]<e.blkIndent));)if(e.src.charCodeAt(u)===s&&!(e.sCount[f]-e.blkIndent>=4)&&(u=e.skipChars(u,s),!(u-i<l)&&(u=e.skipSpaces(u),!(u<a)))){h=!0;break}l=e.sCount[t],e.line=f+(h?1:0);const v=e.push("fence","code",0);return v.info=d,v.content=e.getLines(t+1,f,l,!0),v.markup=c,v.map=[t,e.line],!0}function wm(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(u)!==62)return!1;if(r)return!0;const i=[],l=[],c=[],d=[],f=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let v=!1,p;for(p=t;p<n;p++){const E=e.sCount[p]<e.blkIndent;if(u=e.bMarks[p]+e.tShift[p],a=e.eMarks[p],u>=a)break;if(e.src.charCodeAt(u++)===62&&!E){let S=e.sCount[p]+1,x,T;e.src.charCodeAt(u)===32?(u++,S++,T=!1,x=!0):e.src.charCodeAt(u)===9?(x=!0,(e.bsCount[p]+S)%4===3?(u++,S++,T=!1):T=!0):x=!1;let R=S;for(i.push(e.bMarks[p]),e.bMarks[p]=u;u<a;){const z=e.src.charCodeAt(u);if(pt(z))z===9?R+=4-(R+e.bsCount[p]+(T?1:0))%4:R++;else break;u++}v=u>=a,l.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(x?1:0),c.push(e.sCount[p]),e.sCount[p]=R-S,d.push(e.tShift[p]),e.tShift[p]=u-e.bMarks[p];continue}if(v)break;let g=!1;for(let S=0,x=f.length;S<x;S++)if(f[S](e,p,n,!0)){g=!0;break}if(g){e.lineMax=p,e.blkIndent!==0&&(i.push(e.bMarks[p]),l.push(e.bsCount[p]),d.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}i.push(e.bMarks[p]),l.push(e.bsCount[p]),d.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]=-1}const w=e.blkIndent;e.blkIndent=0;const y=e.push("blockquote_open","blockquote",1);y.markup=">";const _=[t,0];y.map=_,e.md.block.tokenize(e,t,p);const A=e.push("blockquote_close","blockquote",-1);A.markup=">",e.lineMax=s,e.parentType=h,_[1]=e.line;for(let E=0;E<d.length;E++)e.bMarks[E+t]=i[E],e.tShift[E+t]=d[E],e.sCount[E+t]=c[E],e.bsCount[E+t]=l[E];return e.blkIndent=w,!0}function Sm(e,t,n,r){const u=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(a++);if(s!==42&&s!==45&&s!==95)return!1;let i=1;for(;a<u;){const c=e.src.charCodeAt(a++);if(c!==s&&!pt(c))return!1;c===s&&i++}if(i<3)return!1;if(r)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(i+1).join(String.fromCharCode(s)),!0}function ul(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const u=e.src.charCodeAt(r++);if(u!==42&&u!==45&&u!==43)return-1;if(r<n){const a=e.src.charCodeAt(r);if(!pt(a))return-1}return r}function al(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let u=n;if(u+1>=r)return-1;let a=e.src.charCodeAt(u++);if(a<48||a>57)return-1;for(;;){if(u>=r)return-1;if(a=e.src.charCodeAt(u++),a>=48&&a<=57){if(u-n>=10)return-1;continue}if(a===41||a===46)break;return-1}return u<r&&(a=e.src.charCodeAt(u),!pt(a))?-1:u}function Am(e,t){const n=e.level+2;for(let r=t+2,u=e.tokens.length-2;r<u;r++)e.tokens[r].level===n&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}function Cm(e,t,n,r){let u,a,s,i,l=t,c=!0;if(e.sCount[l]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let d=!1;r&&e.parentType==="paragraph"&&e.sCount[l]>=e.blkIndent&&(d=!0);let f,h,v;if((v=al(e,l))>=0){if(f=!0,s=e.bMarks[l]+e.tShift[l],h=Number(e.src.slice(s,v-1)),d&&h!==1)return!1}else if((v=ul(e,l))>=0)f=!1;else return!1;if(d&&e.skipSpaces(v)>=e.eMarks[l])return!1;if(r)return!0;const p=e.src.charCodeAt(v-1),w=e.tokens.length;f?(i=e.push("ordered_list_open","ol",1),h!==1&&(i.attrs=[["start",h]])):i=e.push("bullet_list_open","ul",1);const y=[l,0];i.map=y,i.markup=String.fromCharCode(p);let _=!1;const A=e.md.block.ruler.getRules("list"),E=e.parentType;for(e.parentType="list";l<n;){a=v,u=e.eMarks[l];const g=e.sCount[l]+v-(e.bMarks[l]+e.tShift[l]);let S=g;for(;a<u;){const q=e.src.charCodeAt(a);if(q===9)S+=4-(S+e.bsCount[l])%4;else if(q===32)S++;else break;a++}const x=a;let T;x>=u?T=1:T=S-g,T>4&&(T=1);const R=g+T;i=e.push("list_item_open","li",1),i.markup=String.fromCharCode(p);const z=[l,0];i.map=z,f&&(i.info=e.src.slice(s,v-1));const F=e.tight,I=e.tShift[l],K=e.sCount[l],N=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=R,e.tight=!0,e.tShift[l]=x-e.bMarks[l],e.sCount[l]=S,x>=u&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),(!e.tight||_)&&(c=!1),_=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=N,e.tShift[l]=I,e.sCount[l]=K,e.tight=F,i=e.push("list_item_close","li",-1),i.markup=String.fromCharCode(p),l=e.line,z[1]=l,l>=n||e.sCount[l]<e.blkIndent||e.sCount[l]-e.blkIndent>=4)break;let Q=!1;for(let q=0,ae=A.length;q<ae;q++)if(A[q](e,l,n,!0)){Q=!0;break}if(Q)break;if(f){if(v=al(e,l),v<0)break;s=e.bMarks[l]+e.tShift[l]}else if(v=ul(e,l),v<0)break;if(p!==e.src.charCodeAt(v-1))break}return f?i=e.push("ordered_list_close","ol",-1):i=e.push("bullet_list_close","ul",-1),i.markup=String.fromCharCode(p),y[1]=l,e.line=l,e.parentType=E,c&&Am(e,w),!0}function Dm(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],a=e.eMarks[t],s=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(u)!==91)return!1;function i(A){const E=e.lineMax;if(A>=E||e.isEmpty(A))return null;let g=!1;if(e.sCount[A]-e.blkIndent>3&&(g=!0),e.sCount[A]<0&&(g=!0),!g){const T=e.md.block.ruler.getRules("reference"),R=e.parentType;e.parentType="reference";let z=!1;for(let F=0,I=T.length;F<I;F++)if(T[F](e,A,E,!0)){z=!0;break}if(e.parentType=R,z)return null}const S=e.bMarks[A]+e.tShift[A],x=e.eMarks[A];return e.src.slice(S,x+1)}let l=e.src.slice(u,a+1);a=l.length;let c=-1;for(u=1;u<a;u++){const A=l.charCodeAt(u);if(A===91)return!1;if(A===93){c=u;break}else if(A===10){const E=i(s);E!==null&&(l+=E,a=l.length,s++)}else if(A===92&&(u++,u<a&&l.charCodeAt(u)===10)){const E=i(s);E!==null&&(l+=E,a=l.length,s++)}}if(c<0||l.charCodeAt(c+1)!==58)return!1;for(u=c+2;u<a;u++){const A=l.charCodeAt(u);if(A===10){const E=i(s);E!==null&&(l+=E,a=l.length,s++)}else if(!pt(A))break}const d=e.md.helpers.parseLinkDestination(l,u,a);if(!d.ok)return!1;const f=e.md.normalizeLink(d.str);if(!e.md.validateLink(f))return!1;u=d.pos;const h=u,v=s,p=u;for(;u<a;u++){const A=l.charCodeAt(u);if(A===10){const E=i(s);E!==null&&(l+=E,a=l.length,s++)}else if(!pt(A))break}let w=e.md.helpers.parseLinkTitle(l,u,a);for(;w.can_continue;){const A=i(s);if(A===null)break;l+=A,u=a,a=l.length,s++,w=e.md.helpers.parseLinkTitle(l,u,a,w)}let y;for(u<a&&p!==u&&w.ok?(y=w.str,u=w.pos):(y="",u=h,s=v);u<a;){const A=l.charCodeAt(u);if(!pt(A))break;u++}if(u<a&&l.charCodeAt(u)!==10&&y)for(y="",u=h,s=v;u<a;){const A=l.charCodeAt(u);if(!pt(A))break;u++}if(u<a&&l.charCodeAt(u)!==10)return!1;const _=fs(l.slice(1,c));return _?(r||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[_]>"u"&&(e.env.references[_]={title:y,href:f}),e.line=s),!0):!1}const Tm=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Fm="[a-zA-Z_:][a-zA-Z0-9:._-]*",Mm="[^\"'=<>`\\x00-\\x20]+",Pm="'[^']*'",Im='"[^"]*"',Nm="(?:"+Mm+"|"+Pm+"|"+Im+")",Om="(?:\\s+"+Fm+"(?:\\s*=\\s*"+Nm+")?)",Vc="<[A-Za-z][A-Za-z0-9\\-]*"+Om+"*\\s*\\/?>",Gc="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Lm="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Rm="<[?][\\s\\S]*?[?]>",$m="<![A-Za-z][^>]*>",zm="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Um=new RegExp("^(?:"+Vc+"|"+Gc+"|"+Lm+"|"+Rm+"|"+$m+"|"+zm+")"),Bm=new RegExp("^(?:"+Vc+"|"+Gc+")"),iu=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Tm.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Bm.source+"\\s*$"),/^$/,!1]];function jm(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(u)!==60)return!1;let s=e.src.slice(u,a),i=0;for(;i<iu.length&&!iu[i][0].test(s);i++);if(i===iu.length)return!1;if(r)return iu[i][2];let l=t+1;if(!iu[i][1].test(s)){for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(u=e.bMarks[l]+e.tShift[l],a=e.eMarks[l],s=e.src.slice(u,a),iu[i][1].test(s)){s.length!==0&&l++;break}}e.line=l;const c=e.push("html_block","",0);return c.map=[t,l],c.content=e.getLines(t,l,e.blkIndent,!0),!0}function qm(e,t,n,r){let u=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(u);if(s!==35||u>=a)return!1;let i=1;for(s=e.src.charCodeAt(++u);s===35&&u<a&&i<=6;)i++,s=e.src.charCodeAt(++u);if(i>6||u<a&&!pt(s))return!1;if(r)return!0;a=e.skipSpacesBack(a,u);const l=e.skipCharsBack(a,35,u);l>u&&pt(e.src.charCodeAt(l-1))&&(a=l),e.line=t+1;const c=e.push("heading_open","h"+String(i),1);c.markup="########".slice(0,i),c.map=[t,e.line];const d=e.push("inline","",0);d.content=e.src.slice(u,a).trim(),d.map=[t,e.line],d.children=[];const f=e.push("heading_close","h"+String(i),-1);return f.markup="########".slice(0,i),!0}function Hm(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const u=e.parentType;e.parentType="paragraph";let a=0,s,i=t+1;for(;i<n&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3)continue;if(e.sCount[i]>=e.blkIndent){let v=e.bMarks[i]+e.tShift[i];const p=e.eMarks[i];if(v<p&&(s=e.src.charCodeAt(v),(s===45||s===61)&&(v=e.skipChars(v,s),v=e.skipSpaces(v),v>=p))){a=s===61?1:2;break}}if(e.sCount[i]<0)continue;let h=!1;for(let v=0,p=r.length;v<p;v++)if(r[v](e,i,n,!0)){h=!0;break}if(h)break}if(!a)return!1;const l=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i+1;const c=e.push("heading_open","h"+String(a),1);c.markup=String.fromCharCode(s),c.map=[t,e.line];const d=e.push("inline","",0);d.content=l,d.map=[t,e.line-1],d.children=[];const f=e.push("heading_close","h"+String(a),-1);return f.markup=String.fromCharCode(s),e.parentType=u,!0}function Wm(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),u=e.parentType;let a=t+1;for(e.parentType="paragraph";a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3||e.sCount[a]<0)continue;let c=!1;for(let d=0,f=r.length;d<f;d++)if(r[d](e,a,n,!0)){c=!0;break}if(c)break}const s=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a;const i=e.push("paragraph_open","p",1);i.map=[t,e.line];const l=e.push("inline","",0);return l.content=s,l.map=[t,e.line],l.children=[],e.push("paragraph_close","p",-1),e.parentType=u,!0}const wa=[["table",xm,["paragraph","reference"]],["code",km],["fence",Em,["paragraph","reference","blockquote","list"]],["blockquote",wm,["paragraph","reference","blockquote","list"]],["hr",Sm,["paragraph","reference","blockquote","list"]],["list",Cm,["paragraph","reference","blockquote"]],["reference",Dm],["html_block",jm,["paragraph","reference","blockquote"]],["heading",qm,["paragraph","reference","blockquote"]],["lheading",Hm],["paragraph",Wm]];function ps(){this.ruler=new mn;for(let e=0;e<wa.length;e++)this.ruler.push(wa[e][0],wa[e][1],{alt:(wa[e][2]||[]).slice()})}ps.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),u=r.length,a=e.md.options.maxNesting;let s=t,i=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n||e.sCount[s]<e.blkIndent));){if(e.level>=a){e.line=n;break}const l=e.line;let c=!1;for(let d=0;d<u;d++)if(c=r[d](e,s,n,!1),c){if(l>=e.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");e.tight=!i,e.isEmpty(e.line-1)&&(i=!0),s=e.line,s<n&&e.isEmpty(s)&&(i=!0,s++,e.line=s)}};ps.prototype.parse=function(e,t,n,r){if(!e)return;const u=new this.State(e,t,n,r);this.tokenize(u,u.line,u.lineMax)};ps.prototype.State=Jn;function ha(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}ha.prototype.pushPending=function(){const e=new $n("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};ha.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new $n(e,t,n);let u=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],u={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(u),r};ha.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),u=e>0?this.src.charCodeAt(e-1):32;let a=e;for(;a<n&&this.src.charCodeAt(a)===r;)a++;const s=a-e,i=a<n?this.src.charCodeAt(a):32,l=ra(u)||na(String.fromCharCode(u)),c=ra(i)||na(String.fromCharCode(i)),d=ta(u),f=ta(i),h=!f&&(!c||d||l),v=!d&&(!l||f||c);return{can_open:h&&(t||!v||l),can_close:v&&(t||!h||c),length:s}};ha.prototype.Token=$n;function Vm(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Gm(e,t){let n=e.pos;for(;n<e.posMax&&!Vm(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const Km=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Zm(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,r=e.posMax;if(n+3>r||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const u=e.pending.match(Km);if(!u)return!1;const a=u[1],s=e.md.linkify.matchAtStart(e.src.slice(n-a.length));if(!s)return!1;let i=s.url;if(i.length<=a.length)return!1;i=i.replace(/\*+$/,"");const l=e.md.normalizeLink(i);if(!e.md.validateLink(l))return!1;if(!t){e.pending=e.pending.slice(0,-a.length);const c=e.push("link_open","a",1);c.attrs=[["href",l]],c.markup="linkify",c.info="auto";const d=e.push("text","",0);d.content=e.md.normalizeLinkText(i);const f=e.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return e.pos+=i.length-a.length,!0}function Ym(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const r=e.pending.length-1,u=e.posMax;if(!t)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){let a=r-1;for(;a>=1&&e.pending.charCodeAt(a-1)===32;)a--;e.pending=e.pending.slice(0,a),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<u&&pt(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Zo=[];for(let e=0;e<256;e++)Zo.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Zo[e.charCodeAt(0)]=1});function Jm(e,t){let n=e.pos;const r=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let u=e.src.charCodeAt(n);if(u===10){for(t||e.push("hardbreak","br",0),n++;n<r&&(u=e.src.charCodeAt(n),!!pt(u));)n++;return e.pos=n,!0}let a=e.src[n];if(u>=55296&&u<=56319&&n+1<r){const i=e.src.charCodeAt(n+1);i>=56320&&i<=57343&&(a+=e.src[n+1],n++)}const s="\\"+a;if(!t){const i=e.push("text_special","",0);u<256&&Zo[u]!==0?i.content=a:i.content=s,i.markup=s,i.info="escape"}return e.pos=n+1,!0}function Xm(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const u=n;n++;const a=e.posMax;for(;n<a&&e.src.charCodeAt(n)===96;)n++;const s=e.src.slice(u,n),i=s.length;if(e.backticksScanned&&(e.backticks[i]||0)<=u)return t||(e.pending+=s),e.pos+=i,!0;let l=n,c;for(;(c=e.src.indexOf("`",l))!==-1;){for(l=c+1;l<a&&e.src.charCodeAt(l)===96;)l++;const d=l-c;if(d===i){if(!t){const f=e.push("code_inline","code",0);f.markup=s,f.content=e.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[d]=c}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=i,!0}function Qm(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==126)return!1;const u=e.scanDelims(e.pos,!0);let a=u.length;const s=String.fromCharCode(r);if(a<2)return!1;let i;a%2&&(i=e.push("text","",0),i.content=s,a--);for(let l=0;l<a;l+=2)i=e.push("text","",0),i.content=s+s,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:u.can_open,close:u.can_close});return e.pos+=u.length,!0}function sl(e,t){let n;const r=[],u=t.length;for(let a=0;a<u;a++){const s=t[a];if(s.marker!==126||s.end===-1)continue;const i=t[s.end];n=e.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[i.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[i.token-1].type==="text"&&e.tokens[i.token-1].content==="~"&&r.push(i.token-1)}for(;r.length;){const a=r.pop();let s=a+1;for(;s<e.tokens.length&&e.tokens[s].type==="s_close";)s++;s--,a!==s&&(n=e.tokens[s],e.tokens[s]=e.tokens[a],e.tokens[a]=n)}}function ev(e){const t=e.tokens_meta,n=e.tokens_meta.length;sl(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&sl(e,t[r].delimiters)}const Kc={tokenize:Qm,postProcess:ev};function tv(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==95&&r!==42)return!1;const u=e.scanDelims(e.pos,r===42);for(let a=0;a<u.length;a++){const s=e.push("text","",0);s.content=String.fromCharCode(r),e.delimiters.push({marker:r,length:u.length,token:e.tokens.length-1,end:-1,open:u.can_open,close:u.can_close})}return e.pos+=u.length,!0}function ol(e,t){const n=t.length;for(let r=n-1;r>=0;r--){const u=t[r];if(u.marker!==95&&u.marker!==42||u.end===-1)continue;const a=t[u.end],s=r>0&&t[r-1].end===u.end+1&&t[r-1].marker===u.marker&&t[r-1].token===u.token-1&&t[u.end+1].token===a.token+1,i=String.fromCharCode(u.marker),l=e.tokens[u.token];l.type=s?"strong_open":"em_open",l.tag=s?"strong":"em",l.nesting=1,l.markup=s?i+i:i,l.content="";const c=e.tokens[a.token];c.type=s?"strong_close":"em_close",c.tag=s?"strong":"em",c.nesting=-1,c.markup=s?i+i:i,c.content="",s&&(e.tokens[t[r-1].token].content="",e.tokens[t[u.end+1].token].content="",r--)}}function nv(e){const t=e.tokens_meta,n=e.tokens_meta.length;ol(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&ol(e,t[r].delimiters)}const Zc={tokenize:tv,postProcess:nv};function rv(e,t){let n,r,u,a,s="",i="",l=e.pos,c=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const d=e.pos,f=e.posMax,h=e.pos+1,v=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(v<0)return!1;let p=v+1;if(p<f&&e.src.charCodeAt(p)===40){for(c=!1,p++;p<f&&(n=e.src.charCodeAt(p),!(!pt(n)&&n!==10));p++);if(p>=f)return!1;if(l=p,u=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),u.ok){for(s=e.md.normalizeLink(u.str),e.md.validateLink(s)?p=u.pos:s="",l=p;p<f&&(n=e.src.charCodeAt(p),!(!pt(n)&&n!==10));p++);if(u=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<f&&l!==p&&u.ok)for(i=u.str,p=u.pos;p<f&&(n=e.src.charCodeAt(p),!(!pt(n)&&n!==10));p++);}(p>=f||e.src.charCodeAt(p)!==41)&&(c=!0),p++}if(c){if(typeof e.env.references>"u")return!1;if(p<f&&e.src.charCodeAt(p)===91?(l=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?r=e.src.slice(l,p++):p=v+1):p=v+1,r||(r=e.src.slice(h,v)),a=e.env.references[fs(r)],!a)return e.pos=d,!1;s=a.href,i=a.title}if(!t){e.pos=h,e.posMax=v;const w=e.push("link_open","a",1),y=[["href",s]];w.attrs=y,i&&y.push(["title",i]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=f,!0}function uv(e,t){let n,r,u,a,s,i,l,c,d="";const f=e.pos,h=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const v=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(a=p+1,a<h&&e.src.charCodeAt(a)===40){for(a++;a<h&&(n=e.src.charCodeAt(a),!(!pt(n)&&n!==10));a++);if(a>=h)return!1;for(c=a,i=e.md.helpers.parseLinkDestination(e.src,a,e.posMax),i.ok&&(d=e.md.normalizeLink(i.str),e.md.validateLink(d)?a=i.pos:d=""),c=a;a<h&&(n=e.src.charCodeAt(a),!(!pt(n)&&n!==10));a++);if(i=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<h&&c!==a&&i.ok)for(l=i.str,a=i.pos;a<h&&(n=e.src.charCodeAt(a),!(!pt(n)&&n!==10));a++);else l="";if(a>=h||e.src.charCodeAt(a)!==41)return e.pos=f,!1;a++}else{if(typeof e.env.references>"u")return!1;if(a<h&&e.src.charCodeAt(a)===91?(c=a+1,a=e.md.helpers.parseLinkLabel(e,a),a>=0?u=e.src.slice(c,a++):a=p+1):a=p+1,u||(u=e.src.slice(v,p)),s=e.env.references[fs(u)],!s)return e.pos=f,!1;d=s.href,l=s.title}if(!t){r=e.src.slice(v,p);const w=[];e.md.inline.parse(r,e.md,e.env,w);const y=e.push("image","img",0),_=[["src",d],["alt",""]];y.attrs=_,y.children=w,y.content=r,l&&_.push(["title",l])}return e.pos=a,e.posMax=h,!0}const av=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,sv=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function ov(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const r=e.pos,u=e.posMax;for(;;){if(++n>=u)return!1;const s=e.src.charCodeAt(n);if(s===60)return!1;if(s===62)break}const a=e.src.slice(r+1,n);if(sv.test(a)){const s=e.md.normalizeLink(a);if(!e.md.validateLink(s))return!1;if(!t){const i=e.push("link_open","a",1);i.attrs=[["href",s]],i.markup="autolink",i.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(a);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=a.length+2,!0}if(av.test(a)){const s=e.md.normalizeLink("mailto:"+a);if(!e.md.validateLink(s))return!1;if(!t){const i=e.push("link_open","a",1);i.attrs=[["href",s]],i.markup="autolink",i.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(a);const c=e.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return e.pos+=a.length+2,!0}return!1}function iv(e){return/^<a[>\s]/i.test(e)}function lv(e){return/^<\/a\s*>/i.test(e)}function cv(e){const t=e|32;return t>=97&&t<=122}function dv(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(e.src.charCodeAt(r)!==60||r+2>=n)return!1;const u=e.src.charCodeAt(r+1);if(u!==33&&u!==63&&u!==47&&!cv(u))return!1;const a=e.src.slice(r).match(Um);if(!a)return!1;if(!t){const s=e.push("html_inline","",0);s.content=a[0],iv(s.content)&&e.linkLevel++,lv(s.content)&&e.linkLevel--}return e.pos+=a[0].length,!0}const fv=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,pv=/^&([a-z][a-z0-9]{1,31});/i;function hv(e,t){const n=e.pos,r=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=r)return!1;if(e.src.charCodeAt(n+1)===35){const a=e.src.slice(n).match(fv);if(a){if(!t){const s=a[1][0].toLowerCase()==="x"?parseInt(a[1].slice(1),16):parseInt(a[1],10),i=e.push("text_special","",0);i.content=Go(s)?Ja(s):Ja(65533),i.markup=a[0],i.info="entity"}return e.pos+=a[0].length,!0}}else{const a=e.src.slice(n).match(pv);if(a){const s=Bc(a[0]);if(s!==a[0]){if(!t){const i=e.push("text_special","",0);i.content=s,i.markup=a[0],i.info="entity"}return e.pos+=a[0].length,!0}}}return!1}function il(e){const t={},n=e.length;if(!n)return;let r=0,u=-2;const a=[];for(let s=0;s<n;s++){const i=e[s];if(a.push(0),(e[r].marker!==i.marker||u!==i.token-1)&&(r=s),u=i.token,i.length=i.length||0,!i.close)continue;t.hasOwnProperty(i.marker)||(t[i.marker]=[-1,-1,-1,-1,-1,-1]);const l=t[i.marker][(i.open?3:0)+i.length%3];let c=r-a[r]-1,d=c;for(;c>l;c-=a[c]+1){const f=e[c];if(f.marker===i.marker&&f.open&&f.end<0){let h=!1;if((f.close||i.open)&&(f.length+i.length)%3===0&&(f.length%3!==0||i.length%3!==0)&&(h=!0),!h){const v=c>0&&!e[c-1].open?a[c-1]+1:0;a[s]=s-c+v,a[c]=v,i.open=!1,f.end=s,f.close=!1,d=-1,u=-2;break}}}d!==-1&&(t[i.marker][(i.open?3:0)+(i.length||0)%3]=d)}}function mv(e){const t=e.tokens_meta,n=e.tokens_meta.length;il(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&il(t[r].delimiters)}function vv(e){let t,n,r=0;const u=e.tokens,a=e.tokens.length;for(t=n=0;t<a;t++)u[t].nesting<0&&r--,u[t].level=r,u[t].nesting>0&&r++,u[t].type==="text"&&t+1<a&&u[t+1].type==="text"?u[t+1].content=u[t].content+u[t+1].content:(t!==n&&(u[n]=u[t]),n++);t!==n&&(u.length=n)}const zs=[["text",Gm],["linkify",Zm],["newline",Ym],["escape",Jm],["backticks",Xm],["strikethrough",Kc.tokenize],["emphasis",Zc.tokenize],["link",rv],["image",uv],["autolink",ov],["html_inline",dv],["entity",hv]],Us=[["balance_pairs",mv],["strikethrough",Kc.postProcess],["emphasis",Zc.postProcess],["fragments_join",vv]];function ma(){this.ruler=new mn;for(let e=0;e<zs.length;e++)this.ruler.push(zs[e][0],zs[e][1]);this.ruler2=new mn;for(let e=0;e<Us.length;e++)this.ruler2.push(Us[e][0],Us[e][1])}ma.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,u=e.md.options.maxNesting,a=e.cache;if(typeof a[t]<"u"){e.pos=a[t];return}let s=!1;if(e.level<u){for(let i=0;i<r;i++)if(e.level++,s=n[i](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,a[t]=e.pos};ma.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,u=e.md.options.maxNesting;for(;e.pos<r;){const a=e.pos;let s=!1;if(e.level<u){for(let i=0;i<n;i++)if(s=t[i](e,!1),s){if(a>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(e.pos>=r)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ma.prototype.parse=function(e,t,n,r){const u=new this.State(e,t,n,r);this.tokenize(u);const a=this.ruler2.getRules(""),s=a.length;for(let i=0;i<s;i++)a[i](u)};ma.prototype.State=ha;function gv(e){const t={};e=e||{},t.src_Any=Lc.source,t.src_Cc=Rc.source,t.src_Z=zc.source,t.src_P=Wo.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><ï½]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function go(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function hs(e){return Object.prototype.toString.call(e)}function bv(e){return hs(e)==="[object String]"}function _v(e){return hs(e)==="[object Object]"}function yv(e){return hs(e)==="[object RegExp]"}function ll(e){return hs(e)==="[object Function]"}function xv(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Yc={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function kv(e){return Object.keys(e||{}).reduce(function(t,n){return t||Yc.hasOwnProperty(n)},!1)}const Ev={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},wv="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Sv="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|ÑÑ".split("|");function Av(e){e.__index__=-1,e.__text_cache__=""}function Cv(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function cl(){return function(e,t){t.normalize(e)}}function Xa(e){const t=e.re=gv(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(wv),n.push(t.src_xn),t.src_tlds=n.join("|");function r(i){return i.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const u=[];e.__compiled__={};function a(i,l){throw new Error('(LinkifyIt) Invalid schema "'+i+'": '+l)}Object.keys(e.__schemas__).forEach(function(i){const l=e.__schemas__[i];if(l===null)return;const c={validate:null,link:null};if(e.__compiled__[i]=c,_v(l)){yv(l.validate)?c.validate=Cv(l.validate):ll(l.validate)?c.validate=l.validate:a(i,l),ll(l.normalize)?c.normalize=l.normalize:l.normalize?a(i,l):c.normalize=cl();return}if(bv(l)){u.push(i);return}a(i,l)}),u.forEach(function(i){e.__compiled__[e.__schemas__[i]]&&(e.__compiled__[i].validate=e.__compiled__[e.__schemas__[i]].validate,e.__compiled__[i].normalize=e.__compiled__[e.__schemas__[i]].normalize)}),e.__compiled__[""]={validate:null,normalize:cl()};const s=Object.keys(e.__compiled__).filter(function(i){return i.length>0&&e.__compiled__[i]}).map(xv).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><ï½]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><ï½]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Av(e)}function Dv(e,t){const n=e.__index__,r=e.__last_index__,u=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=u,this.text=u,this.url=u}function bo(e,t){const n=new Dv(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function _n(e,t){if(!(this instanceof _n))return new _n(e,t);t||kv(e)&&(t=e,e={}),this.__opts__=go({},Yc,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=go({},Ev,e),this.__compiled__={},this.__tlds__=Sv,this.__tlds_replaced__=!1,this.re={},Xa(this)}_n.prototype.add=function(t,n){return this.__schemas__[t]=n,Xa(this),this};_n.prototype.set=function(t){return this.__opts__=go(this.__opts__,t),this};_n.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,r,u,a,s,i,l,c,d;if(this.re.schema_test.test(t)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(t))!==null;)if(a=this.testSchemaAt(t,n[2],l.lastIndex),a){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+a;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=r.index+r[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(d=t.indexOf("@"),d>=0&&(u=t.match(this.re.email_fuzzy))!==null&&(s=u.index+u[1].length,i=u.index+u[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=i))),this.__index__>=0};_n.prototype.pretest=function(t){return this.re.pretest.test(t)};_n.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};_n.prototype.match=function(t){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(bo(this,r)),r=this.__last_index__);let u=r?t.slice(r):t;for(;this.test(u);)n.push(bo(this,r)),u=u.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};_n.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,bo(this,0)):null};_n.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,u,a){return r!==a[u-1]}).reverse(),Xa(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Xa(this),this)};_n.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};_n.prototype.onCompile=function(){};const gu=2147483647,qn=36,Yo=1,ua=26,Tv=38,Fv=700,Jc=72,Xc=128,Qc="-",Mv=/^xn--/,Pv=/[^\0-\x7F]/,Iv=/[\x2E\u3002\uFF0E\uFF61]/g,Nv={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Bs=qn-Yo,Hn=Math.floor,js=String.fromCharCode;function mr(e){throw new RangeError(Nv[e])}function Ov(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function ed(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(Iv,".");const u=e.split("."),a=Ov(u,t).join(".");return r+a}function td(e){const t=[];let n=0;const r=e.length;for(;n<r;){const u=e.charCodeAt(n++);if(u>=55296&&u<=56319&&n<r){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((u&1023)<<10)+(a&1023)+65536):(t.push(u),n--)}else t.push(u)}return t}const Lv=e=>String.fromCodePoint(...e),Rv=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:qn},dl=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},nd=function(e,t,n){let r=0;for(e=n?Hn(e/Fv):e>>1,e+=Hn(e/t);e>Bs*ua>>1;r+=qn)e=Hn(e/Bs);return Hn(r+(Bs+1)*e/(e+Tv))},rd=function(e){const t=[],n=e.length;let r=0,u=Xc,a=Jc,s=e.lastIndexOf(Qc);s<0&&(s=0);for(let i=0;i<s;++i)e.charCodeAt(i)>=128&&mr("not-basic"),t.push(e.charCodeAt(i));for(let i=s>0?s+1:0;i<n;){const l=r;for(let d=1,f=qn;;f+=qn){i>=n&&mr("invalid-input");const h=Rv(e.charCodeAt(i++));h>=qn&&mr("invalid-input"),h>Hn((gu-r)/d)&&mr("overflow"),r+=h*d;const v=f<=a?Yo:f>=a+ua?ua:f-a;if(h<v)break;const p=qn-v;d>Hn(gu/p)&&mr("overflow"),d*=p}const c=t.length+1;a=nd(r-l,c,l==0),Hn(r/c)>gu-u&&mr("overflow"),u+=Hn(r/c),r%=c,t.splice(r++,0,u)}return String.fromCodePoint(...t)},ud=function(e){const t=[];e=td(e);const n=e.length;let r=Xc,u=0,a=Jc;for(const l of e)l<128&&t.push(js(l));const s=t.length;let i=s;for(s&&t.push(Qc);i<n;){let l=gu;for(const d of e)d>=r&&d<l&&(l=d);const c=i+1;l-r>Hn((gu-u)/c)&&mr("overflow"),u+=(l-r)*c,r=l;for(const d of e)if(d<r&&++u>gu&&mr("overflow"),d===r){let f=u;for(let h=qn;;h+=qn){const v=h<=a?Yo:h>=a+ua?ua:h-a;if(f<v)break;const p=f-v,w=qn-v;t.push(js(dl(v+p%w,0))),f=Hn(p/w)}t.push(js(dl(f,0))),a=nd(u,c,i===s),u=0,++i}++u,++r}return t.join("")},$v=function(e){return ed(e,function(t){return Mv.test(t)?rd(t.slice(4).toLowerCase()):t})},zv=function(e){return ed(e,function(t){return Pv.test(t)?"xn--"+ud(t):t})},ad={version:"2.3.1",ucs2:{decode:td,encode:Lv},decode:rd,encode:ud,toASCII:zv,toUnicode:$v},Uv={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Bv={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},jv={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},qv={default:Uv,zero:Bv,commonmark:jv},Hv=/^(vbscript|javascript|file|data):/,Wv=/^data:image\/(gif|png|jpeg|webp);/;function Vv(e){const t=e.trim().toLowerCase();return Hv.test(t)?Wv.test(t):!0}const sd=["http:","https:","mailto:"];function Gv(e){const t=Ho(e,!0);if(t.hostname&&(!t.protocol||sd.indexOf(t.protocol)>=0))try{t.hostname=ad.toASCII(t.hostname)}catch{}return pa(qo(t))}function Kv(e){const t=Ho(e,!0);if(t.hostname&&(!t.protocol||sd.indexOf(t.protocol)>=0))try{t.hostname=ad.toUnicode(t.hostname)}catch{}return ku(qo(t),ku.defaultChars+"%")}function An(e,t){if(!(this instanceof An))return new An(e,t);t||Vo(e)||(t=e||{},e="default"),this.inline=new ma,this.block=new ps,this.core=new Ko,this.renderer=new Tu,this.linkify=new _n,this.validateLink=Vv,this.normalizeLink=Gv,this.normalizeLinkText=Kv,this.utils=Yh,this.helpers=ds({},em),this.options={},this.configure(e),t&&this.set(t)}An.prototype.set=function(e){return ds(this.options,e),this};An.prototype.configure=function(e){const t=this;if(Vo(e)){const n=e;if(e=qv[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};An.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(u){return n.indexOf(u)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};An.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(u){n=n.concat(this[u].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(u){return n.indexOf(u)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};An.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};An.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};An.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};An.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};An.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:od,setPrototypeOf:fl,isFrozen:Zv,getPrototypeOf:Yv,getOwnPropertyDescriptor:Jv}=Object;let{freeze:ln,seal:Cn,create:id}=Object,{apply:_o,construct:yo}=typeof Reflect<"u"&&Reflect;ln||(ln=function(t){return t});Cn||(Cn=function(t){return t});_o||(_o=function(t,n){for(var r=arguments.length,u=new Array(r>2?r-2:0),a=2;a<r;a++)u[a-2]=arguments[a];return t.apply(n,u)});yo||(yo=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];return new t(...r)});const Sa=cn(Array.prototype.forEach),Xv=cn(Array.prototype.lastIndexOf),pl=cn(Array.prototype.pop),Lu=cn(Array.prototype.push),Qv=cn(Array.prototype.splice),$a=cn(String.prototype.toLowerCase),qs=cn(String.prototype.toString),Hs=cn(String.prototype.match),Ru=cn(String.prototype.replace),e2=cn(String.prototype.indexOf),t2=cn(String.prototype.trim),Mn=cn(Object.prototype.hasOwnProperty),rn=cn(RegExp.prototype.test),$u=n2(TypeError);function cn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];return _o(e,t,r)}}function n2(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yo(e,n)}}function Ke(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$a;fl&&fl(e,null);let r=t.length;for(;r--;){let u=t[r];if(typeof u=="string"){const a=n(u);a!==u&&(Zv(t)||(t[r]=a),u=a)}e[u]=!0}return e}function r2(e){for(let t=0;t<e.length;t++)Mn(e,t)||(e[t]=null);return e}function tr(e){const t=id(null);for(const[n,r]of od(e))Mn(e,n)&&(Array.isArray(r)?t[n]=r2(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=tr(r):t[n]=r);return t}function zu(e,t){for(;e!==null;){const r=Jv(e,t);if(r){if(r.get)return cn(r.get);if(typeof r.value=="function")return cn(r.value)}e=Yv(e)}function n(){return null}return n}const hl=ln(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ws=ln(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Vs=ln(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),u2=ln(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Gs=ln(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),a2=ln(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ml=ln(["#text"]),vl=ln(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ks=ln(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),gl=ln(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Aa=ln(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),s2=Cn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),o2=Cn(/<%[\w\W]*|[\w\W]*%>/gm),i2=Cn(/\$\{[\w\W]*/gm),l2=Cn(/^data-[\-\w.\u00B7-\uFFFF]+$/),c2=Cn(/^aria-[\-\w]+$/),ld=Cn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),d2=Cn(/^(?:\w+script|data):/i),f2=Cn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cd=Cn(/^html$/i),p2=Cn(/^[a-z][.\w]*(-[.\w]+)+$/i);var bl=Object.freeze({__proto__:null,ARIA_ATTR:c2,ATTR_WHITESPACE:f2,CUSTOM_ELEMENT:p2,DATA_ATTR:l2,DOCTYPE_NAME:cd,ERB_EXPR:o2,IS_ALLOWED_URI:ld,IS_SCRIPT_OR_DATA:d2,MUSTACHE_EXPR:s2,TMPLIT_EXPR:i2});const Uu={element:1,text:3,progressingInstruction:7,comment:8,document:9},h2=function(){return typeof window>"u"?null:window},m2=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const u="data-tt-policy-suffix";n&&n.hasAttribute(u)&&(r=n.getAttribute(u));const a="dompurify"+(r?"#"+r:"");try{return t.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},_l=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function dd(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h2();const t=se=>dd(se);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==Uu.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,u=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:i,Element:l,NodeFilter:c,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:v}=e,p=l.prototype,w=zu(p,"cloneNode"),y=zu(p,"remove"),_=zu(p,"nextSibling"),A=zu(p,"childNodes"),E=zu(p,"parentNode");if(typeof s=="function"){const se=n.createElement("template");se.content&&se.content.ownerDocument&&(n=se.content.ownerDocument)}let g,S="";const{implementation:x,createNodeIterator:T,createDocumentFragment:R,getElementsByTagName:z}=n,{importNode:F}=r;let I=_l();t.isSupported=typeof od=="function"&&typeof E=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:K,ERB_EXPR:N,TMPLIT_EXPR:Q,DATA_ATTR:q,ARIA_ATTR:ae,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:W}=bl;let{IS_ALLOWED_URI:O}=bl,V=null;const he=Ke({},[...hl,...Ws,...Vs,...Gs,...ml]);let pe=null;const H=Ke({},[...vl,...Ks,...gl,...Aa]);let j=Object.seal(id(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ce=null,ee=null,De=!0,Z=!0,B=!1,ye=!0,Me=!1,Re=!0,We=!1,Ae=!1,tt=!1,_e=!1,te=!1,Ee=!1,ge=!0,Te=!1;const $e="user-content-";let ue=!0,ve=!1,xe={},we=null;const be=Ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Oe=null;const Ce=Ke({},["audio","video","img","source","image","track"]);let Le=null;const Be=Ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ve="http://www.w3.org/1998/Math/MathML",je="http://www.w3.org/2000/svg",Pe="http://www.w3.org/1999/xhtml";let ut=Pe,Rt=!1,qt=null;const Zt=Ke({},[Ve,je,Pe],qs);let $t=Ke({},["mi","mo","mn","ms","mtext"]),Yt=Ke({},["annotation-xml"]);const nt=Ke({},["title","style","font","a","script"]);let Ge=null;const Ct=["application/xhtml+xml","text/html"],Jt="text/html";let de=null,Ie=null;const vt=n.createElement("form"),Mt=function(P){return P instanceof RegExp||P instanceof Function},Tt=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ie&&Ie===P)){if((!P||typeof P!="object")&&(P={}),P=tr(P),Ge=Ct.indexOf(P.PARSER_MEDIA_TYPE)===-1?Jt:P.PARSER_MEDIA_TYPE,de=Ge==="application/xhtml+xml"?qs:$a,V=Mn(P,"ALLOWED_TAGS")?Ke({},P.ALLOWED_TAGS,de):he,pe=Mn(P,"ALLOWED_ATTR")?Ke({},P.ALLOWED_ATTR,de):H,qt=Mn(P,"ALLOWED_NAMESPACES")?Ke({},P.ALLOWED_NAMESPACES,qs):Zt,Le=Mn(P,"ADD_URI_SAFE_ATTR")?Ke(tr(Be),P.ADD_URI_SAFE_ATTR,de):Be,Oe=Mn(P,"ADD_DATA_URI_TAGS")?Ke(tr(Ce),P.ADD_DATA_URI_TAGS,de):Ce,we=Mn(P,"FORBID_CONTENTS")?Ke({},P.FORBID_CONTENTS,de):be,ce=Mn(P,"FORBID_TAGS")?Ke({},P.FORBID_TAGS,de):tr({}),ee=Mn(P,"FORBID_ATTR")?Ke({},P.FORBID_ATTR,de):tr({}),xe=Mn(P,"USE_PROFILES")?P.USE_PROFILES:!1,De=P.ALLOW_ARIA_ATTR!==!1,Z=P.ALLOW_DATA_ATTR!==!1,B=P.ALLOW_UNKNOWN_PROTOCOLS||!1,ye=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Me=P.SAFE_FOR_TEMPLATES||!1,Re=P.SAFE_FOR_XML!==!1,We=P.WHOLE_DOCUMENT||!1,_e=P.RETURN_DOM||!1,te=P.RETURN_DOM_FRAGMENT||!1,Ee=P.RETURN_TRUSTED_TYPE||!1,tt=P.FORCE_BODY||!1,ge=P.SANITIZE_DOM!==!1,Te=P.SANITIZE_NAMED_PROPS||!1,ue=P.KEEP_CONTENT!==!1,ve=P.IN_PLACE||!1,O=P.ALLOWED_URI_REGEXP||ld,ut=P.NAMESPACE||Pe,$t=P.MATHML_TEXT_INTEGRATION_POINTS||$t,Yt=P.HTML_INTEGRATION_POINTS||Yt,j=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&Mt(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&Mt(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(j.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(Z=!1),te&&(_e=!0),xe&&(V=Ke({},ml),pe=[],xe.html===!0&&(Ke(V,hl),Ke(pe,vl)),xe.svg===!0&&(Ke(V,Ws),Ke(pe,Ks),Ke(pe,Aa)),xe.svgFilters===!0&&(Ke(V,Vs),Ke(pe,Ks),Ke(pe,Aa)),xe.mathMl===!0&&(Ke(V,Gs),Ke(pe,gl),Ke(pe,Aa))),P.ADD_TAGS&&(V===he&&(V=tr(V)),Ke(V,P.ADD_TAGS,de)),P.ADD_ATTR&&(pe===H&&(pe=tr(pe)),Ke(pe,P.ADD_ATTR,de)),P.ADD_URI_SAFE_ATTR&&Ke(Le,P.ADD_URI_SAFE_ATTR,de),P.FORBID_CONTENTS&&(we===be&&(we=tr(we)),Ke(we,P.FORBID_CONTENTS,de)),ue&&(V["#text"]=!0),We&&Ke(V,["html","head","body"]),V.table&&(Ke(V,["tbody"]),delete ce.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw $u('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $u('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=P.TRUSTED_TYPES_POLICY,S=g.createHTML("")}else g===void 0&&(g=m2(v,u)),g!==null&&typeof S=="string"&&(S=g.createHTML(""));ln&&ln(P),Ie=P}},zt=Ke({},[...Ws,...Vs,...u2]),Yr=Ke({},[...Gs,...a2]),dr=function(P){let re=E(P);(!re||!re.tagName)&&(re={namespaceURI:ut,tagName:"template"});const ke=$a(P.tagName),Fe=$a(re.tagName);return qt[P.namespaceURI]?P.namespaceURI===je?re.namespaceURI===Pe?ke==="svg":re.namespaceURI===Ve?ke==="svg"&&(Fe==="annotation-xml"||$t[Fe]):!!zt[ke]:P.namespaceURI===Ve?re.namespaceURI===Pe?ke==="math":re.namespaceURI===je?ke==="math"&&Yt[Fe]:!!Yr[ke]:P.namespaceURI===Pe?re.namespaceURI===je&&!Yt[Fe]||re.namespaceURI===Ve&&!$t[Fe]?!1:!Yr[ke]&&(nt[ke]||!zt[ke]):!!(Ge==="application/xhtml+xml"&&qt[P.namespaceURI]):!1},ze=function(P){Lu(t.removed,{element:P});try{E(P).removeChild(P)}catch{y(P)}},ot=function(P,re){try{Lu(t.removed,{attribute:re.getAttributeNode(P),from:re})}catch{Lu(t.removed,{attribute:null,from:re})}if(re.removeAttribute(P),P==="is")if(_e||te)try{ze(re)}catch{}else try{re.setAttribute(P,"")}catch{}},Pt=function(P){let re=null,ke=null;if(tt)P="<remove></remove>"+P;else{const Ue=Hs(P,/^[\r\n\t ]+/);ke=Ue&&Ue[0]}Ge==="application/xhtml+xml"&&ut===Pe&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const Fe=g?g.createHTML(P):P;if(ut===Pe)try{re=new h().parseFromString(Fe,Ge)}catch{}if(!re||!re.documentElement){re=x.createDocument(ut,"template",null);try{re.documentElement.innerHTML=Rt?S:Fe}catch{}}const qe=re.body||re.documentElement;return P&&ke&&qe.insertBefore(n.createTextNode(ke),qe.childNodes[0]||null),ut===Pe?z.call(re,We?"html":"body")[0]:We?re.documentElement:qe},_t=function(P){return T.call(P.ownerDocument||P,P,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Xt=function(P){return P instanceof f&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof d)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},Ut=function(P){return typeof i=="function"&&P instanceof i};function yt(se,P,re){Sa(se,ke=>{ke.call(t,P,re,Ie)})}const vn=function(P){let re=null;if(yt(I.beforeSanitizeElements,P,null),Xt(P))return ze(P),!0;const ke=de(P.nodeName);if(yt(I.uponSanitizeElement,P,{tagName:ke,allowedTags:V}),Re&&P.hasChildNodes()&&!Ut(P.firstElementChild)&&rn(/<[/\w!]/g,P.innerHTML)&&rn(/<[/\w!]/g,P.textContent)||P.nodeType===Uu.progressingInstruction||Re&&P.nodeType===Uu.comment&&rn(/<[/\w]/g,P.data))return ze(P),!0;if(!V[ke]||ce[ke]){if(!ce[ke]&&Tr(ke)&&(j.tagNameCheck instanceof RegExp&&rn(j.tagNameCheck,ke)||j.tagNameCheck instanceof Function&&j.tagNameCheck(ke)))return!1;if(ue&&!we[ke]){const Fe=E(P)||P.parentNode,qe=A(P)||P.childNodes;if(qe&&Fe){const Ue=qe.length;for(let st=Ue-1;st>=0;--st){const gt=w(qe[st],!0);gt.__removalCount=(P.__removalCount||0)+1,Fe.insertBefore(gt,_(P))}}}return ze(P),!0}return P instanceof l&&!dr(P)||(ke==="noscript"||ke==="noembed"||ke==="noframes")&&rn(/<\/no(script|embed|frames)/i,P.innerHTML)?(ze(P),!0):(Me&&P.nodeType===Uu.text&&(re=P.textContent,Sa([K,N,Q],Fe=>{re=Ru(re,Fe," ")}),P.textContent!==re&&(Lu(t.removed,{element:P.cloneNode()}),P.textContent=re)),yt(I.afterSanitizeElements,P,null),!1)},fr=function(P,re,ke){if(ge&&(re==="id"||re==="name")&&(ke in n||ke in vt))return!1;if(!(Z&&!ee[re]&&rn(q,re))){if(!(De&&rn(ae,re))){if(!pe[re]||ee[re]){if(!(Tr(P)&&(j.tagNameCheck instanceof RegExp&&rn(j.tagNameCheck,P)||j.tagNameCheck instanceof Function&&j.tagNameCheck(P))&&(j.attributeNameCheck instanceof RegExp&&rn(j.attributeNameCheck,re)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(re,P))||re==="is"&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&rn(j.tagNameCheck,ke)||j.tagNameCheck instanceof Function&&j.tagNameCheck(ke))))return!1}else if(!Le[re]){if(!rn(O,Ru(ke,Y,""))){if(!((re==="src"||re==="xlink:href"||re==="href")&&P!=="script"&&e2(ke,"data:")===0&&Oe[P])){if(!(B&&!rn(ie,Ru(ke,Y,"")))){if(ke)return!1}}}}}}return!0},Tr=function(P){return P!=="annotation-xml"&&Hs(P,W)},Jr=function(P){yt(I.beforeSanitizeAttributes,P,null);const{attributes:re}=P;if(!re||Xt(P))return;const ke={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pe,forceKeepAttr:void 0};let Fe=re.length;for(;Fe--;){const qe=re[Fe],{name:Ue,namespaceURI:st,value:gt}=qe,Je=de(Ue),it=gt;let Ye=Ue==="value"?it:t2(it);if(ke.attrName=Je,ke.attrValue=Ye,ke.keepAttr=!0,ke.forceKeepAttr=void 0,yt(I.uponSanitizeAttribute,P,ke),Ye=ke.attrValue,Te&&(Je==="id"||Je==="name")&&(ot(Ue,P),Ye=$e+Ye),Re&&rn(/((--!?|])>)|<\/(style|title|textarea)/i,Ye)){ot(Ue,P);continue}if(Je==="attributename"&&Hs(Ye,"href")){ot(Ue,P);continue}if(ke.forceKeepAttr)continue;if(!ke.keepAttr){ot(Ue,P);continue}if(!ye&&rn(/\/>/i,Ye)){ot(Ue,P);continue}Me&&Sa([K,N,Q],ht=>{Ye=Ru(Ye,ht," ")});const dn=de(P.nodeName);if(!fr(dn,Je,Ye)){ot(Ue,P);continue}if(g&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!st)switch(v.getAttributeType(dn,Je)){case"TrustedHTML":{Ye=g.createHTML(Ye);break}case"TrustedScriptURL":{Ye=g.createScriptURL(Ye);break}}if(Ye!==it)try{st?P.setAttributeNS(st,Ue,Ye):P.setAttribute(Ue,Ye),Xt(P)?ze(P):pl(t.removed)}catch{ot(Ue,P)}}yt(I.afterSanitizeAttributes,P,null)},Ne=function se(P){let re=null;const ke=_t(P);for(yt(I.beforeSanitizeShadowDOM,P,null);re=ke.nextNode();)yt(I.uponSanitizeShadowNode,re,null),vn(re),Jr(re),re.content instanceof a&&se(re.content);yt(I.afterSanitizeShadowDOM,P,null)};return t.sanitize=function(se){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},re=null,ke=null,Fe=null,qe=null;if(Rt=!se,Rt&&(se="<!-->"),typeof se!="string"&&!Ut(se))if(typeof se.toString=="function"){if(se=se.toString(),typeof se!="string")throw $u("dirty is not a string, aborting")}else throw $u("toString is not a function");if(!t.isSupported)return se;if(Ae||Tt(P),t.removed=[],typeof se=="string"&&(ve=!1),ve){if(se.nodeName){const gt=de(se.nodeName);if(!V[gt]||ce[gt])throw $u("root node is forbidden and cannot be sanitized in-place")}}else if(se instanceof i)re=Pt("<!---->"),ke=re.ownerDocument.importNode(se,!0),ke.nodeType===Uu.element&&ke.nodeName==="BODY"||ke.nodeName==="HTML"?re=ke:re.appendChild(ke);else{if(!_e&&!Me&&!We&&se.indexOf("<")===-1)return g&&Ee?g.createHTML(se):se;if(re=Pt(se),!re)return _e?null:Ee?S:""}re&&tt&&ze(re.firstChild);const Ue=_t(ve?se:re);for(;Fe=Ue.nextNode();)vn(Fe),Jr(Fe),Fe.content instanceof a&&Ne(Fe.content);if(ve)return se;if(_e){if(te)for(qe=R.call(re.ownerDocument);re.firstChild;)qe.appendChild(re.firstChild);else qe=re;return(pe.shadowroot||pe.shadowrootmode)&&(qe=F.call(r,qe,!0)),qe}let st=We?re.outerHTML:re.innerHTML;return We&&V["!doctype"]&&re.ownerDocument&&re.ownerDocument.doctype&&re.ownerDocument.doctype.name&&rn(cd,re.ownerDocument.doctype.name)&&(st="<!DOCTYPE "+re.ownerDocument.doctype.name+`>
`+st),Me&&Sa([K,N,Q],gt=>{st=Ru(st,gt," ")}),g&&Ee?g.createHTML(st):st},t.setConfig=function(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tt(se),Ae=!0},t.clearConfig=function(){Ie=null,Ae=!1},t.isValidAttribute=function(se,P,re){Ie||Tt({});const ke=de(se),Fe=de(P);return fr(ke,Fe,re)},t.addHook=function(se,P){typeof P=="function"&&Lu(I[se],P)},t.removeHook=function(se,P){if(P!==void 0){const re=Xv(I[se],P);return re===-1?void 0:Qv(I[se],re,1)[0]}return pl(I[se])},t.removeHooks=function(se){I[se]=[]},t.removeAllHooks=function(){I=_l()},t}var fd=dd();const v2=new An({html:!1,linkify:!0,typographer:!0,breaks:!0}),g2={USE_PROFILES:{html:!0},ADD_ATTR:["target","rel","class","colspan","rowspan","scope"],ADD_TAGS:["table","thead","tbody","tfoot","tr","th","td"]};fd.addHook("afterSanitizeAttributes",e=>{const t=e;if(!t||typeof t.tagName!="string"||t.tagName.toUpperCase()!=="A")return;t.setAttribute("target","_blank");const n=(t.getAttribute("rel")||"").split(/\s+/).filter(Boolean),r=["noopener","noreferrer","nofollow","ugc"],u=Array.from(new Set([...n,...r]));t.setAttribute("rel",u.join(" "))});function hu(e){if(!e)return"";const t=v2.render(e);return fd.sanitize(t,g2)}var b2=M('<span class="sender-model-text svelte-1cnmaqf"> </span>'),_2=M('<span class="sender-token-count svelte-1cnmaqf" aria-label="Total tokens used" title="Total tokens used"> </span>'),y2=M('<button type="button" aria-label="View reasoning trace"><!></button>'),x2=M('<button type="button" class="sender-citation-indicator svelte-1cnmaqf" aria-label="View web search details" title="View web search details"><!></button>'),k2=M('<span class="sender-tool-count svelte-1cnmaqf"> </span>'),E2=M('<span class="sender-tool-tokens svelte-1cnmaqf"> </span>'),w2=M('<button type="button" class="sender-tool-indicator svelte-1cnmaqf"><!> <!> <!></button>'),S2=M('<span class="sender-model svelte-1cnmaqf"><!> <!> <!> <!> <!></span>'),A2=M('<span class="sender svelte-1cnmaqf"><span class="sender-label svelte-1cnmaqf"> <!></span></span>'),C2=M('<button type="button" class="attachment-edit svelte-1cnmaqf" aria-label="Edit and resend image" title="Edit and resend image"><!> <span class="attachment-edit-label svelte-1cnmaqf">Edit &amp; send</span></button>'),D2=M('<figure class="attachment-card svelte-1cnmaqf"><div class="attachment-shell svelte-1cnmaqf"><a class="attachment-link svelte-1cnmaqf" target="_blank" rel="noreferrer"><img loading="lazy" class="svelte-1cnmaqf"/></a> <!></div></figure>'),T2=M('<div class="message-attachments svelte-1cnmaqf"></div>'),F2=M('<div class="message-meta svelte-1cnmaqf"><time class="svelte-1cnmaqf"> </time></div>'),M2=M('<button type="button" class="message-action svelte-1cnmaqf" aria-label="Edit message"><!></button> <button type="button" class="message-action svelte-1cnmaqf" aria-label="Retry message"><!></button>',1),P2=M('<button type="button" class="message-action svelte-1cnmaqf" aria-label="View usage details"><!></button>'),I2=M('<article><div><!> <div class="message-content svelte-1cnmaqf"><!> <!></div> <!> <div class="message-actions svelte-1cnmaqf"><button type="button"><!></button> <!> <!> <button type="button" class="message-action svelte-1cnmaqf" aria-label="Delete message"><!></button></div></div></article>');function N2(e,t){Qe(t,!1);const n=U(),r=U(),u=U(),a=U();let s=ne(t,"message",8),i=ne(t,"toolSummary",8),l=ne(t,"copied",8,!1),c=ne(t,"disableDelete",8,!1);const d=Et();let f=U(!1),h=U([]),v=U(!1),p=U(!1),w=U("View tool usage"),y=U(null),_=U(null),A=U(null);const E=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function g(){d("copy",{message:s()})}function S(){d("openReasoning",{message:s()})}function x(){d("openTool",{message:s()})}function T(){d("openWebSearchDetails",{message:s()})}function R(){const ue=s().details?.generationId;ue&&d("openUsage",{id:ue})}function z(){d("edit",{message:s()})}function F(){d("retry",{message:s()})}function I(){c()||d("delete",{message:s()})}function K(ue){d("editAttachment",{message:s(),attachment:ue})}function N(ue){const ve=ue.metadata?.filename;return typeof ve=="string"&&ve.trim()?ve:null}function Q(ue){const ve=N(ue);return ve?`Open attachment ${ve}`:"Open attachment"}function q(ue){return N(ue)??"Attachment preview"}const ae="America/New_York";function ie(ue){if(!ue)return null;const ve=new Date(ue);if(Number.isNaN(ve.getTime()))return null;const xe=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",weekday:"short",month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(ve),we=Pe=>xe.find(ut=>ut.type===Pe)?.value??"",be=we("weekday"),Oe=we("month"),Ce=we("day"),Le=we("year"),Be=we("hour"),Ve=we("minute"),je=we("second");return`${be} ${Oe} ${Ce} ${Le} ${Be}:${Ve}:${je} UTC`.replace(/\s+/g," ")}function Y(ue,ve){if(!ue)return null;const xe=typeof ue=="string"&&ue?ue:String(ue),we=new Date(xe);if(Number.isNaN(we.getTime()))return{iso:xe,display:xe,tooltip:xe};try{const Oe=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:ae,timeZoneName:"short"}).formatToParts(we),Ce=nt=>Oe.find(Ge=>Ge.type===nt)?.value??"",Le=Ce("hour"),Be=Ce("minute"),Ve=Ce("second"),je=Ce("dayPeriod"),Pe=Ce("timeZoneName"),ut=`${Le}:${Be} ${je}${Pe?` ${Pe}`:""}`.trim(),Rt=`${Le}:${Be}:${Ve} ${je}${Pe?` ${Pe}`:""}`.trim(),qt=new Intl.DateTimeFormat(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:ae,timeZoneName:"short"}),Zt=ie(ve??ue),$t=`${qt.format(we)} (${Rt})`,Yt=Zt?`${$t}
${Zt}`:$t;return{iso:xe,display:ut,tooltip:Yt}}catch(be){console.warn("Failed to format timestamp",be);const Oe=ie(ve??ue);return{iso:xe,display:we.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),tooltip:Oe??xe}}}fe(()=>L(i()),()=>{D(n,i()?.tokens?.totalTokens??null)}),fe(()=>o(n),()=>{D(A,o(n)!=null?`${E.format(o(n))} tokens`:null)}),fe(()=>L(i()),()=>{D(y,i()?.count&&i().count>0?`Ã${i().count}`:null)}),fe(()=>L(i()),()=>{D(p,!!i()?.used)}),fe(()=>{},()=>{D(_,null)}),fe(()=>(L(i()),o(A)),()=>{D(w,(()=>{const ue=[];return i()?.count&&i().count>0&&ue.push(`${i().count} ${i().count===1?"hop":"hops"}`),o(A)&&ue.push(`${o(A)}`),ue.length===0?"View tool usage":`View tool usage â ${ue.join(", ")}`})())}),fe(()=>L(s()),()=>{D(f,(s().details?.reasoning?.length??0)>0||!!s().details?.reasoningStatus)}),fe(()=>(L(s()),o(h),Nr),()=>{const ue=s().details?.meta?.web_search_results;s().role==="assistant"&&(console.log("=== FULL MESSAGE DEBUG ==="),console.log("Message ID:",s().id),console.log("Message role:",s().role),console.log("Message.details:",JSON.stringify(s().details,null,2)),console.log("webSearchResults:",ue),console.log("Is Array?",Array.isArray(ue)),console.log("Length:",Array.isArray(ue)?ue.length:0),console.log("========================")),Array.isArray(ue)&&ue.length>0?(D(h,ue.map(ve=>({url:ve.url||"",title:ve.title||ve.name||"",content:ve.snippet||ve.content||ve.description||""})).filter(ve=>ve.url)),console.log("Citations extracted:",o(h))):(D(h,Nr(s().details?.citations??null,s().details?.meta??null,s().details??null,s().content??null,{content:typeof s().content=="string"?s().content:null})),console.log("Citations from collectCitations:",o(h)))}),fe(()=>o(h),()=>{D(r,o(h).length>0)}),fe(()=>L(s()),()=>{D(v,!!s().details?.webSearchConfig)}),fe(()=>L(s()),()=>{D(u,(s().attachments?.length??0)>0)}),fe(()=>L(s()),()=>{D(a,Y(s().createdAt,s().createdAtUtc))}),At(),rt();var W=I2(),O=b(W);let V;var he=b(O);{var pe=ue=>{var ve=A2(),xe=b(ve),we=b(xe),be=C(we);{var Oe=Ce=>{var Le=S2(),Be=b(Le);{var Ve=nt=>{var Ge=b2(),Ct=b(Ge);G(()=>X(Ct,`â ${L(s()),m(()=>s().details.model)??""}`)),k(nt,Ge)};$(Be,nt=>{L(s()),m(()=>s().details?.model)&&nt(Ve)})}var je=C(Be,2);{var Pe=nt=>{var Ge=_2(),Ct=b(Ge);G(()=>X(Ct,o(A))),k(nt,Ge)};$(je,nt=>{o(A)&&nt(Pe)})}var ut=C(je,2);{var Rt=nt=>{var Ge=y2();let Ct;var Jt=b(Ge);Lp(Jt,{size:14,strokeWidth:1.8,"aria-hidden":"true"}),G(de=>{Ct=St(Ge,1,"sender-reasoning-indicator svelte-1cnmaqf",null,Ct,de),oe(Ge,"title",(L(s()),m(()=>s().details?.reasoningStatus==="streaming"?"Reasoning stream in progress":"View reasoning trace")))},[()=>({streaming:s().details?.reasoningStatus==="streaming"})]),J("click",Ge,S),k(nt,Ge)};$(ut,nt=>{o(f)&&nt(Rt)})}var qt=C(ut,2);{var Zt=nt=>{var Ge=x2(),Ct=b(Ge);Up(Ct,{size:14,strokeWidth:1.8,"aria-hidden":"true"}),J("click",Ge,T),k(nt,Ge)};$(qt,nt=>{o(v)&&nt(Zt)})}var $t=C(qt,2);{var Yt=nt=>{var Ge=w2(),Ct=b(Ge);Hp(Ct,{size:14,strokeWidth:1.8,"aria-hidden":"true"});var Jt=C(Ct,2);{var de=Mt=>{var Tt=k2(),zt=b(Tt);G(()=>X(zt,o(y))),k(Mt,Tt)};$(Jt,Mt=>{o(y)&&Mt(de)})}var Ie=C(Jt,2);{var vt=Mt=>{var Tt=E2(),zt=b(Tt);G(()=>X(zt,o(_))),k(Mt,Tt)};$(Ie,Mt=>{o(_)&&Mt(vt)})}G(()=>{oe(Ge,"aria-label",o(w)),oe(Ge,"title",o(w))}),J("click",Ge,x),k(nt,Ge)};$($t,nt=>{o(p)&&nt(Yt)})}k(Ce,Le)};$(be,Ce=>{L(s()),m(()=>s().role==="assistant")&&Ce(Oe)})}G(()=>X(we,`${L(s()),m(()=>s().role)??""} `)),k(ue,ve)};$(he,ue=>{L(s()),m(()=>s().role!=="user")&&ue(pe)})}var H=C(he,2),j=b(H);{var ce=ue=>{var ve=Se(),xe=me(ve);oo(xe,()=>(L(hu),L(s()),m(()=>hu(s().text)))),k(ue,ve)};$(j,ue=>{L(s()),m(()=>s().text)&&ue(ce)})}var ee=C(j,2);{var De=ue=>{var ve=T2();mt(ve,5,()=>(L(s()),m(()=>s().attachments)),xe=>xe.id??xe.displayUrl??xe.deliveryUrl,(xe,we)=>{var be=D2(),Oe=b(be),Ce=b(Oe),Le=b(Ce),Be=C(Ce,2);{var Ve=je=>{var Pe=C2(),ut=b(Pe);Mi(ut,{size:14,strokeWidth:1.8,"aria-hidden":"true"}),J("click",Pe,()=>K(o(we))),k(je,Pe)};$(Be,je=>{L(s()),m(()=>s().role==="assistant")&&je(Ve)})}G((je,Pe)=>{oe(Ce,"href",(o(we),m(()=>o(we).displayUrl||o(we).deliveryUrl))),oe(Ce,"aria-label",je),oe(Le,"src",(o(we),m(()=>o(we).displayUrl||o(we).deliveryUrl))),oe(Le,"alt",Pe)},[()=>(o(we),m(()=>Q(o(we)))),()=>(o(we),m(()=>q(o(we))))]),k(xe,be)}),k(ue,ve)};$(ee,ue=>{L(s()),m(()=>s().attachments?.length)&&ue(De)})}Wa(H,ue=>mo?.(ue));var Z=C(H,2);{var B=ue=>{var ve=F2(),xe=b(ve),we=b(xe);G(()=>{oe(xe,"datetime",(o(a),m(()=>o(a).iso))),oe(xe,"title",(o(a),m(()=>o(a).tooltip))),X(we,(o(a),m(()=>o(a).display)))}),k(ue,ve)};$(Z,ue=>{o(a)&&ue(B)})}var ye=C(Z,2),Me=b(ye);let Re;var We=b(Me);{var Ae=ue=>{$p(ue,{size:16,strokeWidth:1.6,"aria-hidden":"true"})},tt=ue=>{zp(ue,{size:16,strokeWidth:1.6,"aria-hidden":"true"})};$(We,ue=>{l()?ue(Ae):ue(tt,!1)})}var _e=C(Me,2);{var te=ue=>{var ve=M2(),xe=me(ve),we=b(xe);Mi(we,{size:16,strokeWidth:1.6,"aria-hidden":"true"});var be=C(xe,2),Oe=b(be);Bp(Oe,{size:16,strokeWidth:1.6,"aria-hidden":"true"}),J("click",xe,z),J("click",be,F),k(ue,ve)};$(_e,ue=>{L(s()),m(()=>s().role==="user")&&ue(te)})}var Ee=C(_e,2);{var ge=ue=>{var ve=P2(),xe=b(ve);Rp(xe,{size:16,strokeWidth:1.6,"aria-hidden":"true"}),J("click",ve,R),k(ue,ve)};$(Ee,ue=>{L(s()),m(()=>s().role==="assistant"&&s().details?.generationId)&&ue(ge)})}var Te=C(Ee,2),$e=b(Te);qp($e,{size:16,strokeWidth:1.6,"aria-hidden":"true"}),G((ue,ve)=>{St(W,1,(L(s()),m(()=>`message ${s().role}`)),"svelte-1cnmaqf"),V=St(O,1,"bubble svelte-1cnmaqf",null,V,ue),Re=St(Me,1,"message-action svelte-1cnmaqf",null,Re,ve),oe(Me,"aria-label",l()?"Message copied":"Copy message"),Te.disabled=c()},[()=>({"has-attachments":o(u)}),()=>({copied:l()})]),J("click",Me,g),J("click",Te,I),k(e,W),et()}var O2=M('<p class="reasoning-modal-subtitle svelte-2cxve6"> </p>'),L2=M('<span aria-live="polite"><span class="reasoning-status-indicator svelte-2cxve6" aria-hidden="true"></span> </span>'),R2=M('<p class="reasoning-modal-status svelte-2cxve6">No reasoning data received yet.</p>'),$2=M('<pre class="reasoning-modal-text svelte-2cxve6"> </pre>'),z2=M('<div class="reasoning-modal-layer svelte-2cxve6"><button type="button" class="reasoning-modal-backdrop svelte-2cxve6" aria-label="Close reasoning details"></button> <div class="reasoning-modal svelte-2cxve6" role="dialog" aria-modal="true" aria-labelledby="reasoning-modal-title" tabindex="-1"><header class="reasoning-modal-header svelte-2cxve6"><div class="svelte-2cxve6"><h2 id="reasoning-modal-title" class="svelte-2cxve6">Reasoning trace</h2> <!></div> <div class="reasoning-modal-actions svelte-2cxve6"><!> <button type="button" class="modal-close svelte-2cxve6" aria-label="Close reasoning details">Close</button></div></header> <section class="reasoning-modal-body svelte-2cxve6"><!></section></div></div>');function U2(e,t){Qe(t,!1);const n=Et();let r=ne(t,"open",8,!1),u=ne(t,"messageId",8,null),a=ne(t,"segments",24,()=>[]),s=ne(t,"status",8,null),i=U(null),l=U(null),c=U("");const d=12;let f=!0,h=!1;function v(g){if(!g||g.length===0)return"";let S="",x;for(const T of g){if(!T||typeof T.text!="string"||T.text.length===0)continue;const R=T.text;x&&T.type&&x!==T.type&&(S.endsWith(`
`)||(S+=`
`),S+=`
`),S.length>0&&!S.endsWith(" ")&&!S.endsWith(`
`)&&!S.endsWith("	")&&!S.endsWith("(")&&!S.endsWith("[")&&!S.endsWith("{")&&!S.endsWith("/")&&!S.endsWith("'")&&!S.endsWith("â")&&!/^[\s,.!?;:)/\]\}'"âºÂ»]/u.test(R)&&R[0]!=="'"&&R[0]!=="â"&&(S+=" "),S+=R,x=T.type??x}return S}mc(()=>{r()&&!h&&(f=!0),h=r(),r()&&o(i)&&o(i).focus(),r()&&o(l)&&s()==="streaming"&&f&&Bl(l,o(l).scrollTop=o(l).scrollHeight)});function p(){if(!o(l))return;const{scrollTop:g,scrollHeight:S,clientHeight:x}=o(l);f=S-(g+x)<=d}function w(){n("close")}function y(g){r()&&g.key==="Escape"&&(g.preventDefault(),w())}fe(()=>L(a()),()=>{D(c,v(a()))}),At(),rt();var _=Se();J("keydown",qa,y);var A=me(_);{var E=g=>{var S=z2(),x=b(S),T=C(x,2),R=b(T),z=b(R),F=C(b(z),2);{var I=O=>{var V=O2(),he=b(V);G(()=>X(he,`Message ID: ${u()??""}`)),k(O,V)};$(F,O=>{u()&&O(I)})}var K=C(z,2),N=b(K);{var Q=O=>{var V=L2(),he=C(b(V));G(()=>{St(V,1,`reasoning-status ${s()}`,"svelte-2cxve6"),X(he,` ${s()==="streaming"?"Streaming":"Complete"}`)}),k(O,V)};$(N,O=>{s()&&O(Q)})}var q=C(N,2),ae=C(R,2),ie=b(ae);{var Y=O=>{var V=R2();k(O,V)},W=O=>{var V=$2(),he=b(V);G(()=>X(he,o(c))),k(O,V)};$(ie,O=>{o(c),m(()=>o(c).length===0)?O(Y):O(W,!1)})}Ar(ae,O=>D(l,O),()=>o(l)),Ar(T,O=>D(i,O),()=>o(i)),J("click",x,w),J("click",q,w),J("scroll",ae,p),k(g,S)};$(A,g=>{r()&&g(E)})}k(e,_),et()}var B2=M('<p class="status">No tool activity recorded.</p>'),j2=M('<span class="tool-usage-modal-status-pill svelte-12mixwl"> </span>'),q2=M('<div class="tool-usage-modal-section svelte-12mixwl"><span class="tool-usage-modal-section-label svelte-12mixwl">Input</span> <div class="tool-usage-modal-block svelte-12mixwl"><!></div></div>'),H2=M('<div class="tool-usage-modal-section svelte-12mixwl"><span class="tool-usage-modal-section-label svelte-12mixwl">Output</span> <div class="tool-usage-modal-block svelte-12mixwl"><!></div></div>'),W2=M('<p class="status tool-usage-status svelte-12mixwl">No details provided.</p>'),V2=M('<li class="tool-usage-modal-item svelte-12mixwl"><div class="tool-usage-modal-item-header svelte-12mixwl"><span class="tool-usage-modal-name svelte-12mixwl"> </span> <!></div> <details class="tool-usage-modal-details svelte-12mixwl"><summary class="tool-usage-modal-summary svelte-12mixwl">Show input &amp; output</summary> <!> <!> <!></details></li>'),G2=M('<ul class="tool-usage-modal-list svelte-12mixwl"></ul>'),K2=M('<p class="model-settings-subtitle"> </p>'),Z2=M('<h2 id="tool-usage-modal-title">Tools used</h2> <!>',1);function Y2(e,t){Qe(t,!1);const n=Et();let r=ne(t,"open",8,!1),u=ne(t,"messageId",8,null),a=ne(t,"tools",24,()=>[]);function s(){n("close")}rt();var i=Se(),l=me(i);{var c=d=>{cr(d,{get open(){return r()},labelledBy:"tool-usage-modal-title",modalClass:"tool-usage-modal",bodyClass:"tool-usage-body",closeLabel:"Close tool usage details",$$events:{close:s},children:(f,h)=>{var v=Se(),p=me(v);{var w=_=>{var A=B2();k(_,A)},y=_=>{var A=G2();mt(A,5,a,E=>E.id,(E,g)=>{var S=V2(),x=b(S),T=b(x),R=b(T),z=C(T,2);{var F=Y=>{var W=j2(),O=b(W);G(()=>X(O,(o(g),m(()=>o(g).status)))),k(Y,W)};$(z,Y=>{o(g),m(()=>o(g).status)&&Y(F)})}var I=C(x,2),K=C(b(I),2);{var N=Y=>{var W=q2(),O=C(b(W),2),V=b(O);oo(V,()=>(L(hu),o(g),m(()=>hu(o(g).input)))),Wa(O,he=>mo?.(he)),k(Y,W)};$(K,Y=>{o(g),m(()=>o(g).input)&&Y(N)})}var Q=C(K,2);{var q=Y=>{var W=H2(),O=C(b(W),2),V=b(O);oo(V,()=>(L(hu),o(g),m(()=>hu(o(g).result)))),Wa(O,he=>mo?.(he)),k(Y,W)};$(Q,Y=>{o(g),m(()=>o(g).result)&&Y(q)})}var ae=C(Q,2);{var ie=Y=>{var W=W2();k(Y,W)};$(ae,Y=>{o(g),m(()=>!o(g).input&&!o(g).result)&&Y(ie)})}G(()=>X(R,(o(g),m(()=>o(g).name)))),k(E,S)}),k(_,A)};$(p,_=>{L(a()),m(()=>a().length===0)?_(w):_(y,!1)})}k(f,v)},$$slots:{default:!0,heading:(f,h)=>{var v=Z2(),p=C(me(v),2);{var w=y=>{var _=K2(),A=b(_);G(()=>X(A,`Message ID: ${u()??""}`)),k(y,_)};$(p,y=>{u()&&y(w)})}k(f,v)}}})};$(l,d=>{r()&&d(c)})}k(e,i),et()}var J2=M('<p class="status svelte-1oswcu0">No web search details available.</p>'),X2=M('<div class="detail-item svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Context Size</div> <div class="detail-value svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0">Amount of search context provided to the model</div></div>'),Q2=M('<div class="detail-item full-width svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Custom Search Prompt</div> <div class="detail-value prompt svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0">Instructions for how to incorporate search results</div></div>'),eg=M('<div class="details-grid svelte-1oswcu0"><div class="detail-item svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Search Engine</div> <div class="detail-value engine svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0"><!></div></div> <div class="detail-item svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Max Results</div> <div class="detail-value svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0">Number of search results retrieved</div></div> <!> <!></div>'),tg=M('<p class="model-settings-subtitle"> </p>'),ng=M('<h2 id="web-search-details-modal-title">Web Search Details</h2> <!>',1);function rg(e,t){Qe(t,!1);const n=Et();let r=ne(t,"open",8,!1),u=ne(t,"messageId",8,null),a=ne(t,"details",8,null);function s(){n("close")}function i(h){return h?h==="native"?"Native (OpenAI/Anthropic)":h==="exa"?"Exa":h:"Auto"}function l(h){return h?h.charAt(0).toUpperCase()+h.slice(1):"Default"}rt();var c=Se(),d=me(c);{var f=h=>{cr(h,{get open(){return r()},labelledBy:"web-search-details-modal-title",modalClass:"web-search-details-modal",bodyClass:"web-search-details-modal-body",closeLabel:"Close web search details",$$events:{close:s},children:(v,p)=>{var w=Se(),y=me(w);{var _=E=>{var g=J2();k(E,g)},A=E=>{var g=eg(),S=b(g),x=C(b(S),2),T=b(x),R=C(x,2),z=b(R);{var F=W=>{var O=Ln("Automatic selection based on model provider");k(W,O)},I=W=>{var O=Se(),V=me(O);{var he=H=>{var j=Ln("Using provider's built-in web search");k(H,j)},pe=H=>{var j=Se(),ce=me(j);{var ee=De=>{var Z=Ln("Using Exa's AI-powered search API");k(De,Z)};$(ce,De=>{L(a()),m(()=>a().engine==="exa")&&De(ee)},!0)}k(H,j)};$(V,H=>{L(a()),m(()=>a().engine==="native")?H(he):H(pe,!1)},!0)}k(W,O)};$(z,W=>{L(a()),m(()=>!a().engine||a().engine===null)?W(F):W(I,!1)})}var K=C(S,2),N=C(b(K),2),Q=b(N),q=C(K,2);{var ae=W=>{var O=X2(),V=C(b(O),2),he=b(V);G(pe=>X(he,pe),[()=>(L(a()),m(()=>l(a().contextSize)))]),k(W,O)};$(q,W=>{L(a()),m(()=>a().contextSize)&&W(ae)})}var ie=C(q,2);{var Y=W=>{var O=Q2(),V=C(b(O),2),he=b(V);G(()=>X(he,(L(a()),m(()=>a().searchPrompt)))),k(W,O)};$(ie,W=>{L(a()),m(()=>a().searchPrompt&&a().searchPrompt.trim())&&W(Y)})}G(W=>{X(T,W),X(Q,(L(a()),m(()=>a().maxResults??5)))},[()=>(L(a()),m(()=>i(a().engine)))]),k(E,g)};$(y,E=>{a()?E(A,!1):E(_)})}k(v,w)},$$slots:{default:!0,heading:(v,p)=>{var w=ng(),y=C(me(w),2);{var _=A=>{var E=tg(),g=b(E);G(()=>X(g,`Message ID: ${u()??""}`)),k(A,E)};$(y,A=>{u()&&A(_)})}k(v,w)}}})};$(d,h=>{r()&&h(f)})}k(e,c),et()}var ug=M('<div class="conversation-item svelte-26wxji"><!></div>'),ag=M('<section class="conversation svelte-26wxji" aria-live="polite"></section> <!> <!> <!> <!>',1);function sg(e,t){Qe(t,!1);const n=()=>Xe(g,"$toolUsageModal",s),r=()=>Xe(S,"$reasoningModal",s),u=()=>Xe(x,"$citationsModal",s),a=()=>Xe(T,"$webSearchDetailsModal",s),[s,i]=Gn();let l=ne(t,"messages",24,()=>[]),c=ne(t,"disableDelete",8,!1),d=U(null),f=U(null),h=null,v=U([]),p=U({}),w=U({});const y="tool";let _=!1;const A=12;let E=!0;const g=G1(),S=U1(),x=Ic(),T=K1(),R=Et();mc(()=>{if(o(d)){if(_){_=!1;return}E&&Bl(d,o(d).scrollTop=o(d).scrollHeight)}});function z(){if(!o(d))return;const{scrollTop:B,scrollHeight:ye,clientHeight:Me}=o(d);E=ye-(B+Me)<=A}function F(B){B&&R("openGenerationDetails",{id:B})}async function I(B){try{await navigator.clipboard.writeText(B.text??"")}catch(ye){console.error("Failed to copy message",ye);return}D(f,B.id),_=!0,h&&clearTimeout(h),h=setTimeout(()=>{_=!0,D(f,null),h=null},2e3)}fa(()=>{h&&clearTimeout(h)});function K(B){g.openForMessage(l(),o(w),B.id,y)}function N(){g.close()}function Q(B){S.openForMessage(B)}function q(){S.close()}function ae(B){const ye=Nr(B.details?.citations??null,B.details?.meta??null,B.details??null);x.openWithCitations(B.id,ye)}function ie(){x.close()}function Y(B){T.openForMessage(B)}function W(){T.close()}function O(B){B&&R("deleteMessage",{id:B.id})}function V(B){B&&R("retryMessage",{id:B.id})}function he(B){B&&R("editMessage",{id:B.id})}function pe(B){!B?.message||!B?.attachment||R("editAssistantAttachment",B)}fe(()=>L(l()),()=>{const B=H1(l(),y);D(v,B.visibleMessages),D(p,B.assistantToolUsage),D(w,B.messageIndexMap)}),fe(()=>(L(l()),o(w)),()=>{g.syncEntries(l(),o(w),y)}),fe(()=>L(l()),()=>{S.syncFromMessages(l())}),At(),rt();var H=ag(),j=me(H);mt(j,5,()=>o(v),B=>B.id,(B,ye)=>{var Me=ug(),Re=b(Me);{let We=ct(()=>(o(f),o(ye),m(()=>o(f)===o(ye).id)));N2(Re,{get message(){return o(ye)},get toolSummary(){return o(p),o(ye),m(()=>o(p)[o(ye).id])},get copied(){return o(We)},get disableDelete(){return c()},$$events:{copy:Ae=>I(Ae.detail.message),openTool:Ae=>K(Ae.detail.message),openReasoning:Ae=>Q(Ae.detail.message),openCitations:Ae=>ae(Ae.detail.message),openWebSearchDetails:Ae=>Y(Ae.detail.message),openUsage:Ae=>F(Ae.detail.id),delete:Ae=>O(Ae.detail.message),retry:Ae=>V(Ae.detail.message),edit:Ae=>he(Ae.detail.message),editAttachment:Ae=>pe(Ae.detail)}})}k(B,Me)}),Ar(j,B=>D(d,B),()=>o(d));var ce=C(j,2);Y2(ce,{get open(){return n(),m(()=>n().open)},get messageId(){return n(),m(()=>n().messageId)},get tools(){return n(),m(()=>n().tools)},$$events:{close:N}});var ee=C(ce,2);U2(ee,{get open(){return r(),m(()=>r().open)},get messageId(){return r(),m(()=>r().messageId)},get segments(){return r(),m(()=>r().segments)},get status(){return r(),m(()=>r().status)},$$events:{close:q}});var De=C(ee,2);ah(De,{get open(){return u(),m(()=>u().open)},get messageId(){return u(),m(()=>u().messageId)},get citations(){return u(),m(()=>u().citations)},$$events:{close:ie}});var Z=C(De,2);rg(Z,{get open(){return a(),m(()=>a().open)},get messageId(){return a(),m(()=>a().messageId)},get details(){return a(),m(()=>a().details)},$$events:{close:W}}),J("scroll",j,z),k(e,H),et(),i()}const og=[{key:"temperature",aliases:["temperature"],label:"Temperature",description:"Higher values increase randomness.",fallback:{type:"number",min:0,max:2,step:.1}},{key:"top_p",aliases:["top_p"],label:"Top P",description:"Limits sampling to a cumulative probability mass.",fallback:{type:"number",min:0,max:1,step:.01}},{key:"top_k",aliases:["top_k"],label:"Top K",description:"Restrict sampling to the top K tokens.",fallback:{type:"integer",min:1,max:400,step:1}},{key:"min_p",aliases:["min_p"],label:"Min P",description:"Nucleus sampling floor; smaller values widen sampling.",fallback:{type:"number",min:0,max:1,step:.01}},{key:"top_a",aliases:["top_a"],label:"Top A",description:"Alternative nucleus control for certain models.",fallback:{type:"number",min:0,max:1,step:.01}},{key:"max_tokens",aliases:["max_tokens","max_output_tokens"],label:"Max completion tokens",description:"Upper bound on tokens generated in the response.",fallback:{type:"integer",min:1,max:32768,step:1}},{key:"frequency_penalty",aliases:["frequency_penalty"],label:"Frequency penalty",description:"Penalize frequent tokens; useful to reduce repetition.",fallback:{type:"number",min:-2,max:2,step:.05}},{key:"presence_penalty",aliases:["presence_penalty"],label:"Presence penalty",description:"Encourage introducing new topics by penalizing seen tokens.",fallback:{type:"number",min:-2,max:2,step:.05}},{key:"repetition_penalty",aliases:["repetition_penalty"],label:"Repetition penalty",description:"Higher values push the model away from repeating itself.",fallback:{type:"number",min:0,max:2,step:.05}},{key:"top_logprobs",aliases:["top_logprobs"],label:"Top logprobs",description:"Return log probabilities for the top N tokens per step.",fallback:{type:"integer",min:0,max:20,step:1}},{key:"seed",aliases:["seed"],label:"Seed",description:"Deterministic seed (when supported).",fallback:{type:"integer",min:0,step:1}},{key:"parallel_tool_calls",aliases:["parallel_tool_calls"],label:"Parallel tool calls",description:"Allow the model to invoke multiple tools simultaneously.",fallback:{type:"boolean"}},{key:"structured_outputs",aliases:["structured_outputs","json_schema","response_format"],label:"Structured outputs",description:"Favor structured responses when supported by the provider.",fallback:{type:"boolean"}},{key:"safe_prompt",aliases:["safe_prompt"],label:"Safe prompt",description:"Ask the provider to apply additional safety prompting.",fallback:{type:"boolean"}},{key:"raw_mode",aliases:["raw_mode"],label:"Raw mode",description:"Bypass guardrails when the provider allows it.",fallback:{type:"boolean"}}];function Yu(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t?t.replace(/[^a-z0-9_\-]/g,"_"):null}function Zs(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()){const t=Number(e);if(Number.isFinite(t))return t}}function pd(e){const t={};if(!e||!e.capabilities)return t;const r=e.capabilities.parameters;if(!r||typeof r!="object")return t;function u(a,s){const i=Yu(a);if(!i||!s||typeof s!="object")return;const l=s,c={},d=l.type??l.datatype??l.kind;typeof d=="string"&&(c.type=d.toLowerCase());const f=l.min??l.minimum??l.lower_bound??l.minimum_value,h=l.max??l.maximum??l.upper_bound??l.maximum_value,v=l.step??l.increment??l.resolution,p=Zs(f),w=Zs(h),y=Zs(v);p!==void 0&&(c.min=p),w!==void 0&&(c.max=w),y!==void 0&&(c.step=y),t[i]=c;const _=l.properties;if(_&&typeof _=="object")for(const[A,E]of Object.entries(_))u(`${a}.${A}`,E)}for(const[a,s]of Object.entries(r))u(a,s);return t}function hd(e){const t=new Set;if(!e)return t;const n=e.supported_parameters_normalized;if(Array.isArray(n))for(const u of n){const a=Yu(u);a&&t.add(a)}const r=e.supported_parameters;if(Array.isArray(r))for(const u of r){const a=Yu(u);a&&t.add(a)}if(t.size===0)for(const u of Uo(e)){const a=Yu(u);a&&t.add(a)}return t}function ig(e,t){const n=e.fallback;if(n.type==="boolean")return{key:e.key,label:e.label,description:e.description,type:"boolean"};const r={key:e.key,label:e.label,description:e.description,type:n.type,min:n.min,max:n.max,step:n.step};if(!t)return r.type==="integer"&&(!r.step||r.step<=0)&&(r.step=1),r;const u=t.type?.toLowerCase();return u==="boolean"?{key:e.key,label:e.label,description:e.description,type:"boolean"}:(u==="integer"||u==="int"?r.type="integer":(u==="number"||u==="float"||u==="double")&&(r.type="number"),t.min!==void 0&&(r.min=t.min),t.max!==void 0&&(r.max=t.max),t.step!==void 0&&(r.step=t.step),r.type==="integer"&&(!r.step||r.step<=0)&&(r.step=1),r)}function lg(e,t){const n=hd(e),r=new Set(t?Object.keys(t):[]),u=pd(e),a=[],s=new Set;for(const i of og){if(!i.aliases.some(f=>n.has(f))&&!r.has(i.key)||s.has(i.key))continue;const c=i.aliases.map(f=>u[f]).find(f=>f!==void 0),d=ig(i,c);"min"in d&&"max"in d&&d.min!==void 0&&d.max!==void 0&&d.min>=d.max&&(d.min=void 0,d.max=void 0),a.push(d),s.add(i.key)}return a}function md(e,t){const n=e?.[t];return typeof n=="number"&&Number.isFinite(n)?n:void 0}function Qa(e,t){let n=e;return t.min!==void 0&&(n=Math.max(n,t.min)),t.max!==void 0&&(n=Math.min(n,t.max)),n}function vd(e){const t=e.min??0,n=e.max??t;if(t<=0&&n>=0)return Qa(0,e);const r=t+(n-t)/2;return Qa(r,e)}function cg(e,t){const n=md(t,e.key);return n!==void 0?Qa(n,e):vd(e)}function yl(e){if(e.step&&e.step>0)return e.step;if(e.type==="integer")return 1;const t=e.min??0,r=(e.max??t+1)-t;if(!Number.isFinite(r)||r<=0)return .01;const u=r/100;return u>0?u:.01}function dg(e,t){const n=e.min??0,u=(e.max??n)-n;if(!Number.isFinite(u)||u===0)return"0%";const s=(Qa(t??vd(e),e)-n)/u*100;return`${Math.min(100,Math.max(0,s))}%`}const fg=new Intl.NumberFormat(void 0,{maximumFractionDigits:4});function es(e){return typeof e=="number"&&Number.isFinite(e)?String(e):""}function Bu(e,t){return t.type==="integer"?String(Math.round(e)):fg.format(e)}var pg=M('<div class="setting-range"><div class="setting-range-header"><span> </span> <button type="button" class="range-reset">Use default</button></div> <input class="range-input" type="range"/> <div class="range-extents"><span> </span> <span> </span></div></div>');function hg(e,t){Qe(t,!1);const n=U(),r=U(),u=U(),a=U(),s=U();let i=ne(t,"field",8),l=ne(t,"parameters",8),c=ne(t,"numericValue",8),d=ne(t,"hasCustom",8,!1),f=ne(t,"handlers",8);fe(()=>(L(i()),L(l())),()=>{D(n,cg(i(),l()))}),fe(()=>(L(i()),L(c())),()=>{D(r,dg(i(),c()))}),fe(()=>(L(c()),L(i())),()=>{D(u,c()!==void 0?Bu(c(),i()):"Provider default")}),fe(()=>(L(i()),o(n)),()=>{D(a,i().min??o(n))}),fe(()=>(L(i()),o(n)),()=>{D(s,i().max??o(n))}),At(),rt();var h=pg(),v=b(h),p=b(v);let w;var y=b(p),_=C(p,2),A=C(v,2),E=C(A,2),g=b(E),S=b(g),x=C(g,2),T=b(x);G((R,z,F,I)=>{w=St(p,1,"range-value",null,w,R),X(y,o(u)),_.disabled=!d(),oe(A,"min",(L(i()),m(()=>i().min))),oe(A,"max",(L(i()),m(()=>i().max))),oe(A,"step",z),Ot(A,o(n)),nr(A,`--slider-fill:${o(r)};`),oe(A,"aria-valuemin",(L(i()),m(()=>i().min))),oe(A,"aria-valuemax",(L(i()),m(()=>i().max))),oe(A,"aria-valuenow",c()??void 0),oe(A,"aria-valuetext",o(u)),X(S,F),X(T,I)},[()=>({default:!d()}),()=>(L(yl),L(i()),m(()=>yl(i()))),()=>(L(Bu),o(a),L(i()),m(()=>Bu(o(a),i()))),()=>(L(Bu),o(s),L(i()),m(()=>Bu(o(s),i())))]),J("click",_,()=>f().onRangeReset(i().key)),J("input",A,R=>f().onSliderInput(i().key,R)),k(e,h),et()}var mg=M('<span class="setting-hint"> </span>'),vg=M('<input class="input-control" type="number" placeholder="Default"/>'),gg=M('<div class="setting-boolean"><input type="checkbox"/> <span>Enabled</span></div>'),bg=M('<label class="setting"><div class="setting-header"><span class="setting-label"> </span> <!></div> <!></label>');function _g(e,t){Qe(t,!1);let n=ne(t,"field",8),r=ne(t,"parameters",8),u=ne(t,"handlers",8);const a=_=>_.type==="number"||_.type==="integer";let s=U(),i=U(!1);fe(()=>(L(n()),L(r())),()=>{a(n())?D(s,md(r(),n().key)):D(s,void 0)}),fe(()=>(L(r()),L(n())),()=>{D(i,r()?.[n().key]!=null)}),At(),rt();var l=bg(),c=b(l),d=b(c),f=b(d),h=C(d,2);{var v=_=>{var A=mg(),E=b(A);G(()=>X(E,(L(n()),m(()=>n().description)))),k(_,A)};$(h,_=>{L(n()),m(()=>n().description)&&_(v)})}var p=C(c,2);{var w=_=>{var A=Se(),E=me(A);{var g=x=>{hg(x,{get field(){return n()},get parameters(){return r()},get numericValue(){return o(s)},get hasCustom(){return o(i)},get handlers(){return u()}})},S=x=>{var T=vg();G(R=>{oe(T,"inputmode",(L(n()),m(()=>n().type==="integer"?"numeric":"decimal"))),oe(T,"step",(L(n()),m(()=>n().step??(n().type==="integer"?1:"any")))),oe(T,"min",(L(n()),m(()=>n().min??void 0))),oe(T,"max",(L(n()),m(()=>n().max??void 0))),Ot(T,R)},[()=>(L(es),L(r()),L(n()),m(()=>es(r()?.[n().key])))]),J("change",T,R=>u().onNumberChange(n().key,R)),k(x,T)};$(E,x=>{L(n()),m(()=>n().min!==void 0&&n().max!==void 0)?x(g):x(S,!1)})}k(_,A)},y=_=>{var A=Se(),E=me(A);{var g=S=>{var x=gg(),T=b(x);G(()=>{oe(T,"id",(L(n()),m(()=>`field-${n().key}`))),Vt(T,(L(r()),L(n()),m(()=>r()?.[n().key]===!0)))}),J("change",T,R=>u().onBooleanChange(n().key,R)),k(S,x)};$(E,S=>{L(n()),m(()=>n().type==="boolean")&&S(g)},!0)}k(_,A)};$(p,_=>{L(n()),m(()=>a(n()))?_(w):_(y,!1)})}G(()=>X(f,(L(n()),m(()=>n().label)))),k(e,l),et()}var yg=M("<option> </option>"),xg=M('<label class="reasoning-field"><span>Effort</span> <select class="select-control"><option>Provider default</option><!></select></label>'),kg=M('<label class="reasoning-field"><span>Max reasoning tokens</span> <input class="input-control" type="number" inputmode="numeric" placeholder="Default"/></label>'),Eg=M('<section class="setting reasoning"><div class="setting-header"><span class="setting-label">Reasoning tokens</span> <span class="setting-hint">Adjust effort, budget, or output visibility when the provider supports reasoning traces.</span></div> <div class="reasoning-controls"><label class="reasoning-field"><span>Enabled behavior</span> <select class="select-control"><option>Use provider default</option><option>Force enabled</option><option>Disable reasoning</option></select></label> <!> <!> <label class="reasoning-toggle"><input type="checkbox"/> <span>Exclude reasoning from responses</span></label></div></section>');function wg(e,t){Qe(t,!1);let n=ne(t,"reasoning",8),r=ne(t,"handlers",8);rt();var u=Eg(),a=C(b(u),2),s=b(a),i=C(b(s),2),l=b(i);l.value=l.__value="default";var c=C(l);c.value=c.__value="on";var d=C(c);d.value=d.__value="off";var f;or(i);var h=C(s,2);{var v=A=>{var E=xg(),g=C(b(E),2),S=b(g);S.value=S.__value="";var x=C(S);mt(x,1,()=>(L(n()),m(()=>n().options)),jn,(R,z)=>{var F=yg(),I=b(F),K={};G(N=>{X(I,N),K!==(K=o(z))&&(F.value=(F.__value=o(z))??"")},[()=>(o(z),m(()=>o(z).charAt(0).toUpperCase()+o(z).slice(1)))]),k(R,F)});var T;or(g),G(()=>{oe(E,"aria-disabled",(L(n()),m(()=>!n().effort.supported))),g.disabled=(L(n()),m(()=>!n().effort.supported)),T!==(T=(L(n()),m(()=>n().effort.supported?n().effort.value??"":"")))&&(g.value=(g.__value=(L(n()),m(()=>n().effort.supported?n().effort.value??"":"")))??"",Rn(g,(L(n()),m(()=>n().effort.supported?n().effort.value??"":""))))}),J("change",g,function(...R){r().onEffortChange?.apply(this,R)}),k(A,E)};$(h,A=>{L(n()),m(()=>n().effort.showField)&&A(v)})}var p=C(h,2);{var w=A=>{var E=kg(),g=C(b(E),2);G(S=>{oe(E,"aria-disabled",(L(n()),m(()=>!n().maxTokens.supported))),oe(g,"min",(L(n()),m(()=>n().schemas.maxTokens?.min??void 0))),oe(g,"max",(L(n()),m(()=>n().schemas.maxTokens?.max??void 0))),oe(g,"step",(L(n()),m(()=>n().schemas.maxTokens?.step??1))),g.disabled=(L(n()),m(()=>!n().maxTokens.supported)),Ot(g,S)},[()=>(L(es),L(n()),m(()=>es(n().maxTokens.value)))]),J("change",g,function(...S){r().onMaxTokensChange?.apply(this,S)}),k(A,E)};$(p,A=>{L(n()),m(()=>n().maxTokens.showField)&&A(w)})}var y=C(p,2),_=b(y);G(()=>{f!==(f=(L(n()),m(()=>n().enabledSelection)))&&(i.value=(i.__value=(L(n()),m(()=>n().enabledSelection)))??"",Rn(i,(L(n()),m(()=>n().enabledSelection)))),Vt(_,(L(n()),m(()=>n().exclude)))}),J("change",i,function(...A){r().onEnabledChange?.apply(this,A)}),J("change",_,function(...A){r().onExcludeChange?.apply(this,A)}),k(e,u),et()}const Sg=["reasoning","reasoning_effort","reasoning_max_tokens","reasoning_exclude","reasoning_enabled","include_reasoning"],Ca={effort:["reasoning.effort","reasoning_effort"],maxTokens:["reasoning.max_tokens","reasoning_max_tokens","thinking_budget"],exclude:["reasoning.exclude","reasoning_exclude","include_reasoning"],enabled:["reasoning.enabled","reasoning_enabled"]};function Ag(e){if(!e)return!1;const t=["openai/o1","openai/o3","openai/gpt-5","gpt-5","/grok","grok-"],n=[],r=a=>{if(typeof a!="string")return;const s=a.trim().toLowerCase();s&&n.push(s)};if(r(e.id),r(e.name),Array.isArray(e.tags))for(const a of e.tags)r(a);const u=e;return r(u.series),r(u.family),n.some(a=>t.some(s=>a.includes(s)))}function Cg(e){const t=[];for(const n of e){const r=Yu(n);r&&t.push(r)}return t}function Dg(){return Ft(Dt,e=>e.data?.parameters??null)}function Tg(e,t){return Ft([e,t],([n,r])=>lg(n,r))}function Fg(e){return Ft(e,t=>!!(t&&Object.keys(t).length>0))}function Mg(e){return Ft(e,t=>pd(t))}function Pg(e){return Ft(e,t=>hd(t))}function Ig(e){return Ft(e,t=>{const n=r=>{for(const u of Cg(r)){const a=t[u];if(a)return a}};return{effort:n(Ca.effort),maxTokens:n(Ca.maxTokens),exclude:n(Ca.exclude),enabled:n(Ca.enabled)}})}function Ng(e){return Ft(e,t=>t?.reasoning??null)}function Og(e,t,n,r,u){const a=["low","medium","high"];return Ft([e,t,n,r,u],([s,i,l,c,d])=>{const f=i?.effort??null,h=i?.max_tokens??null,v=i?.exclude===!0,p=i?i.enabled===!0?"on":i.enabled===!1?"off":"default":"default",w=(()=>{if(s?.reasoning&&Object.keys(s.reasoning).length>0)return!0;for(const R of Sg)if(l.has(R))return!0;for(const R of Object.values(c))if(R)return!0;return!1})(),y=!!(c.effort||l.has("reasoning_effort")||Ag(d)),_=!!(c.maxTokens||l.has("reasoning_max_tokens")),A=f!==null,E=h!==null;return{supported:w,schemas:c,enabledSelection:p,options:a,effort:{value:f,supported:w&&(y||A),showField:y||A},maxTokens:{value:h,supported:w&&(_||E),showField:_||E},exclude:v}})}function Lg(){return kt(null)}function Rg(){const e=kt(!1),t=kt(""),n=Lg(),r=Dg(),u=Tg(n,r),a=Fg(r),s=Mg(n),i=Pg(n),l=Ig(s),c=Ng(r),d=Og(r,c,i,l,n);let f=null;const v=Ft([e,t,Dt],([E,g,S])=>({open:E,selectedModel:g,settingsState:S})).subscribe(({open:E,selectedModel:g,settingsState:S})=>{!E||!g||(S.data&&S.data.model!==g&&Dt.setModel(g),f!==g&&(f=g,Dt.clearErrors(),Dt.load(g)))});fa(()=>{v()});const p={onSliderInput:(E,g)=>{const S=g.currentTarget;if(!S)return;const x=Number(S.value);Number.isFinite(x)&&Dt.updateParameter(E,x)},onRangeReset:E=>{Dt.updateParameter(E,null)},onNumberChange:(E,g)=>{const S=g.currentTarget;if(!S)return;const x=S.value.trim();if(!x){Dt.updateParameter(E,null);return}const T=Number(x);if(!Number.isFinite(T)){Dt.updateParameter(E,null);return}Dt.updateParameter(E,T)},onBooleanChange:(E,g)=>{const S=g.currentTarget;S&&Dt.updateParameter(E,S.checked)}};function w(E){const g=at(c)?{...at(c)}:{};E(g);for(const S of Object.keys(g)){const x=g[S];(x==null||typeof x=="string"&&x.trim()==="")&&delete g[S]}Object.keys(g).length===0?Dt.updateParameter("reasoning",null):Dt.updateParameter("reasoning",g)}const y={onEnabledChange:E=>{const g=E.currentTarget;if(!g)return;const S=g.value;w(x=>{S==="on"?x.enabled=!0:S==="off"?x.enabled=!1:delete x.enabled})},onEffortChange:E=>{const g=E.currentTarget;if(!g)return;const S=g.value;w(x=>{S?x.effort=S:delete x.effort})},onMaxTokensChange:E=>{const g=E.currentTarget;if(!g)return;const S=g.value.trim();if(!S){w(T=>{delete T.max_tokens});return}const x=Number(S);if(!Number.isFinite(x)||x<=0){w(T=>{delete T.max_tokens});return}w(T=>{T.max_tokens=x})},onExcludeChange:E=>{const g=E.currentTarget;if(!g)return;const S=g.checked;w(x=>{S?x.exclude=!0:delete x.exclude})}};let _={open:!1,selectedModel:"",model:null};function A(E){E.open!==_.open&&(e.set(E.open),_.open=E.open),E.selectedModel!==_.selectedModel&&(t.set(E.selectedModel),_.selectedModel=E.selectedModel),E.model!==_.model&&(n.set(E.model),_.model=E.model)}return{settingsState:Dt,parameters:r,fields:u,hasCustomParameters:a,reasoning:d,parameterHandlers:p,reasoningHandlers:y,resetToDefaults:()=>Dt.resetToDefaults(),flushSave:()=>Dt.flushSave(),sync:A}}var $g=M('<p class="status">Loading settingsâ¦</p>'),zg=M('<p class="status error"> </p>'),Ug=M('<p class="status">This model does not expose configurable parameters.</p>'),Bg=M('<form class="settings-grid"></form>'),jg=M('<div class="settings-stack" aria-live="polite"><!> <!></div>'),qg=M('<h2 id="model-settings-title">Model settings</h2> <p class="model-settings-subtitle"><!></p>',1),Hg=M('<button slot="actions" type="button" class="btn btn-ghost btn-small">Reset to defaults</button>'),Wg=M('<span class="status error"> </span>'),Vg=M('<span class="status">Saving changesâ¦</span>'),Gg=M('<span class="status">Pending changes; closing this modal will save.</span>'),Kg=M('<span class="status">Changes save when you close this modal.</span>'),Zg=M('<footer slot="footer" class="model-settings-footer"><!></footer>');function Yg(e,t){Qe(t,!1);const n=()=>Xe(v,"$settingsState",i),r=()=>Xe(y,"$hasCustomParameters",i),u=()=>Xe(_,"$reasoning",i),a=()=>Xe(w,"$fields",i),s=()=>Xe(p,"$parameters",i),[i,l]=Gn();let c=ne(t,"open",8,!1),d=ne(t,"selectedModel",8,""),f=ne(t,"model",8,null);const h=Et(),{settingsState:v,parameters:p,fields:w,hasCustomParameters:y,reasoning:_,parameterHandlers:A,reasoningHandlers:E,resetToDefaults:g,flushSave:S,sync:x}=Rg();let T=!1;async function R(){if(T||n().saving)return;T=!0,await S()&&h("close"),T=!1}fe(()=>(L(c()),L(d()),L(f())),()=>{x({open:c(),selectedModel:d(),model:f()})}),At(),rt();var z=Se(),F=me(z);{var I=K=>{cr(K,{get open(){return c()},labelledBy:"model-settings-title",closeLabel:"Close model settings",$$events:{close:()=>void R()},children:(N,Q)=>{var q=Se(),ae=me(q);{var ie=W=>{var O=$g();k(W,O)},Y=W=>{var O=Se(),V=me(O);{var he=H=>{var j=zg(),ce=b(j);G(()=>X(ce,(n(),m(()=>n().error)))),k(H,j)},pe=H=>{var j=Se(),ce=me(j);{var ee=Z=>{var B=Ug();k(Z,B)},De=Z=>{var B=jg(),ye=b(B);{var Me=Ae=>{wg(Ae,{get reasoning(){return u()},get handlers(){return E}})};$(ye,Ae=>{u(),m(()=>u().supported)&&Ae(Me)})}var Re=C(ye,2);{var We=Ae=>{var tt=Bg();mt(tt,5,a,_e=>_e.key,(_e,te)=>{_g(_e,{get field(){return o(te)},get parameters(){return s()},get handlers(){return A}})}),k(Ae,tt)};$(Re,Ae=>{a(),m(()=>a().length)&&Ae(We)})}k(Z,B)};$(ce,Z=>{u(),a(),m(()=>!u().supported&&!a().length)?Z(ee):Z(De,!1)})}k(H,j)};$(V,H=>{n(),m(()=>n().error)?H(he):H(pe,!1)},!0)}k(W,O)};$(ae,W=>{n(),m(()=>n().loading)?W(ie):W(Y,!1)})}k(N,q)},$$slots:{default:!0,heading:(N,Q)=>{var q=qg(),ae=C(me(q),2),ie=b(ae);{var Y=O=>{var V=Ln();G(()=>X(V,(L(f()),m(()=>f().name)))),k(O,V)},W=O=>{var V=Se(),he=me(V);{var pe=j=>{var ce=Ln();G(()=>X(ce,(L(f()),m(()=>f().id)))),k(j,ce)},H=j=>{var ce=Ln();G(()=>X(ce,d())),k(j,ce)};$(he,j=>{L(f()),m(()=>f()?.id)?j(pe):j(H,!1)},!0)}k(O,V)};$(ie,O=>{L(f()),m(()=>f()?.name)?O(Y):O(W,!1)})}k(N,q)},actions:(N,Q)=>{var q=Hg();G(()=>q.disabled=(r(),n(),m(()=>!r()||n().saving))),J("click",q,g),k(N,q)},footer:(N,Q)=>{var q=Zg(),ae=b(q);{var ie=W=>{var O=Wg(),V=b(O);G(()=>X(V,(n(),m(()=>n().saveError)))),k(W,O)},Y=W=>{var O=Se(),V=me(O);{var he=H=>{var j=Vg();k(H,j)},pe=H=>{var j=Se(),ce=me(j);{var ee=Z=>{var B=Gg();k(Z,B)},De=Z=>{var B=Kg();k(Z,B)};$(ce,Z=>{n(),m(()=>n().dirty)?Z(ee):Z(De,!1)},!0)}k(H,j)};$(V,H=>{n(),m(()=>n().saving)?H(he):H(pe,!1)},!0)}k(W,O)};$(ae,W=>{n(),m(()=>n().saveError)?W(ie):W(Y,!1)})}k(N,q)}}})};$(F,K=>{c()&&K(I)})}k(e,z),et(),l()}const Jg={loading:!1,adding:!1,deleting:null,error:null,items:[]};function Xg(){const e=kt({...Jg});async function t(){e.update(a=>({...a,loading:!0,error:null}));try{const a=await fetch(`${jt}/api/suggestions`);if(!a.ok)throw new Error(`HTTP ${a.status}`);const s=await a.json();e.update(i=>({...i,loading:!1,items:s.suggestions}))}catch(a){const s=a instanceof Error?a.message:"Failed to load suggestions.";e.update(i=>({...i,loading:!1,error:s}))}}async function n(a,s){e.update(i=>({...i,adding:!0,error:null}));try{const i=await fetch(`${jt}/api/suggestions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({label:a,text:s})});if(!i.ok)throw new Error(`HTTP ${i.status}`);const l=await i.json();return e.update(c=>({...c,adding:!1,items:l.suggestions})),l.suggestions}catch(i){const l=i instanceof Error?i.message:"Failed to add suggestion.";return e.update(c=>({...c,adding:!1,error:l})),null}}async function r(a){e.update(s=>({...s,deleting:a,error:null}));try{const s=await fetch(`${jt}/api/suggestions/${a}`,{method:"DELETE"});if(!s.ok)throw new Error(`HTTP ${s.status}`);const i=await s.json();return e.update(l=>({...l,deleting:null,items:i.suggestions})),i.suggestions}catch(s){const i=s instanceof Error?s.message:"Failed to delete suggestion.";return e.update(l=>({...l,deleting:null,error:i})),null}}function u(){e.update(a=>({...a,error:null}))}return{subscribe:e.subscribe,load:t,add:n,remove:r,clearError:u}}const du=Xg();var Qg=M('<p class="status error"> </p>'),eb=M('<p class="status">Loading presetsâ¦</p>'),tb=M('<p class="status">No presets saved yet.</p>'),nb=M('<span class="default-badge svelte-14pmhe" title="Default preset">Default</span>'),rb=M('<span class="filters-badge svelte-14pmhe" title="Contains model explorer filters"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-14pmhe"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg> Filters</span>'),ub=M('<button type="button" class="btn btn-ghost btn-small svelte-14pmhe" title="Set as default preset to load on startup"> </button>'),ab=M('<li class="preset-item svelte-14pmhe"><div class="meta svelte-14pmhe"><div class="name svelte-14pmhe"> <!> <!></div> <div class="details svelte-14pmhe"><span class="model svelte-14pmhe"> </span> <span class="timestamps"><span title="Created at"> </span> <span aria-hidden="true">Â·</span> <span title="Updated at"> </span></span></div></div> <div class="actions svelte-14pmhe"><button type="button" class="btn btn-ghost btn-small svelte-14pmhe" title="Apply this preset (model, settings, system prompt, MCP servers)"> </button> <button type="button" class="btn btn-ghost btn-small svelte-14pmhe" title="Overwrite preset with current configuration"> </button> <!> <button type="button" class="btn btn-danger btn-small svelte-14pmhe"> </button></div></li>'),sb=M('<ul class="preset-list svelte-14pmhe" aria-live="polite"></ul>'),ob=M('<div class="create-row svelte-14pmhe"><input type="text" class="input-control svelte-14pmhe" placeholder="Preset name" aria-label="Preset name"/> <button type="button" class="btn btn-primary"> </button></div> <!> <!>',1),ib=M('<h2 id="presets-title">Presets</h2> <p class="model-settings-subtitle">Save and manage snapshots of the current configuration.</p>',1),lb=M('<span class="status"> </span>'),cb=M('<span class="status"> </span>'),db=M('<span class="status">Create, update, or apply a preset.</span>'),fb=M('<footer slot="footer" class="model-settings-footer"><!></footer>');function pb(e,t){Qe(t,!1);const n=()=>Xe(ea,"$chatStore",u),r=()=>Xe(Pn,"$presetsStore",u),[u,a]=Gn();let s=ne(t,"open",8,!1);const i=Et();let l=U(""),c=U(null),d=U(null),f=U(!1),h=U(!1);function v(){i("close")}async function p(){const x=o(l).trim();if(!x)return;await Dt.load(n().selectedModel),await Pn.create(x)&&D(l,"")}async function w(x){const T=await Pn.apply(x.name);T?.model&&ea.setModel(T.model),await du.load()}async function y(x){await Dt.load(n().selectedModel),await Pn.saveSnapshot(x.name)}async function _(x){if(!x.is_default){if(o(c)===x.name){await Pn.remove(x.name),D(c,null);return}D(c,x.name),setTimeout(()=>{o(c)===x.name&&D(c,null)},3e3)}}async function A(x){await Pn.setDefault(x.name)}fe(()=>(L(s()),o(h),Pn),()=>{s()&&!o(h)&&(D(h,!0),Pn.load())}),fe(()=>(L(s()),o(h)),()=>{!s()&&o(h)&&D(h,!1)}),fe(()=>(L(s()),o(f),o(d)),()=>{s()&&!o(f)&&(D(f,!0),setTimeout(()=>{o(d)?.focus()},0))}),fe(()=>(L(s()),o(f)),()=>{!s()&&o(f)&&D(f,!1)}),At(),rt();var E=Se(),g=me(E);{var S=x=>{cr(x,{get open(){return s()},labelledBy:"presets-title",modalClass:"presets-modal",bodyClass:"presets-body",closeLabel:"Close presets",$$events:{close:v},children:(T,R)=>{var z=ob(),F=me(z),I=b(F);Ar(I,W=>D(d,W),()=>o(d));var K=C(I,2),N=b(K),Q=C(F,2);{var q=W=>{var O=Qg(),V=b(O);G(()=>X(V,(r(),m(()=>r().error)))),k(W,O)};$(Q,W=>{r(),m(()=>r().error)&&W(q)})}var ae=C(Q,2);{var ie=W=>{var O=eb();k(W,O)},Y=W=>{var O=Se(),V=me(O);{var he=H=>{var j=tb();k(H,j)},pe=H=>{var j=sb();mt(j,5,()=>(r(),m(()=>r().items)),ce=>ce.name,(ce,ee)=>{var De=ab(),Z=b(De),B=b(Z),ye=b(B),Me=C(ye);{var Re=je=>{var Pe=nb();k(je,Pe)};$(Me,je=>{o(ee),m(()=>o(ee).is_default)&&je(Re)})}var We=C(Me,2);{var Ae=je=>{var Pe=rb();k(je,Pe)};$(We,je=>{o(ee),m(()=>o(ee).has_filters)&&je(Ae)})}var tt=C(B,2),_e=b(tt),te=b(_e),Ee=C(_e,2),ge=b(Ee),Te=b(ge),$e=C(ge,4),ue=b($e),ve=C(Z,2),xe=b(ve),we=b(xe),be=C(xe,2),Oe=b(be),Ce=C(be,2);{var Le=je=>{var Pe=ub(),ut=b(Pe);G(()=>{Pe.disabled=(r(),o(ee),m(()=>r().settingDefault===o(ee).name)),oe(Pe,"aria-busy",(r(),o(ee),m(()=>r().settingDefault===o(ee).name))),X(ut,(r(),o(ee),m(()=>r().settingDefault===o(ee).name?"Settingâ¦":"Set as default")))}),J("click",Pe,()=>A(o(ee))),k(je,Pe)};$(Ce,je=>{o(ee),m(()=>!o(ee).is_default)&&je(Le)})}var Be=C(Ce,2),Ve=b(Be);G((je,Pe)=>{X(ye,`${o(ee),m(()=>o(ee).name)??""} `),X(te,(o(ee),m(()=>o(ee).model))),X(Te,je),X(ue,Pe),xe.disabled=(r(),o(ee),m(()=>r().applying===o(ee).name)),oe(xe,"aria-busy",(r(),o(ee),m(()=>r().applying===o(ee).name))),X(we,(r(),o(ee),m(()=>r().applying===o(ee).name?"Applyingâ¦":"Apply"))),be.disabled=(r(),m(()=>r().saving)),oe(be,"aria-busy",(r(),m(()=>r().saving))),X(Oe,(r(),m(()=>r().saving?"Savingâ¦":"Save snapshot"))),Be.disabled=(o(ee),r(),m(()=>o(ee).is_default||r().deleting===o(ee).name)),oe(Be,"aria-busy",(r(),o(ee),m(()=>r().deleting===o(ee).name))),oe(Be,"title",(o(ee),m(()=>o(ee).is_default?"Cannot delete default preset":"Delete preset"))),X(Ve,(o(c),o(ee),r(),m(()=>o(c)===o(ee).name?"Confirm delete":r().deleting===o(ee).name?"Deletingâ¦":"Delete")))},[()=>(o(ee),m(()=>new Date(o(ee).created_at).toLocaleString())),()=>(o(ee),m(()=>new Date(o(ee).updated_at).toLocaleString()))]),J("click",xe,()=>w(o(ee))),J("click",be,()=>y(o(ee))),J("click",Be,()=>_(o(ee))),k(ce,De)}),k(H,j)};$(V,H=>{r(),m(()=>!r().items.length)?H(he):H(pe,!1)},!0)}k(W,O)};$(ae,W=>{r(),m(()=>r().loading)?W(ie):W(Y,!1)})}G(W=>{K.disabled=W,oe(K,"aria-busy",(r(),m(()=>r().creating))),X(N,(r(),m(()=>r().creating?"Creatingâ¦":"Create from current")))},[()=>(o(l),r(),m(()=>!o(l).trim()||r().creating))]),rr(I,()=>o(l),W=>D(l,W)),J("keydown",I,W=>W.key==="Enter"?p():null),J("click",K,p),k(T,z)},$$slots:{default:!0,heading:(T,R)=>{var z=ib();k(T,z)},footer:(T,R)=>{var z=fb(),F=b(z);{var I=N=>{var Q=lb(),q=b(Q);G(()=>X(q,`Applied preset: ${r(),m(()=>r().lastApplied)??""}`)),k(N,Q)},K=N=>{var Q=Se(),q=me(Q);{var ae=Y=>{var W=cb(),O=b(W);G(()=>X(O,`Saved: ${r(),m(()=>r().lastResult.name)??""}`)),k(Y,W)},ie=Y=>{var W=db();k(Y,W)};$(q,Y=>{r(),m(()=>r().lastResult)?Y(ae):Y(ie,!1)},!0)}k(N,Q)};$(F,N=>{r(),m(()=>r().lastApplied)?N(I):N(K,!1)})}k(T,z)}}})};$(g,x=>{s()&&x(S)})}k(e,E),et(),a()}var hb=M('<div class="suggestion-item svelte-1r3jne1"><button type="button" class="suggestion-btn svelte-1r3jne1"> </button> <button type="button" class="delete-btn svelte-1r3jne1" title="Delete suggestion">Ã</button></div>'),mb=M('<div class="add-form svelte-1r3jne1"><input type="text" placeholder="Label" class="svelte-1r3jne1"/> <input type="text" placeholder="Prompt text" class="svelte-1r3jne1"/> <button type="button" class="add-submit-btn svelte-1r3jne1">Add</button> <button type="button" class="add-cancel-btn svelte-1r3jne1">Cancel</button></div>'),vb=M('<button type="button" class="add-btn svelte-1r3jne1" aria-label="Add suggested prompt">+</button>'),gb=M('<section class="suggestions svelte-1r3jne1"><!> <!></section>');function bb(e,t){Qe(t,!1);const n=Et();let r=ne(t,"suggestions",24,()=>[]),u=ne(t,"deleting",8,null),a=U(!1),s=U(""),i=U("");function l(g){n("select",{text:g})}function c(g,S){S.stopPropagation(),n("delete",{index:g})}function d(){D(a,!0)}function f(){o(s).trim()&&o(i).trim()&&(n("add"),D(s,""),D(i,""),D(a,!1))}function h(){D(s,""),D(i,""),D(a,!1)}function v(){const g=o(s).trim(),S=o(i).trim();return g&&S?{label:g,text:S}:null}var p={getNewSuggestion:v};rt();var w=gb(),y=b(w);mt(y,3,r,g=>g.text,(g,S,x)=>{var T=hb(),R=b(T),z=b(R),F=C(R,2);G(()=>{X(z,(o(S),m(()=>o(S).label))),F.disabled=u()===o(x)}),J("click",R,()=>l(o(S).text)),J("click",F,I=>c(o(x),I)),k(g,T)});var _=C(y,2);{var A=g=>{var S=mb(),x=b(S),T=C(x,2),R=C(T,2),z=C(R,2);rr(x,()=>o(s),F=>D(s,F)),J("keydown",x,F=>F.key==="Enter"&&f()),rr(T,()=>o(i),F=>D(i,F)),J("keydown",T,F=>F.key==="Enter"&&f()),J("click",R,f),J("click",z,h),k(g,S)},E=g=>{var S=vb();J("click",S,d),k(g,S)};$(_,g=>{o(a)?g(A):g(E,!1)})}return k(e,w),y0(t,"getNewSuggestion",v),et(p)}var _b=M("<option> </option>"),yb=M('<div class="speech-card"><div class="speech-card-header"><h3>Deepgram model</h3> <p>Choose the speech-to-text engine and helper features.</p></div> <div class="model-presets-row"><div class="speech-field"><span class="field-label">Model</span> <select class="select-control"></select></div> <div class="speech-field presets-field"><span class="field-label">Speech timing presets</span> <div class="speech-presets" aria-label="Timing presets"><button class="btn btn-soft btn-small" type="button">Fast</button> <button class="btn btn-soft btn-small" type="button">Normal</button> <button class="btn btn-soft btn-small" type="button">Slow</button></div></div></div> <div class="toggle-grid"><label class="toggle-item"><input type="checkbox"/> <span>Interim transcripts</span></label> <label class="toggle-item"><input type="checkbox"/> <span>VAD events</span></label> <label class="toggle-item"><input type="checkbox"/> <span>Smart formatting</span></label> <label class="toggle-item"><input type="checkbox"/> <span>Punctuation</span></label> <label class="toggle-item"><input type="checkbox"/> <span>Numerals</span></label> <label class="toggle-item"><input type="checkbox"/> <span>Keep filler words</span></label> <label class="toggle-item"><input type="checkbox"/> <span>Profanity filter</span></label></div></div> <div class="speech-card"><div class="speech-card-header"><h3>Timing & auto-submit</h3> <p>Tune silence detection and message submission.</p></div> <div class="timing-grid"><div class="speech-field"><span class="field-label">Endpointing window (ms)</span> <input class="input-control" type="number" min="300" max="5000" step="50"/> <p class="speech-hint">How long Deepgram waits after silence before finalizing the transcript.</p></div> <div class="speech-field"><span class="field-label">Utterance gap (ms)</span> <input class="input-control" type="number" min="500" max="5000" step="50"/> <p class="speech-hint">Silence between words before Deepgram starts a new interim segment.</p></div></div> <div class="auto-submit-block"><div class="auto-submit-row"><label class="inline-checkbox"><input class="input-control" type="checkbox"/> <span class="field-label">Auto-submit</span></label> <p class="speech-hint">Send automatically when speech ends. Delay waits after endpointing.</p></div> <div class="delay-inline"><label class="delay-label" for="auto-submit-delay-input">Delay (ms)</label> <input id="auto-submit-delay-input" class="input-control" type="number" min="0" max="20000" step="50"/></div></div></div>',1),xb=M('<h2 id="speech-settings-title">Speech settings</h2> <p class="model-settings-subtitle">Configure Deepgram speech-to-text dictation settings.</p>',1),kb=M('<button slot="actions" type="button" class="btn btn-ghost btn-small">Reset to defaults</button>'),Eb=M('<p class="status" data-variant="error" aria-live="assertive"> </p>'),wb=M('<p class="status" data-variant="pending" aria-live="polite">Saving changesâ¦</p>'),Sb=M('<p class="status" data-variant="pending" aria-live="polite"> </p>'),Ab=M('<p class="status" aria-live="polite"> </p>'),Cb=M('<footer slot="footer" class="model-settings-footer"><!></footer>');function Db(e,t){Qe(t,!1);let n=ne(t,"open",8,!1);const r=Et();let u=U(f()),a=U(!1),s=U(!1),i=U(null),l=U(null),c=U(!1),d=!1;function f(){const x=Ga.current??$r();return{...x,stt:{...x.stt}}}function h(){d||o(s)||(d=!0,(async()=>(await _()&&r("close"),d=!1))())}function v(x=null,T="pending"){D(a,!0),D(i,x),D(l,T??"pending")}function p(x,T){D(u,{...o(u),stt:{...o(u).stt,[x]:T}}),v()}function w(x,T){const R=x.target;if(!R)return;const z=Number(R.value);Number.isFinite(z)&&T(z)}function y(x){const T=Vp[x];D(u,{...o(u),stt:{...o(u).stt,utteranceEndMs:T.stt.utteranceEndMs,endpointing:T.stt.endpointing,autoSubmitDelayMs:T.stt.autoSubmitDelayMs}}),v(`${T.label} preset applied; closing will save.`,"pending")}async function _(){if(!o(a))return!0;D(s,!0),D(i,"Saving changesâ¦"),D(l,"pending");try{const x=Ga.save(o(u));return D(u,{...x,stt:{...x.stt}}),D(a,!1),D(i,"Saved"),D(l,"success"),!0}catch(x){const T=x instanceof Error?x.message:"Failed to save speech settings.";return D(i,T),D(l,"error"),!1}finally{D(s,!1)}}function A(){D(u,$r()),D(a,!0),D(i,"Defaults restored; closing will save."),D(l,"pending")}fe(()=>(L(n()),o(c),o(a),o(s)),()=>{n()&&!o(c)?(D(u,f()),D(a,!1),D(s,!1),D(i,"Changes save when you close this modal."),D(l,"info"),D(c,!0)):!n()&&o(c)&&(D(c,!1),o(a)&&!o(s)&&_())}),At(),rt();var E=Se(),g=me(E);{var S=x=>{cr(x,{get open(){return n()},labelledBy:"speech-settings-title",modalClass:"speech-settings-modal",bodyClass:"speech-settings-body",closeLabel:"Close speech settings",$$events:{close:()=>void h()},children:(T,R)=>{var z=yb(),F=me(z),I=C(b(F),2),K=b(I),N=C(b(K),2);mt(N,5,()=>Gp,jn,(be,Oe)=>{var Ce=_b(),Le=b(Ce),Be={};G(()=>{X(Le,(o(Oe),m(()=>o(Oe).label))),Be!==(Be=(o(Oe),m(()=>o(Oe).value)))&&(Ce.value=(Ce.__value=(o(Oe),m(()=>o(Oe).value)))??"")}),k(be,Ce)});var Q;or(N);var q=C(K,2),ae=C(b(q),2),ie=b(ae),Y=C(ie,2),W=C(Y,2),O=C(I,2),V=b(O),he=b(V),pe=C(V,2),H=b(pe),j=C(pe,2),ce=b(j),ee=C(j,2),De=b(ee),Z=C(ee,2),B=b(Z),ye=C(Z,2),Me=b(ye),Re=C(ye,2),We=b(Re),Ae=C(F,2),tt=C(b(Ae),2),_e=b(tt),te=C(b(_e),2),Ee=C(_e,2),ge=C(b(Ee),2),Te=C(tt,2),$e=b(Te),ue=b($e),ve=b(ue),xe=C($e,2),we=C(b(xe),2);G(()=>{Q!==(Q=(o(u),m(()=>o(u).stt.model)))&&(N.value=(N.__value=(o(u),m(()=>o(u).stt.model)))??"",Rn(N,(o(u),m(()=>o(u).stt.model)))),Vt(he,(o(u),m(()=>o(u).stt.interimResults))),Vt(H,(o(u),m(()=>o(u).stt.vadEvents))),Vt(ce,(o(u),m(()=>o(u).stt.smartFormat))),Vt(De,(o(u),m(()=>o(u).stt.punctuate))),Vt(B,(o(u),m(()=>o(u).stt.numerals))),Vt(Me,(o(u),m(()=>o(u).stt.fillerWords))),Vt(We,(o(u),m(()=>o(u).stt.profanityFilter))),Ot(te,(o(u),m(()=>o(u).stt.endpointing))),Ot(ge,(o(u),m(()=>o(u).stt.utteranceEndMs))),Vt(ve,(o(u),m(()=>o(u).stt.autoSubmit))),Ot(we,(o(u),m(()=>o(u).stt.autoSubmitDelayMs))),we.disabled=(o(u),m(()=>!o(u).stt.autoSubmit))}),J("change",N,be=>p("model",be.target.value)),J("click",ie,()=>y("fast")),J("click",Y,()=>y("normal")),J("click",W,()=>y("slow")),J("change",he,be=>p("interimResults",be.target.checked)),J("change",H,be=>p("vadEvents",be.target.checked)),J("change",ce,be=>p("smartFormat",be.target.checked)),J("change",De,be=>p("punctuate",be.target.checked)),J("change",B,be=>p("numerals",be.target.checked)),J("change",Me,be=>p("fillerWords",be.target.checked)),J("change",We,be=>p("profanityFilter",be.target.checked)),J("change",te,be=>w(be,Oe=>p("endpointing",Oe))),J("change",ge,be=>w(be,Oe=>p("utteranceEndMs",Oe))),J("change",ve,be=>p("autoSubmit",be.target.checked)),J("change",we,be=>w(be,Oe=>p("autoSubmitDelayMs",Oe))),k(T,z)},$$slots:{default:!0,heading:(T,R)=>{var z=xb();k(T,z)},actions:(T,R)=>{var z=kb();G(()=>z.disabled=o(s)),J("click",z,A),k(T,z)},footer:(T,R)=>{var z=Cb(),F=b(z);{var I=N=>{var Q=Eb(),q=b(Q);G(()=>X(q,o(i))),k(N,Q)},K=N=>{var Q=Se(),q=me(Q);{var ae=Y=>{var W=wb();k(Y,W)},ie=Y=>{var W=Se(),O=me(W);{var V=pe=>{var H=Sb(),j=b(H);G(()=>X(j,o(i)??"Pending changes; closing this modal will save.")),k(pe,H)},he=pe=>{var H=Ab(),j=b(H);G(()=>{oe(H,"data-variant",o(l)??"info"),X(j,o(i)??"Changes save when you close this modal.")}),k(pe,H)};$(O,pe=>{o(a)?pe(V):pe(he,!1)},!0)}k(Y,W)};$(q,Y=>{o(s)?Y(ae):Y(ie,!1)},!0)}k(N,Q)};$(F,N=>{o(l)==="error"?N(I):N(K,!1)})}k(T,z)}}})};$(g,x=>{n()&&x(S)})}k(e,E),et()}const za=["Google Calendar","Google Tasks","Gmail","Google Drive"],Ys={loading:!1,authorizing:!1,authorized:!1,userEmail:null,expiresAt:null,services:[...za],error:null};function Tb(e){return new Promise((t,n)=>{const r=s=>{const i=s.data;if(!i||typeof i!="object"||i.source!=="google-auth")return;a();const l=i.status,c=i.message;if(l==="success")t();else{const d=typeof c=="string"?c:"Authorization failed.";n(new Error(d))}},u=window.setInterval(()=>{e.closed&&(a(),n(new Error("The authorization window was closed before completion.")))},500),a=()=>{window.removeEventListener("message",r),window.clearInterval(u)};window.addEventListener("message",r)})}function Fb(){const e=kt({...Ys});async function t(){e.update(u=>({...u,loading:!0,error:null}));try{const u=await z0();e.set({loading:!1,authorizing:!1,authorized:u.authorized,userEmail:u.user_email??null,expiresAt:u.expires_at??null,services:u.services&&u.services.length>0?u.services:[...za],error:null})}catch(u){const a=u instanceof Error?u.message:"Failed to check Google authorization status.";e.set({...Ys,services:[...za],loading:!1,error:a})}}function n(){e.set({...Ys,services:[...za]})}async function r(){if(typeof window>"u")return e.update(a=>({...a,error:"Google authorization is only available in a browser environment."})),!1;if(at(e).authorizing)return!1;e.update(a=>({...a,authorizing:!0,error:null}));try{const a=await U0({}),s=window.open(a.auth_url,"google-oauth","width=520,height=640,noopener=yes,noreferrer=yes");if(!s)throw new Error("Popup was blocked. Allow pop-ups and try again.");return s.focus(),await Tb(s),await t(),e.update(i=>({...i,authorizing:!1})),!0}catch(a){const s=a instanceof Error?a.message:"Failed to start Google authorization.";return e.update(i=>({...i,authorizing:!1,error:s})),!1}}return{subscribe:e.subscribe,load:t,reset:n,authorize:r}}const Da={loading:!1,refreshing:!1,saving:!1,dirty:!1,error:null,saveError:null,servers:[],updatedAt:null,pending:{},pendingChanges:{}};function xl(e,t){return{...e,servers:t.servers??[],updatedAt:t.updated_at??null,error:null,saveError:null}}function Mb(){const e=kt({...Da});async function t(){e.set({...Da,loading:!0});try{const f=await L0();e.set({...Da,servers:f.servers,updatedAt:f.updated_at??null,loading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to load MCP servers.";e.set({...Da,loading:!1,error:h})}}function n(f,h){e.update(v=>{const p=v.servers.map(y=>y.id===f?{...y,enabled:h}:y),w={...v.pendingChanges,[f]:{...v.pendingChanges[f]??{},enabled:h}};return{...v,servers:p,dirty:!0,saveError:null,pendingChanges:w}})}function r(f,h){e.update(v=>{const p=v.servers.map(y=>y.id===f?{...y,kiosk_enabled:h}:y),w={...v.pendingChanges,[f]:{...v.pendingChanges[f]??{},kiosk_enabled:h}};return{...v,servers:p,dirty:!0,saveError:null,pendingChanges:w}})}function u(f,h){e.update(v=>{const p=v.servers.map(y=>y.id===f?{...y,frontend_enabled:h}:y),w={...v.pendingChanges,[f]:{...v.pendingChanges[f]??{},frontend_enabled:h}};return{...v,servers:p,dirty:!0,saveError:null,pendingChanges:w}})}function a(f,h,v){e.update(p=>{const w=p.servers.find(g=>g.id===f);if(!w)return p;const y=new Set(w.disabled_tools??[]);v?y.delete(h):y.add(h);const _=Array.from(y).sort(),A=p.servers.map(g=>g.id!==f?g:{...g,disabled_tools:_,tools:g.tools.map(S=>S.name===h?{...S,enabled:v}:S)}),E={...p.pendingChanges,[f]:{...p.pendingChanges[f]??{},disabled_tools:_}};return{...p,servers:A,dirty:!0,saveError:null,pendingChanges:E}})}function s(f,h,v){e.update(p=>{const w=p.servers.find(E=>E.id===f);if(!w)return p;const y={...w.env??{},...p.pendingChanges[f]?.env??{}};y[h]=v;const _=p.servers.map(E=>E.id===f?{...E,env:y}:E),A={...p.pendingChanges,[f]:{...p.pendingChanges[f]??{},env:y}};return{...p,servers:_,dirty:!0,saveError:null,pendingChanges:A}})}async function i(){e.update(f=>({...f,refreshing:!0,error:null}));try{const f=await $0();e.update(h=>({...xl(h,f),refreshing:!1}))}catch(f){const h=f instanceof Error?f.message:"Failed to refresh MCP servers.";e.update(v=>({...v,refreshing:!1,saveError:h}))}}function l(f){return at(e).servers.find(v=>v.id===f)}function c(f){return!!at(e).pending[f]}async function d(){const f=at(e);if(!f.dirty)return!0;const h=Object.entries(f.pendingChanges);if(!h.length)return e.update(p=>({...p,dirty:!1})),!0;e.update(p=>({...p,saving:!0,saveError:null}));let v=!0;for(const[p,w]of h){e.update(y=>({...y,pending:{...y.pending,[p]:!0}}));try{const y=await R0(p,w);e.update(_=>{const A={..._.pending};delete A[p];const E={..._.pendingChanges};delete E[p];const g=xl(_,y),S=Object.keys(E).length>0;return{...g,pending:A,pendingChanges:E,dirty:S}})}catch(y){let _="Failed to update MCP server.";if(y instanceof Error)_=y.message;else if(typeof y=="object"&&y!==null){const A=y;_=String(A.detail||A.message||A.error||JSON.stringify(y))}else typeof y=="string"&&(_=y);_.includes("[object Object]")&&(_="Failed to save MCP server settings. Check server logs for details."),e.update(A=>{const E={...A.pending};return delete E[p],{...A,pending:E,saving:!1,saveError:_}}),v=!1;break}}return v?(e.update(p=>({...p,saving:!1,dirty:!1})),!0):(e.update(p=>({...p,saving:!1,dirty:!0})),!1)}return{subscribe:e.subscribe,load:t,refresh:i,setServerEnabled:n,setKioskEnabled:r,setFrontendEnabled:u,setToolEnabled:a,setServerEnv:s,getServer:l,isPending:c,flushPending:d}}const kl={loading:!1,saving:!1,refreshing:!1,configured:!1,email:null,error:null};function Pb(){const e=kt({...kl});async function t(){e.update(a=>({...a,loading:!0,error:null}));try{const a=await B0();e.set({loading:!1,saving:!1,refreshing:!1,configured:a.configured,email:a.email,error:null})}catch(a){const s=a instanceof Error?a.message:"Failed to check Monarch status.";e.set({...kl,loading:!1,error:s})}}async function n(a){e.update(s=>({...s,saving:!0,error:null}));try{const s=await j0(a);return e.set({loading:!1,saving:!1,refreshing:!1,configured:s.configured,email:s.email,error:null}),!0}catch(s){const i=s instanceof Error?s.message:"Failed to save Monarch credentials.";return e.update(l=>({...l,saving:!1,error:i})),!1}}async function r(){e.update(a=>({...a,saving:!0,error:null}));try{const a=await q0();return e.set({loading:!1,saving:!1,refreshing:!1,configured:a.configured,email:a.email,error:null}),!0}catch(a){const s=a instanceof Error?a.message:"Failed to remove Monarch credentials.";return e.update(i=>({...i,saving:!1,error:s})),!1}}async function u(){e.update(a=>({...a,refreshing:!0,error:null}));try{return await new Promise(a=>setTimeout(a,2e3)),e.update(a=>({...a,refreshing:!1})),{success:!0,message:"Account data refreshed successfully"}}catch(a){const s=a instanceof Error?a.message:"Failed to refresh account data.";return e.update(i=>({...i,refreshing:!1,error:s})),{success:!1,message:s}}}return{subscribe:e.subscribe,load:t,save:n,remove:r,refresh:u}}const Js={loading:!1,authorizing:!1,authorized:!1,userEmail:null,error:null};function Ib(e){return new Promise((t,n)=>{const r=s=>{const i=s.data;if(!i||typeof i!="object"||i.source!=="spotify-auth")return;a();const l=i.status,c=i.message;if(l==="success")t();else{const d=typeof c=="string"?c:"Authorization failed.";n(new Error(d))}},u=window.setInterval(()=>{e.closed&&(a(),n(new Error("The authorization window was closed before completion.")))},500),a=()=>{window.removeEventListener("message",r),window.clearInterval(u)};window.addEventListener("message",r)})}function Nb(){const e=kt({...Js});async function t(){e.update(u=>({...u,loading:!0,error:null}));try{const u=await H0();e.set({loading:!1,authorizing:!1,authorized:u.authorized,userEmail:u.user_email??null,error:null})}catch(u){const a=u instanceof Error?u.message:"Failed to check Spotify authorization status.";e.set({...Js,loading:!1,error:a})}}function n(){e.set({...Js})}async function r(){if(typeof window>"u")return e.update(a=>({...a,error:"Spotify authorization is only available in a browser environment."})),!1;if(at(e).authorizing)return!1;e.update(a=>({...a,authorizing:!0,error:null}));try{const a=await W0({}),s=window.open(a.auth_url,"spotify-oauth","width=520,height=640,noopener=yes,noreferrer=yes");if(!s)throw new Error("Popup was blocked. Allow pop-ups and try again.");return s.focus(),await Ib(s),await t(),e.update(i=>({...i,authorizing:!1})),!0}catch(a){const s=a instanceof Error?a.message:"Failed to start Spotify authorization.";return e.update(i=>({...i,authorizing:!1,error:s})),!1}}return{subscribe:e.subscribe,load:t,reset:n,authorize:r}}const Xs={loading:!1,saving:!1,error:null,saveError:null,value:"",initialValue:"",dirty:!1};function Ob(){const e=kt({...Xs});function t(i,l){return i.trim()!==l.trim()}function n(i){return i.system_prompt?.trim()??""}async function r(){e.set({...Xs,loading:!0});try{const i=await N0(),l=n(i);e.set({loading:!1,saving:!1,error:null,saveError:null,value:l,initialValue:l,dirty:!1})}catch(i){const l=i instanceof Error?i.message:"Failed to load system prompt.";e.set({...Xs,loading:!1,error:l})}}function u(i){e.update(l=>{const c=i;return{...l,value:c,dirty:t(c,l.initialValue),saveError:null}})}async function a(){let i="";e.update(c=>(i=c.value,{...c,saving:!0,saveError:null}));const l={system_prompt:i.trim()||null};try{const c=await O0(l),d=n(c);e.set({loading:!1,saving:!1,error:null,saveError:null,value:d,initialValue:d,dirty:!1})}catch(c){const d=c instanceof Error?c.message:"Failed to save system prompt.";e.update(f=>({...f,saving:!1,saveError:d}))}}function s(){e.update(i=>({...i,value:i.initialValue,dirty:!1,saveError:null}))}return{subscribe:e.subscribe,load:r,save:a,reset:s,updateValue:u}}var Lb=M('<p class="status">Loading system promptâ¦</p>'),Rb=M('<p class="status error"> </p>'),$b=M('<p class="status error"> </p>'),zb=M('<p class="status">Pending changes; closing this modal will save.</p>'),Ub=M('<p class="status muted">Changes save when you close this modal.</p>'),Bb=M('<textarea class="system-prompt textarea-control" rows="6" placeholder="Provide guidance for the assistant to follow at the start of new conversations."></textarea> <!>',1),jb=M('<p class="status">Checking Google authorizationâ¦</p>'),qb=M('<p class="status error"> </p> <div class="google-auth-actions"><button type="button" class="btn btn-ghost btn-small">Try again</button></div>',1),Hb=M('<p class="status muted"> </p>'),Wb=M('<p class="status muted">Access will refresh automatically.</p>'),Vb=M('<p class="status success">Connected as <span class="google-auth-email"> </span>.</p> <!>',1),Gb=M('<p class="status">Google services are not connected.</p>'),Kb=M("<li> </li>"),Zb=M('<p class="status">Checking Spotify authorizationâ¦</p>'),Yb=M('<p class="status error"> </p> <div class="google-auth-actions"><button type="button" class="btn btn-ghost btn-small">Try again</button></div>',1),Jb=M('<p class="status success">Connected as <span class="google-auth-email"> </span>.</p> <p class="status muted">Access will refresh automatically.</p>',1),Xb=M('<p class="status">Spotify is not connected.</p>'),Qb=M('<button type="button" class="btn btn-ghost btn-small">Disconnect</button>'),e_=M('<button type="button" class="btn btn-primary btn-small"> </button>'),t_=M('<p class="status">Checking Monarch statusâ¦</p>'),n_=M('<p class="status success">Connected as <span class="google-auth-email"> </span>.</p>'),r_=No('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>'),u_=No('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'),a_=M('<p class="status error"> </p>'),s_=M(`<div class="monarch-form"><label>Email <input type="email" class="input-control" placeholder="email@example.com"/></label> <label>Password <div class="password-input-wrapper"><input class="input-control" placeholder="Password"/> <button type="button" class="btn btn-ghost btn-icon btn-small"><!></button></div></label> <label>MFA Secret (Optional) <input type="text" class="input-control" placeholder="MFA Secret"/></label> <p class="status muted" style="margin-top: -0.5rem; margin-bottom: 1rem; font-size: 0.8em;">If you already use an app, you must <strong>reset MFA</strong> in Monarch
              Settings to see the secret key again. Enter the new key here AND in
              your app.</p> <!></div>`),o_=M('<p class="system-card-caption"> </p>'),i_=M('<p class="system-card-caption">Toggle integrations available to the assistant.</p>'),l_=M('<p class="status">Loading MCP serversâ¦</p>'),c_=M('<p class="status error"> </p>'),d_=M('<p class="status">No MCP servers configured.</p>'),f_=M('<span aria-hidden="true">â¢</span> <span> </span>',1),p_=M('<span aria-hidden="true">â¢</span> <span> </span>',1),h_=M("<option> </option>"),m_=M(`<div class="shell-server-settings"><div class="shell-setting"><div class="shell-setting__info"><span class="field-label">This machine</span> <span class="field-hint">Select which computer you're on. Sets host profile
                              and storage path.</span></div> <select class="select-control"><option>-- Select machine --</option><!></select></div></div>`),v_=M('<li class="tool-row"><div class="tool-info"><span class="tool-name"> </span> <span class="tool-qualified"> </span></div> <label class="toggle"><input type="checkbox"/> <span> </span></label></li>'),g_=M('<ul class="tool-list"></ul>'),b_=M('<p class="status">Tool list unavailable.</p>'),__=M('<p class="status warning"> </p>'),y_=M('<div class="tools-dropdown"><!> <!></div>'),x_=M('<li class="server-row"><div class="server-row-header"><div class="server-heading"><h4> </h4> <div class="server-meta"><span> </span> <!></div></div> <div class="server-toggles"><label class="toggle running-toggle" title="Start/stop the server process"><input type="checkbox"/> <span> </span></label> <label><input type="checkbox"/> <span>Frontend</span></label> <label><input type="checkbox"/> <span>Kiosk</span></label></div></div> <div class="server-row-body"><!> <button type="button"><span class="tools-toggle__label"> </span> <svg class="tools-toggle__icon" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <!></div></li>'),k_=M('<ul class="server-list"></ul>'),E_=M('<p class="status error"> </p>'),w_=M('<p class="status warning">Pending changes save when you close this modal.</p>'),S_=M("<!> <!> <!>",1),A_=M(`<article class="system-card"><header class="system-card-header"><div><h3>System prompt</h3> <p class="system-card-caption">Applied to new chat sessions when no custom prompt is present.</p></div> <div class="system-card-actions"><button type="button" class="btn btn-ghost btn-small">Reset</button></div></header> <div class="system-card-body"><!></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Google services</h3> <p class="system-card-caption">Connect Calendar, Tasks, Gmail, and Drive with a single consent.</p></div> <div class="system-card-actions"><button type="button" class="btn btn-primary btn-small"> </button></div></header> <div class="system-card-body google-auth-body"><!> <ul class="google-services-list"></ul> <p class="status muted">Click "Connect Google Services" to authorize these integrations for
          the assistant.</p></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Spotify</h3> <p class="system-card-caption">Connect Spotify for music control and playback.</p></div> <div class="system-card-actions"><button type="button" class="btn btn-primary btn-small"> </button></div></header> <div class="system-card-body google-auth-body"><!> <p class="status muted">Click "Connect Spotify" to authorize music control and playback
          features.</p></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Monarch Money</h3> <p class="system-card-caption">Connect your Monarch Money account.</p></div> <div class="system-card-actions"><!></div></header> <div class="system-card-body"><!></div></article> <article class="system-card"><header class="system-card-header"><div><h3>MCP servers</h3> <!></div> <div class="system-card-actions"><button type="button" class="btn btn-ghost btn-small"> </button></div></header> <div class="system-card-body"><!></div></article>`,1),C_=M('<h2 id="system-settings-title">System settings</h2> <p class="model-settings-subtitle">Configure orchestration defaults and MCP servers.</p>',1),D_=M('<p class="status error">Resolve the errors above before closing.</p>'),T_=M('<p class="status">Saving changesâ¦</p>'),F_=M('<p class="status">Pending changes; closing this modal will save.</p>'),M_=M('<p class="status">Changes save when you close this modal.</p>'),P_=M('<footer slot="footer" class="model-settings-footer system-settings-footer"><!></footer>');function I_(e,t){Qe(t,!1);const n=()=>Xe(f,"$systemPrompt",i),r=()=>Xe(h,"$mcpServers",i),u=()=>Xe(v,"$googleAuth",i),a=()=>Xe(w,"$spotifyAuth",i),s=()=>Xe(p,"$monarchAuth",i),[i,l]=Gn();let c=ne(t,"open",8,!1);const d=Et(),f=Ob(),h=Mb(),v=Fb(),p=Pb(),w=Nb();let y=U(!1),_=!1,A=U(new Set);const E=[{id:"xps13",label:"Dell XPS 13",path:"/home/jack/gdrive/host_profiles"},{id:"ryzen-desktop",label:"Ryzen Desktop",path:"/home/human/gdrive/host_profiles"}];async function g(){await Promise.all([f.load(),h.load(),v.load(),p.load(),w.load()])}async function S(){return at(f).dirty?(await f.save(),!at(f).saveError):!0}async function x(){if(_||n().saving||r().saving)return;_=!0;const Z=await S(),B=Z?await h.flushPending():!1,ye=at(f),Me=at(h);Z&&B&&!ye.saveError&&!Me.saveError&&d("close"),_=!1}let T=U(""),R=U(""),z=U(""),F=U(!1);function I(Z,B){const ye=E.find(Me=>Me.id===B);ye&&(Y(Z,"HOST_PROFILE_ID",ye.id),Y(Z,"HOST_ROOT_PATH",ye.path))}function K(){!o(T)||!o(R)||p.save({email:o(T),password:o(R),mfa_secret:o(z)||null})}function N(Z){const B=Z.target;f.updateValue(B?.value??"")}function Q(Z,B){r().saving||h.setServerEnabled(Z,B)}function q(Z,B){r().saving||h.setKioskEnabled(Z,B)}function ae(Z,B){r().saving||h.setFrontendEnabled(Z,B)}function ie(Z,B,ye){r().saving||h.setToolEnabled(Z,B,ye)}function Y(Z,B,ye){r().saving||h.setServerEnv(Z,B,ye)}function W(){const Z=at(h);Z.dirty||Z.saving||h.refresh()}function O(){u().loading||u().authorizing||v.load()}async function V(){u().authorizing||await v.authorize()}function he(){a().loading||a().authorizing||w.load()}async function pe(){a().authorizing||await w.authorize()}function H(Z){if(!Z)return null;try{const B=new Date(Z);return Number.isNaN(B.getTime())?Z:new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"2-digit"}).format(B)}catch(B){return console.warn("Failed to format timestamp",B),Z}}function j(Z){const B=new Set(o(A));B.has(Z)?B.delete(Z):B.add(Z),D(A,B)}fe(()=>(L(c()),o(y)),()=>{c()&&!o(y)?(D(y,!0),g()):!c()&&o(y)&&(D(y,!1),f.reset(),v.reset(),w.reset())}),At(),rt();var ce=Se(),ee=me(ce);{var De=Z=>{{let B=ct(()=>(n(),r(),u(),m(()=>n().saving||r().saving||u().authorizing)));cr(Z,{get open(){return c()},labelledBy:"system-settings-title",modalClass:"system-settings-modal",bodyClass:"system-settings-body",layerClass:"system-settings-layer",closeLabel:"Close system settings",get closeDisabled(){return o(B)},$$events:{close:()=>void x()},children:(ye,Me)=>{var Re=A_(),We=me(Re),Ae=b(We),tt=C(b(Ae),2),_e=b(tt),te=C(Ae,2),Ee=b(te);{var ge=Ne=>{var se=Lb();k(Ne,se)},Te=Ne=>{var se=Se(),P=me(se);{var re=Fe=>{var qe=Rb(),Ue=b(qe);G(()=>X(Ue,(n(),m(()=>n().error)))),k(Fe,qe)},ke=Fe=>{var qe=Bb(),Ue=me(qe),st=C(Ue,2);{var gt=it=>{var Ye=$b(),dn=b(Ye);G(()=>X(dn,(n(),m(()=>n().saveError)))),k(it,Ye)},Je=it=>{var Ye=Se(),dn=me(Ye);{var ht=en=>{var le=zb();k(en,le)},Qt=en=>{var le=Ub();k(en,le)};$(dn,en=>{n(),m(()=>n().dirty)?en(ht):en(Qt,!1)},!0)}k(it,Ye)};$(st,it=>{n(),m(()=>n().saveError)?it(gt):it(Je,!1)})}G(()=>Ue.disabled=(n(),m(()=>n().saving))),rr(Ue,()=>n().value,it=>k0(f,m(n).value=it,m(n))),J("input",Ue,N),k(Fe,qe)};$(P,Fe=>{n(),m(()=>n().error)?Fe(re):Fe(ke,!1)},!0)}k(Ne,se)};$(Ee,Ne=>{n(),m(()=>n().loading)?Ne(ge):Ne(Te,!1)})}var $e=C(We,2),ue=b($e),ve=C(b(ue),2),xe=b(ve),we=b(xe),be=C(ue,2),Oe=b(be);{var Ce=Ne=>{var se=jb();k(Ne,se)},Le=Ne=>{var se=Se(),P=me(se);{var re=Fe=>{var qe=qb(),Ue=me(qe),st=b(Ue),gt=C(Ue,2),Je=b(gt);G(()=>{X(st,(u(),m(()=>u().error))),Je.disabled=(u(),m(()=>u().loading||u().authorizing))}),J("click",Je,O),k(Fe,qe)},ke=Fe=>{var qe=Se(),Ue=me(qe);{var st=Je=>{var it=Vb(),Ye=me(it),dn=C(b(Ye)),ht=b(dn),Qt=C(Ye,2);{var en=fn=>{var Xn=Hb(),wt=b(Xn);G(Dn=>X(wt,`Current token expires ${Dn??""}.`),[()=>(u(),m(()=>H(u().expiresAt)??"soon"))]),k(fn,Xn)},le=fn=>{var Xn=Wb();k(fn,Xn)};$(Qt,fn=>{u(),m(()=>u().expiresAt)?fn(en):fn(le,!1)})}G(()=>X(ht,(u(),m(()=>u().userEmail)))),k(Je,it)},gt=Je=>{var it=Gb();k(Je,it)};$(Ue,Je=>{u(),m(()=>u().authorized)?Je(st):Je(gt,!1)},!0)}k(Fe,qe)};$(P,Fe=>{u(),m(()=>u().error)?Fe(re):Fe(ke,!1)},!0)}k(Ne,se)};$(Oe,Ne=>{u(),m(()=>u().loading)?Ne(Ce):Ne(Le,!1)})}var Be=C(Oe,2);mt(Be,5,()=>(u(),m(()=>u().services)),jn,(Ne,se)=>{var P=Kb(),re=b(P);G(()=>X(re,o(se))),k(Ne,P)});var Ve=C($e,2),je=b(Ve),Pe=C(b(je),2),ut=b(Pe),Rt=b(ut),qt=C(je,2),Zt=b(qt);{var $t=Ne=>{var se=Zb();k(Ne,se)},Yt=Ne=>{var se=Se(),P=me(se);{var re=Fe=>{var qe=Yb(),Ue=me(qe),st=b(Ue),gt=C(Ue,2),Je=b(gt);G(()=>{X(st,(a(),m(()=>a().error))),Je.disabled=(a(),m(()=>a().loading||a().authorizing))}),J("click",Je,he),k(Fe,qe)},ke=Fe=>{var qe=Se(),Ue=me(qe);{var st=Je=>{var it=Jb(),Ye=me(it),dn=C(b(Ye)),ht=b(dn);G(()=>X(ht,(a(),m(()=>a().userEmail)))),k(Je,it)},gt=Je=>{var it=Xb();k(Je,it)};$(Ue,Je=>{a(),m(()=>a().authorized)?Je(st):Je(gt,!1)},!0)}k(Fe,qe)};$(P,Fe=>{a(),m(()=>a().error)?Fe(re):Fe(ke,!1)},!0)}k(Ne,se)};$(Zt,Ne=>{a(),m(()=>a().loading)?Ne($t):Ne(Yt,!1)})}var nt=C(Ve,2),Ge=b(nt),Ct=C(b(Ge),2),Jt=b(Ct);{var de=Ne=>{var se=Qb();G(()=>se.disabled=(s(),m(()=>s().saving))),J("click",se,()=>p.remove()),k(Ne,se)},Ie=Ne=>{var se=e_(),P=b(se);G(()=>{se.disabled=(s(),o(T),o(R),m(()=>s().saving||!o(T)||!o(R))),X(P,(s(),m(()=>s().saving?"Saving...":"Connect")))}),J("click",se,K),k(Ne,se)};$(Jt,Ne=>{s(),m(()=>s().configured)?Ne(de):Ne(Ie,!1)})}var vt=C(Ge,2),Mt=b(vt);{var Tt=Ne=>{var se=t_();k(Ne,se)},zt=Ne=>{var se=Se(),P=me(se);{var re=Fe=>{var qe=n_(),Ue=C(b(qe)),st=b(Ue);G(()=>X(st,(s(),m(()=>s().email)))),k(Fe,qe)},ke=Fe=>{var qe=s_(),Ue=b(qe),st=C(b(Ue)),gt=C(Ue,2),Je=C(b(gt)),it=b(Je),Ye=C(it,2),dn=b(Ye);{var ht=wt=>{var Dn=r_();k(wt,Dn)},Qt=wt=>{var Dn=u_();k(wt,Dn)};$(dn,wt=>{o(F)?wt(ht):wt(Qt,!1)})}var en=C(gt,2),le=C(b(en)),fn=C(en,4);{var Xn=wt=>{var Dn=a_(),ms=b(Dn);G(()=>X(ms,(s(),m(()=>s().error)))),k(wt,Dn)};$(fn,wt=>{s(),m(()=>s().error)&&wt(Xn)})}G(()=>{oe(it,"type",o(F)?"text":"password"),oe(Ye,"title",o(F)?"Hide password":"Show password")}),rr(st,()=>o(T),wt=>D(T,wt)),rr(it,()=>o(R),wt=>D(R,wt)),J("click",Ye,()=>D(F,!o(F))),rr(le,()=>o(z),wt=>D(z,wt)),k(Fe,qe)};$(P,Fe=>{s(),m(()=>s().configured)?Fe(re):Fe(ke,!1)},!0)}k(Ne,se)};$(Mt,Ne=>{s(),m(()=>s().loading)?Ne(Tt):Ne(zt,!1)})}var Yr=C(nt,2),dr=b(Yr),ze=b(dr),ot=C(b(ze),2);{var Pt=Ne=>{var se=o_(),P=b(se);G(re=>X(P,`Last updated ${re??""}`),[()=>(r(),m(()=>H(r().updatedAt)??""))]),k(Ne,se)},_t=Ne=>{var se=i_();k(Ne,se)};$(ot,Ne=>{r(),m(()=>r().updatedAt)?Ne(Pt):Ne(_t,!1)})}var Xt=C(ze,2),Ut=b(Xt),yt=b(Ut),vn=C(dr,2),fr=b(vn);{var Tr=Ne=>{var se=l_();k(Ne,se)},Jr=Ne=>{var se=Se(),P=me(se);{var re=Fe=>{var qe=c_(),Ue=b(qe);G(()=>X(Ue,(r(),m(()=>r().error)))),k(Fe,qe)},ke=Fe=>{var qe=S_(),Ue=me(qe);{var st=ht=>{var Qt=d_();k(ht,Qt)},gt=ht=>{var Qt=k_();mt(Qt,5,()=>(r(),m(()=>r().servers)),jn,(en,le)=>{var fn=x_(),Xn=b(fn),wt=b(Xn),Dn=b(wt),ms=b(Dn),_d=C(Dn,2),vs=b(_d);let Xo;var yd=b(vs),xd=C(vs,2);{var kd=xt=>{var pn=f_(),Tn=C(me(pn),2),tn=b(Tn);G(()=>{oe(Tn,"title",(o(le),m(()=>o(le).module))),X(tn,`Module: ${o(le),m(()=>o(le).module)??""}`)}),k(xt,pn)},Ed=xt=>{var pn=Se(),Tn=me(pn);{var tn=Fn=>{var Qr=p_(),Fr=C(me(Qr),2),Ht=b(Fr);G((Wt,zn)=>{oe(Fr,"title",Wt),X(Ht,`Command: ${zn??""}`)},[()=>(o(le),m(()=>o(le).command.join(" "))),()=>(o(le),m(()=>o(le).command.join(" ")))]),k(Fn,Qr)};$(Tn,Fn=>{o(le),m(()=>o(le).command?.length)&&Fn(tn)},!0)}k(xt,pn)};$(xd,xt=>{o(le),m(()=>o(le).module)?xt(kd):xt(Ed,!1)})}var wd=C(wt,2),Qo=b(wd),ga=b(Qo),Sd=C(ga,2),Ad=b(Sd),ba=C(Qo,2);let ei;var gs=b(ba),bs=C(ba,2);let ti;var _s=b(bs),Cd=C(Xn,2),ni=b(Cd);{var Dd=xt=>{var pn=m_(),Tn=b(pn),tn=C(b(Tn),2),Fn=b(tn);Fn.value=Fn.__value="";var Qr=C(Fn);mt(Qr,1,()=>E,jn,(Ht,Wt)=>{var zn=h_(),nn=b(zn),eu={};G(()=>{X(nn,(o(Wt),m(()=>o(Wt).label))),eu!==(eu=(o(Wt),m(()=>o(Wt).id)))&&(zn.value=(zn.__value=(o(Wt),m(()=>o(Wt).id)))??"")}),k(Ht,zn)});var Fr;or(tn),G(()=>{tn.disabled=(r(),o(le),m(()=>r().pending[o(le).id]||r().saving)),Fr!==(Fr=(o(le),m(()=>o(le).env?.HOST_PROFILE_ID??"")))&&(tn.value=(tn.__value=(o(le),m(()=>o(le).env?.HOST_PROFILE_ID??"")))??"",Rn(tn,(o(le),m(()=>o(le).env?.HOST_PROFILE_ID??""))))}),J("change",tn,Ht=>I(o(le).id,Ht.target.value)),k(xt,pn)};$(ni,xt=>{o(le),m(()=>o(le).id==="shell-control")&&xt(Dd)})}var Xr=C(ni,2);let ri;var Td=b(Xr),Fd=b(Td),Md=C(Xr,2);{var Pd=xt=>{var pn=y_(),Tn=b(pn);{var tn=Ht=>{var Wt=g_();mt(Wt,5,()=>(o(le),m(()=>o(le).tools)),jn,(zn,nn)=>{var eu=v_(),ui=b(eu),ai=b(ui),Id=b(ai),Nd=C(ai,2),Od=b(Nd),Ld=C(ui,2),_a=b(Ld),Rd=C(_a,2),$d=b(Rd);G(()=>{oe(eu,"data-disabled",(o(nn),m(()=>!o(nn).enabled))),X(Id,(o(nn),m(()=>o(nn).name))),X(Od,(o(nn),m(()=>o(nn).qualified_name))),Vt(_a,(o(nn),m(()=>o(nn).enabled))),_a.disabled=(o(le),r(),m(()=>!o(le).enabled||r().pending[o(le).id]||r().saving)),X($d,(o(nn),m(()=>o(nn).enabled?"Enabled":"Disabled")))}),J("change",_a,zd=>ie(o(le).id,o(nn).name,zd.target.checked)),k(zn,eu)}),k(Ht,Wt)},Fn=Ht=>{var Wt=b_();k(Ht,Wt)};$(Tn,Ht=>{o(le),m(()=>o(le).tools.length)?Ht(tn):Ht(Fn,!1)})}var Qr=C(Tn,2);{var Fr=Ht=>{var Wt=__(),zn=b(Wt);G(nn=>X(zn,`Disabled tool ids: ${nn??""}`),[()=>(o(le),m(()=>o(le).disabled_tools.join(", ")))]),k(Ht,Wt)};$(Qr,Ht=>{o(le),m(()=>o(le).disabled_tools.length)&&Ht(Fr)})}G(()=>oe(pn,"id",`tools-${o(le),m(()=>o(le).id)??""}`)),k(xt,pn)};$(Md,xt=>{o(A),o(le),m(()=>o(A).has(o(le).id))&&xt(Pd)})}G((xt,pn,Tn,tn,Fn)=>{oe(fn,"data-connected",(o(le),m(()=>o(le).connected))),oe(fn,"data-pending",(r(),o(le),m(()=>r().pending[o(le).id]?"true":"false"))),oe(fn,"data-dirty",(r(),o(le),m(()=>r().pendingChanges[o(le).id]?"true":"false"))),X(ms,(o(le),m(()=>o(le).id))),Xo=St(vs,1,"",null,Xo,xt),X(yd,(o(le),m(()=>o(le).connected?"Connected":"Offline"))),Vt(ga,(o(le),m(()=>o(le).enabled))),ga.disabled=(r(),o(le),m(()=>r().pending[o(le).id]||r().saving)),X(Ad,(o(le),m(()=>o(le).enabled?"Running":"Stopped"))),ei=St(ba,1,"toggle frontend-toggle",null,ei,pn),oe(ba,"title",(o(le),m(()=>o(le).enabled?"Enable for main web frontend":"Server must be running"))),Vt(gs,(o(le),m(()=>o(le).frontend_enabled??!0))),gs.disabled=(o(le),r(),m(()=>!o(le).enabled||r().pending[o(le).id]||r().saving)),ti=St(bs,1,"toggle kiosk-toggle",null,ti,Tn),oe(bs,"title",(o(le),m(()=>o(le).enabled?"Enable for kiosk voice assistant":"Server must be running"))),Vt(_s,(o(le),m(()=>o(le).kiosk_enabled??!1))),_s.disabled=(o(le),r(),m(()=>!o(le).enabled||r().pending[o(le).id]||r().saving)),ri=St(Xr,1,"tools-toggle",null,ri,tn),oe(Xr,"aria-expanded",Fn),oe(Xr,"aria-controls",`tools-${o(le),m(()=>o(le).id)??""}`),X(Fd,`${o(le),m(()=>o(le).tool_count)??""} tool${o(le),m(()=>o(le).tool_count===1?"":"s")??""} available`)},[()=>({connected:o(le).connected,offline:!o(le).connected}),()=>({"toggle-disabled":!o(le).enabled}),()=>({"toggle-disabled":!o(le).enabled}),()=>({open:o(A).has(o(le).id)}),()=>(o(A),o(le),m(()=>o(A).has(o(le).id)))]),J("change",ga,xt=>Q(o(le).id,xt.target.checked)),J("change",gs,xt=>ae(o(le).id,xt.target.checked)),J("change",_s,xt=>q(o(le).id,xt.target.checked)),J("click",Xr,()=>j(o(le).id)),k(en,fn)}),k(ht,Qt)};$(Ue,ht=>{r(),m(()=>!r().servers.length)?ht(st):ht(gt,!1)})}var Je=C(Ue,2);{var it=ht=>{var Qt=E_(),en=b(Qt);G(()=>X(en,(r(),m(()=>r().saveError)))),k(ht,Qt)};$(Je,ht=>{r(),m(()=>r().saveError)&&ht(it)})}var Ye=C(Je,2);{var dn=ht=>{var Qt=w_();k(ht,Qt)};$(Ye,ht=>{r(),m(()=>r().dirty)&&ht(dn)})}k(Fe,qe)};$(P,Fe=>{r(),m(()=>r().error)?Fe(re):Fe(ke,!1)},!0)}k(Ne,se)};$(fr,Ne=>{r(),m(()=>r().loading)?Ne(Tr):Ne(Jr,!1)})}G(()=>{_e.disabled=(n(),r(),m(()=>!n().dirty||n().saving||r().saving)),xe.disabled=(u(),m(()=>u().loading||u().authorizing)),X(we,(u(),m(()=>u().authorizing?"Authorizingâ¦":u().authorized?"Reconnect Google Services":"Connect Google Services"))),ut.disabled=(a(),m(()=>a().loading||a().authorizing)),X(Rt,(a(),m(()=>a().authorizing?"Authorizingâ¦":a().authorized?"Reconnect Spotify":"Connect Spotify"))),Ut.disabled=(r(),m(()=>r().refreshing||r().saving||r().dirty)),X(yt,(r(),m(()=>r().refreshing?"Refreshingâ¦":"Refresh")))}),J("click",_e,()=>f.reset()),J("click",xe,()=>void V()),J("click",ut,()=>void pe()),J("click",Ut,W),k(ye,Re)},$$slots:{default:!0,heading:(ye,Me)=>{var Re=C_();k(ye,Re)},footer:(ye,Me)=>{var Re=P_(),We=b(Re);{var Ae=_e=>{var te=D_();k(_e,te)},tt=_e=>{var te=Se(),Ee=me(te);{var ge=$e=>{var ue=T_();k($e,ue)},Te=$e=>{var ue=Se(),ve=me(ue);{var xe=be=>{var Oe=F_();k(be,Oe)},we=be=>{var Oe=M_();k(be,Oe)};$(ve,be=>{n(),r(),m(()=>n().dirty||r().dirty)?be(xe):be(we,!1)},!0)}k($e,ue)};$(Ee,$e=>{n(),r(),m(()=>n().saving||r().saving)?$e(ge):$e(Te,!1)},!0)}k(_e,te)};$(We,_e=>{r(),n(),m(()=>r().saveError||n().saveError)?_e(Ae):_e(tt,!1)})}k(ye,Re)}}})}};$(ee,Z=>{c()&&Z(De)})}k(e,ce),et(),l()}async function N_(){const e=await fetch(`${jt}/api/kiosk/stt-settings`);if(!e.ok)throw new Error(`Failed to fetch kiosk STT settings: ${e.statusText}`);return e.json()}async function O_(e){const t=await fetch(`${jt}/api/kiosk/stt-settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk STT settings: ${t.statusText}`);return t.json()}async function L_(){const e=await fetch(`${jt}/api/kiosk/stt-settings/reset`,{method:"POST"});if(!e.ok)throw new Error(`Failed to reset kiosk STT settings: ${e.statusText}`);return e.json()}async function R_(){const e=await fetch(`${jt}/api/kiosk/tts-settings`);if(!e.ok)throw new Error(`Failed to fetch kiosk TTS settings: ${e.statusText}`);return e.json()}async function $_(e){const t=await fetch(`${jt}/api/kiosk/tts-settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk TTS settings: ${t.statusText}`);return t.json()}async function z_(){const e=await fetch(`${jt}/api/kiosk/tts-settings/reset`,{method:"POST"});if(!e.ok)throw new Error(`Failed to reset kiosk TTS settings: ${e.statusText}`);return e.json()}async function U_(){const e=await fetch(`${jt}/api/kiosk/tts-voices`);if(!e.ok)throw new Error(`Failed to fetch TTS voices: ${e.statusText}`);return e.json()}async function B_(){const e=await fetch(`${jt}/api/kiosk/ui/settings`);if(!e.ok)throw new Error(`Failed to fetch kiosk UI settings: ${e.statusText}`);return e.json()}async function j_(e){const t=await fetch(`${jt}/api/kiosk/ui/settings`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk UI settings: ${t.statusText}`);return t.json()}async function q_(){const e=await fetch(`${jt}/api/kiosk/llm-settings`);if(!e.ok)throw new Error(`Failed to fetch kiosk LLM settings: ${e.statusText}`);return e.json()}async function H_(e){const t=await fetch(`${jt}/api/kiosk/llm-settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk LLM settings: ${t.statusText}`);return t.json()}async function W_(){const e=await fetch(`${jt}/api/kiosk/llm-settings/reset`,{method:"POST"});if(!e.ok)throw new Error(`Failed to reset kiosk LLM settings: ${e.statusText}`);return e.json()}const V_={eot_threshold:.7,eot_timeout_ms:5e3,eager_eot_threshold:null,keyterms:[]},Ta={enabled:!0,provider:"deepgram",model:"aura-asteria-en",sample_rate:16e3},G_={idle_return_delay_ms:1e4},K_={llm_model:"openai/gpt-4o-mini",system_prompt:"You are a helpful voice assistant who replies succinctly.",temperature:.7,max_tokens:500,conversation_mode:!1,conversation_timeout_seconds:10},Z_={...V_,enabled:Ta.enabled,provider:Ta.provider,tts_model:Ta.model,sample_rate:Ta.sample_rate,...G_,...K_};function Y_(e){return JSON.parse(JSON.stringify(e))}function gd(){return Y_(Z_)}function J_(){const e=kt(gd());let t=!1,n=!1;async function r(){if(n)return at(e);n=!0;try{const[s,i,l,c]=await Promise.all([N_(),R_(),B_(),q_()]),d={...s,enabled:i.enabled,provider:i.provider,tts_model:i.model,sample_rate:i.sample_rate,...l,llm_model:c.model,system_prompt:c.system_prompt,temperature:c.temperature,max_tokens:c.max_tokens,conversation_mode:c.conversation_mode,conversation_timeout_seconds:c.conversation_timeout_seconds};return e.set(d),t=!0,d}catch(s){return console.error("Failed to load kiosk settings:",s),at(e)}finally{n=!1}}async function u(s){try{const i={},l={},c={};s.eot_threshold!==void 0&&(i.eot_threshold=s.eot_threshold),s.eot_timeout_ms!==void 0&&(i.eot_timeout_ms=s.eot_timeout_ms),s.eager_eot_threshold!==void 0&&(i.eager_eot_threshold=s.eager_eot_threshold),s.keyterms!==void 0&&(i.keyterms=s.keyterms),s.enabled!==void 0&&(l.enabled=s.enabled),s.provider!==void 0&&(l.provider=s.provider),s.tts_model!==void 0&&(l.model=s.tts_model),s.sample_rate!==void 0&&(l.sample_rate=s.sample_rate),s.idle_return_delay_ms!==void 0&&(c.idle_return_delay_ms=s.idle_return_delay_ms);const d={};s.llm_model!==void 0&&(d.model=s.llm_model),s.system_prompt!==void 0&&(d.system_prompt=s.system_prompt),s.temperature!==void 0&&(d.temperature=s.temperature),s.max_tokens!==void 0&&(d.max_tokens=s.max_tokens),s.conversation_mode!==void 0&&(d.conversation_mode=s.conversation_mode),s.conversation_timeout_seconds!==void 0&&(d.conversation_timeout_seconds=s.conversation_timeout_seconds);const f=[];return Object.keys(i).length>0&&f.push(O_(i)),Object.keys(l).length>0&&f.push($_(l)),Object.keys(c).length>0&&f.push(j_(c)),Object.keys(d).length>0&&f.push(H_(d)),await Promise.all(f),await r()}catch(i){throw console.error("Failed to save kiosk settings:",i),i}}async function a(){try{const[s,i,l]=await Promise.all([L_(),z_(),W_()]),c=at(e),d={...s,enabled:i.enabled,provider:i.provider,tts_model:i.model,sample_rate:i.sample_rate,idle_return_delay_ms:c.idle_return_delay_ms,llm_model:l.model,system_prompt:l.system_prompt,temperature:l.temperature,max_tokens:l.max_tokens,conversation_mode:l.conversation_mode,conversation_timeout_seconds:l.conversation_timeout_seconds};return e.set(d),d}catch(s){throw console.error("Failed to reset kiosk settings:",s),s}}return{subscribe:e.subscribe,load:r,save:u,reset:a,get isLoaded(){return t},get current(){return at(e)}}}const Qs=J_();var X_=M('<p class="status">Loading settingsâ¦</p>'),Q_=M('<div class="setting-range" style="margin-top: 0.75rem;"><div class="setting-range-header"><span class="setting-label" title="Confidence level for triggering early processing. Lower = starts processing sooner (more false starts). Higher = waits longer before speculating.">Eager EOT Threshold</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0.3" max="0.9" step="0.05"/> <div class="range-extents"><span>0.3 (eager)</span> <span>0.9 (conservative)</span></div></div>'),e3=M("<option> </option>"),t3=M('<div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="tts-voice" title="Select the voice for text-to-speech synthesis.">Voice</label> <select id="tts-voice" class="select-input svelte-10jke8k"></select></div></div>'),n3=M("<option> </option>"),r3=M(`<div class="settings-stack" aria-live="polite"><div class="setting reasoning"><div class="setting-header"><span class="setting-label">Speech Recognition</span> <span class="setting-hint">Deepgram Flux end-of-turn detection settings.</span></div> <div class="reasoning-controls"><div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Confidence level (0.5-0.9) required before the system considers you've finished speaking. Lower = faster response but may cut you off. Higher = waits longer to be sure you're done.">EOT Threshold</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0.5" max="0.9" step="0.05"/> <div class="range-extents"><span>0.5 (fast)</span> <span>0.9 (reliable)</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Maximum time (ms) to wait after speech before forcing end-of-turn, regardless of confidence. Shorter = faster response. Longer = allows for natural pauses.">EOT Timeout</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="500" max="10000" step="250"/> <div class="range-extents"><span>500ms</span> <span>10s</span></div></div></div></div></div> <div class="setting"><div class="setting-header"><span class="setting-label">Advanced</span> <span class="setting-hint">Optional fine-tuning options.</span></div> <label class="setting-boolean" title="When enabled, the system can speculatively start processing before you fully finish speaking. This reduces latency but may cause 'false starts' if you pause mid-sentence."><input type="checkbox"/> <span>Enable eager end-of-turn</span></label> <!></div> <div class="setting reasoning"><div class="setting-header"><span class="setting-label">Display</span> <span class="setting-hint">Kiosk screen behavior settings.</span></div> <div class="reasoning-controls"><div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="How long (seconds) to wait on the transcription screen after going IDLE before returning to the clock screen.">Return to Clock</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="1000" max="60000" step="1000"/> <div class="range-extents"><span>1s</span> <span>60s</span></div></div></div></div></div> <div class="setting reasoning"><div class="setting-header"><span class="setting-label">Text-to-Speech</span> <span class="setting-hint">Voice synthesis settings for assistant responses.</span></div> <div class="reasoning-controls"><label class="setting-boolean" title="Enable or disable audio playback of assistant responses."><input type="checkbox"/> <span>Enable TTS</span></label> <!></div></div> <div class="setting reasoning"><div class="setting-header"><span class="setting-label">Language Model</span> <span class="setting-hint">Configure the AI model and behavior.</span></div> <div class="reasoning-controls"><div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="llm-model" title="Select the language model for generating responses.">Model</label> <select id="llm-model" class="select-input svelte-10jke8k"></select></div></div> <div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="system-prompt" title="Instructions that define how the assistant behaves.">System Prompt</label> <textarea id="system-prompt" class="keyterms-input svelte-10jke8k" rows="3" placeholder="You are a helpful voice assistant..."></textarea></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Controls randomness in responses. Lower = more focused, higher = more creative. Note: Some models don't support this parameter.">Temperature</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0" max="2" step="0.1"/> <div class="range-extents"><span>0 (focused)</span> <span>2 (creative)</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Maximum length of responses in tokens. Keep low for voice interactions.">Max Tokens</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="50" max="2000" step="50"/> <div class="range-extents"><span>50 (short)</span> <span>2000 (long)</span></div></div></div></div></div> <div class="setting"><div class="setting-header"><span class="setting-label" title="Words or phrases the speech recognition should pay extra attention to. Useful for device names, product terms, or commands specific to your home automation setup.">Keyterms</span> <span class="setting-hint">Words to boost recognition (one per line, up to 100).</span></div> <textarea class="keyterms-input svelte-10jke8k" rows="3" placeholder="lights thermostat turn on"></textarea></div></div>`),u3=M('<h2 id="kiosk-settings-title">Kiosk settings</h2> <p class="model-settings-subtitle">Configure the voice assistant kiosk.</p>',1),a3=M('<button slot="actions" type="button" class="btn btn-ghost btn-small">Reset to defaults</button>'),s3=M('<span class="status error"> </span>'),o3=M('<span class="status">Saving changesâ¦</span>'),i3=M('<span class="status">Pending changes; closing this modal will save.</span>'),l3=M('<span class="status">Changes save when you close this modal.</span>'),c3=M('<footer slot="footer" class="model-settings-footer"><!></footer>');function d3(e,t){Qe(t,!1);const n=()=>Xe(wr,"$modelStore",r),[r,u]=Gn();let a=U([]),s=ne(t,"open",8,!1);const i=Et();let l=U(gd()),c=U(!1),d=U(!1),f=U(!0),h=U(null),v=U(!1),p=!1;async function w(){D(f,!0);try{const[R,z]=await Promise.all([Qs.load(),U_(),wr.loadModels()]);D(l,{...R}),D(a,z)}catch{D(h,"Failed to load settings")}finally{D(f,!1)}}function y(){p||o(d)||(p=!0,(async()=>(await A()&&i("close"),p=!1))())}function _(){D(c,!0),D(h,null)}async function A(){if(!o(c))return!0;D(d,!0),D(h,null);try{const R=await Qs.save(o(l));return D(l,{...R}),D(c,!1),!0}catch(R){const z=R instanceof Error?R.message:"Failed to save settings.";return D(h,z),!1}finally{D(d,!1)}}async function E(){D(d,!0);try{const R=await Qs.reset();D(l,{...R}),D(c,!1),D(h,null)}catch{D(h,"Failed to reset settings")}finally{D(d,!1)}}function g(R,z,F){return`${(R-z)/(F-z)*100}%`}fe(()=>(L(s()),o(v),o(c),o(d)),()=>{s()&&!o(v)?(D(v,!0),D(c,!1),D(d,!1),D(h,null),w()):!s()&&o(v)&&(D(v,!1),o(c)&&!o(d)&&A())}),At(),rt();var S=Se(),x=me(S);{var T=R=>{cr(R,{get open(){return s()},labelledBy:"kiosk-settings-title",closeLabel:"Close kiosk settings",$$events:{close:()=>void y()},children:(z,F)=>{var I=Se(),K=me(I);{var N=q=>{var ae=X_();k(q,ae)},Q=q=>{var ae=r3(),ie=b(ae),Y=C(b(ie),2),W=b(Y),O=b(W),V=b(O),he=C(b(V),2),pe=b(he),H=C(V,2),j=C(W,2),ce=b(j),ee=b(ce),De=C(b(ee),2),Z=b(De),B=C(ee,2),ye=C(ie,2),Me=C(b(ye),2),Re=b(Me),We=C(Me,2);{var Ae=ze=>{var ot=Q_(),Pt=b(ot),_t=C(b(Pt),2),Xt=b(_t),Ut=C(Pt,2);G((yt,vn)=>{X(Xt,yt),Ot(Ut,(o(l),m(()=>o(l).eager_eot_threshold??.5))),Ut.disabled=o(d),nr(Ut,`--slider-fill: ${vn??""}`)},[()=>(o(l),m(()=>o(l).eager_eot_threshold?.toFixed(2)??"â")),()=>(o(l),m(()=>g(o(l).eager_eot_threshold??.5,.3,.9)))]),J("input",Ut,yt=>{D(l,{...o(l),eager_eot_threshold:parseFloat(yt.target.value)}),_()}),k(ze,ot)};$(We,ze=>{o(l),m(()=>o(l).eager_eot_threshold!==null)&&ze(Ae)})}var tt=C(ye,2),_e=C(b(tt),2),te=b(_e),Ee=b(te),ge=b(Ee),Te=C(b(ge),2),$e=b(Te),ue=C(ge,2),ve=C(tt,2),xe=C(b(ve),2),we=b(xe),be=b(we),Oe=C(we,2);{var Ce=ze=>{var ot=t3(),Pt=b(ot),_t=C(b(Pt),2);mt(_t,5,()=>o(a),jn,(Ut,yt)=>{var vn=e3(),fr=b(vn),Tr={};G(Jr=>{X(fr,Jr),Tr!==(Tr=o(yt))&&(vn.value=(vn.__value=o(yt))??"")},[()=>(o(yt),m(()=>o(yt).replace("aura-","").replace("-en","")))]),k(Ut,vn)});var Xt;or(_t),G(()=>{_t.disabled=o(d),Xt!==(Xt=(o(l),m(()=>o(l).tts_model)))&&(_t.value=(_t.__value=(o(l),m(()=>o(l).tts_model)))??"",Rn(_t,(o(l),m(()=>o(l).tts_model))))}),J("change",_t,Ut=>{D(l,{...o(l),tts_model:Ut.target.value}),_()}),k(ze,ot)};$(Oe,ze=>{o(l),m(()=>o(l).enabled)&&ze(Ce)})}var Le=C(ve,2),Be=C(b(Le),2),Ve=b(Be),je=b(Ve),Pe=C(b(je),2);mt(Pe,5,()=>(n(),m(()=>n().models)),ze=>ze.id,(ze,ot)=>{var Pt=n3(),_t=b(Pt),Xt={};G(()=>{X(_t,(o(ot),m(()=>o(ot).name??o(ot).id))),Xt!==(Xt=(o(ot),m(()=>o(ot).id)))&&(Pt.value=(Pt.__value=(o(ot),m(()=>o(ot).id)))??"")}),k(ze,Pt)});var ut;or(Pe);var Rt=C(Ve,2),qt=b(Rt),Zt=C(b(qt),2),$t=C(Rt,2),Yt=b($t),nt=b(Yt),Ge=C(b(nt),2),Ct=b(Ge),Jt=C(nt,2),de=C($t,2),Ie=b(de),vt=b(Ie),Mt=C(b(vt),2),Tt=b(Mt),zt=C(vt,2),Yr=C(Le,2),dr=C(b(Yr),2);G((ze,ot,Pt,_t,Xt,Ut,yt,vn,fr)=>{X(pe,ze),Ot(H,(o(l),m(()=>o(l).eot_threshold))),H.disabled=o(d),nr(H,`--slider-fill: ${ot??""}`),X(Z,`${o(l),m(()=>o(l).eot_timeout_ms)??""}ms`),Ot(B,(o(l),m(()=>o(l).eot_timeout_ms))),B.disabled=o(d),nr(B,`--slider-fill: ${Pt??""}`),Vt(Re,(o(l),m(()=>o(l).eager_eot_threshold!==null))),Re.disabled=o(d),X($e,`${_t??""}s`),Ot(ue,(o(l),m(()=>o(l).idle_return_delay_ms))),ue.disabled=o(d),nr(ue,`--slider-fill: ${Xt??""}`),Vt(be,(o(l),m(()=>o(l).enabled))),be.disabled=o(d),Pe.disabled=o(d),ut!==(ut=(o(l),m(()=>o(l).llm_model)))&&(Pe.value=(Pe.__value=(o(l),m(()=>o(l).llm_model)))??"",Rn(Pe,(o(l),m(()=>o(l).llm_model)))),Zt.disabled=o(d),Ot(Zt,(o(l),m(()=>o(l).system_prompt??""))),X(Ct,Ut),Ot(Jt,(o(l),m(()=>o(l).temperature))),Jt.disabled=o(d),nr(Jt,`--slider-fill: ${yt??""}`),X(Tt,(o(l),m(()=>o(l).max_tokens))),Ot(zt,(o(l),m(()=>o(l).max_tokens))),zt.disabled=o(d),nr(zt,`--slider-fill: ${vn??""}`),dr.disabled=o(d),Ot(dr,fr)},[()=>(o(l),m(()=>o(l).eot_threshold.toFixed(2))),()=>(o(l),m(()=>g(o(l).eot_threshold,.5,.9))),()=>(o(l),m(()=>g(o(l).eot_timeout_ms,500,1e4))),()=>(o(l),m(()=>(o(l).idle_return_delay_ms/1e3).toFixed(0))),()=>(o(l),m(()=>g(o(l).idle_return_delay_ms,1e3,6e4))),()=>(o(l),m(()=>o(l).temperature.toFixed(1))),()=>(o(l),m(()=>g(o(l).temperature,0,2))),()=>(o(l),m(()=>g(o(l).max_tokens,50,2e3))),()=>(o(l),m(()=>o(l).keyterms.join(`
`)))]),J("input",H,ze=>{D(l,{...o(l),eot_threshold:parseFloat(ze.target.value)}),_()}),J("input",B,ze=>{D(l,{...o(l),eot_timeout_ms:parseInt(ze.target.value,10)}),_()}),J("change",Re,ze=>{const ot=ze.target.checked;D(l,{...o(l),eager_eot_threshold:ot?.5:null}),_()}),J("input",ue,ze=>{D(l,{...o(l),idle_return_delay_ms:parseInt(ze.target.value,10)}),_()}),J("change",be,ze=>{D(l,{...o(l),enabled:ze.target.checked}),_()}),J("change",Pe,ze=>{D(l,{...o(l),llm_model:ze.target.value}),_()}),J("input",Zt,ze=>{D(l,{...o(l),system_prompt:ze.target.value||null}),_()}),J("input",Jt,ze=>{D(l,{...o(l),temperature:parseFloat(ze.target.value)}),_()}),J("input",zt,ze=>{D(l,{...o(l),max_tokens:parseInt(ze.target.value,10)}),_()}),J("input",dr,ze=>{const Pt=ze.target.value.split(`
`).map(_t=>_t.trim()).filter(_t=>_t.length>0).slice(0,100);D(l,{...o(l),keyterms:Pt}),_()}),k(q,ae)};$(K,q=>{o(f)?q(N):q(Q,!1)})}k(z,I)},$$slots:{default:!0,heading:(z,F)=>{var I=u3();k(z,I)},actions:(z,F)=>{var I=a3();G(()=>I.disabled=o(d)||o(f)),J("click",I,E),k(z,I)},footer:(z,F)=>{var I=c3(),K=b(I);{var N=q=>{var ae=s3(),ie=b(ae);G(()=>X(ie,o(h))),k(q,ae)},Q=q=>{var ae=Se(),ie=me(ae);{var Y=O=>{var V=o3();k(O,V)},W=O=>{var V=Se(),he=me(V);{var pe=j=>{var ce=i3();k(j,ce)},H=j=>{var ce=l3();k(j,ce)};$(he,j=>{o(c)?j(pe):j(H,!1)},!0)}k(O,V)};$(ie,O=>{o(d)?O(Y):O(W,!1)},!0)}k(q,ae)};$(K,q=>{o(h)?q(N):q(Q,!1)})}k(z,I)}}})};$(x,R=>{s()&&R(T)})}k(e,S),et(),u()}var f3=M('<section><header class="svelte-10u46cr"><button type="button"><span class="title svelte-10u46cr"> </span> <span class="chevron svelte-10u46cr" aria-hidden="true"></span></button></header> <div class="content svelte-10u46cr"><!></div></section>');function xo(e,t){Qe(t,!1);let n=ne(t,"title",8),r=ne(t,"startOpen",8,!1),u=ne(t,"forceOpen",8,!1),a=U(r()),s=U(!1);const i=c(n());function l(){u()||D(a,!o(a))}function c(A){const E=A.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")||"section",g=Math.abs(Array.from(A).reduce((S,x)=>S*31+x.charCodeAt(0),7)).toString(36);return`filter-section-${E}-${g}`}fe(()=>(L(u()),o(a),o(s),L(r())),()=>{u()?(o(a)||D(a,!0),D(s,!0)):o(s)&&(D(a,r()),D(s,!1))}),At(),rt();var d=f3(),f=b(d),h=b(f);let v;var p=b(h),w=b(p),y=C(f,2),_=b(y);Gt(_,t,"default",{}),G(A=>{St(d,1,`filter-section ${o(a)?"expanded":"collapsed"}`,"svelte-10u46cr"),v=St(h,1,"toggle svelte-10u46cr",null,v,A),oe(h,"aria-expanded",o(a)),oe(h,"aria-controls",i),oe(h,"aria-disabled",u()),X(w,n()),oe(y,"id",i),oe(y,"hidden",!o(a))},[()=>({locked:u()})]),J("click",h,l),k(e,d),et()}var p3=M('<div class="range-slider svelte-1q5g18c"><div class="track svelte-1q5g18c"></div> <div class="range svelte-1q5g18c" aria-hidden="true"></div> <input class="thumb thumb-min svelte-1q5g18c" type="range"/> <input class="thumb thumb-max svelte-1q5g18c" type="range"/></div>');function h3(e,t){Qe(t,!1);const n=U(),r=U(),u=U(),a=U(),s=U(),i=U(),l=Et();let c=ne(t,"id",8),d=ne(t,"min",8,0),f=ne(t,"max",8,100),h=ne(t,"step",8,1),v=ne(t,"value",24,()=>({min:d(),max:f()})),p=ne(t,"disabled",8,!1),w=ne(t,"ariaLabelMin",8,"Minimum value"),y=ne(t,"ariaLabelMax",8,"Maximum value");const _=6;function A(I,K,N){return!Number.isFinite(I)||I<K?K:I>N?N:Number(I.toFixed(_))}function E(I,K,N){const Q=N-K;return!Number.isFinite(Q)||Q<=0?0:(I-K)/Q*100}function g(I,K){const N={min:I,max:K};l("input",N),l("change",N)}function S(I){const K=I.target,N=A(Number(K.value),o(n),o(a));if(N>o(a)){g(o(a),o(a));return}g(N,o(a))}function x(I){const K=I.target,N=A(Number(K.value),o(u),o(r));if(N<o(u)){g(o(u),o(u));return}g(o(u),N)}fe(()=>L(d()),()=>{D(n,Number.isFinite(d())?d():0)}),fe(()=>(L(f()),o(n)),()=>{D(r,Number.isFinite(f())?f():o(n))}),fe(()=>(L(v()),o(n),o(r)),()=>{D(u,A(v()?.min??o(n),o(n),o(r)))}),fe(()=>(L(v()),o(r),o(n)),()=>{D(a,A(v()?.max??o(r),o(n),o(r)))}),fe(()=>(o(u),o(a)),()=>{o(u)>o(a)&&D(u,o(a))}),fe(()=>(o(u),o(n),o(r)),()=>{D(s,E(o(u),o(n),o(r)))}),fe(()=>(o(a),o(n),o(r)),()=>{D(i,E(o(a),o(n),o(r)))}),At(),rt();var T=p3(),R=C(b(T),2),z=C(R,2),F=C(z,2);G(()=>{oe(T,"data-disabled",p()),nr(R,`left: ${o(s)}%; right: ${100-o(i)}%;`),oe(z,"id",c()?`${c()}-min`:void 0),oe(z,"min",o(n)),oe(z,"max",o(a)),oe(z,"step",h()),Ot(z,o(u)),oe(z,"aria-label",w()),z.disabled=p(),oe(F,"id",c()?`${c()}-max`:void 0),oe(F,"min",o(u)),oe(F,"max",o(r)),oe(F,"step",h()),Ot(F,o(a)),oe(F,"aria-label",y()),F.disabled=p()}),J("input",z,S),J("input",F,x),k(e,T),et()}var m3=M('<p class="empty svelte-2m3fny"> </p>'),v3=M('<button type="button"><span class="label svelte-2m3fny"> </span> <span class="indicator svelte-2m3fny" aria-hidden="true"></span></button>'),g3=M('<div class="options svelte-2m3fny"><!></div>');function lu(e,t){Qe(t,!1);let n=ne(t,"title",8),r=ne(t,"options",24,()=>[]),u=ne(t,"selected",24,()=>[]),a=ne(t,"excluded",24,()=>[]),s=ne(t,"emptyMessage",8,"No options available."),i=ne(t,"variant",8,"default");const l=Et();let c=U([]);function d(p){l("toggle",p)}function f(p){return p.trim().toLowerCase()}function h(p,w){if(p.length===0)return!1;const y=f(w);return y?p.some(_=>f(_)===y):!1}function v(p){return h(u(),p)?"include":h(a(),p)?"exclude":"neutral"}fe(()=>L(r()),()=>{D(c,r().map(p=>{const w=v(p);return{value:p,state:w,pressed:w==="include"?"true":w==="exclude"?"mixed":"false"}}))}),At(),rt();{let p=ct(()=>(L(u()),L(a()),m(()=>u().length+a().length>0)));xo(e,{get title(){return n()},get forceOpen(){return o(p)},children:(w,y)=>{var _=g3(),A=b(_);{var E=S=>{var x=m3(),T=b(x);G(()=>X(T,s())),k(S,x)},g=S=>{var x=Se(),T=me(x);mt(T,1,()=>o(c),({value:R,state:z,pressed:F})=>R,(R,z)=>{let F=()=>o(z).value,I=()=>o(z).state,K=()=>o(z).pressed;var N=v3();let Q;var q=b(N),ae=b(q);G(ie=>{Q=St(N,1,"pill svelte-2m3fny",null,Q,ie),oe(N,"aria-pressed",K()),oe(N,"data-state",I()),X(ae,F())},[()=>({active:I()==="include",exclude:I()==="exclude"})]),J("click",N,()=>d(F())),k(R,N)}),k(S,x)};$(A,S=>{L(r()),m(()=>r().length===0)?S(E):S(g,!1)})}G(()=>oe(_,"data-variant",i())),k(w,_)},$$slots:{default:!0}})}et()}const Jo=1e-9,va=[4e3,16e3,32e3,64e3,128e3,256e3,1e6],aa=va.length,Ju=0;function b3(e){return!Number.isFinite(e)||e<=0?"Any":e>=1e6?"1M":e>=1e3?`${Math.round(e/1e3)}K`:`${e}`}const El=["Any",...va.map(e=>b3(e))],Zr=[0,.1,.2,.5,1,5,10],zr=Zr.length,mu=zr,wl="$10+";function Wu(e){if(e<=0)return"FREE";const t=Math.abs(e),n=t>=10||t>=1?0:t>=.1?1:t>=.01?2:3;return`$${e.toFixed(n).replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1")}`}const eo=Zr.map(e=>Wu(e));function ju(e,t,n){return!Number.isFinite(e)||e<t?t:e>n?n:Math.round(e)}function bd(e){let t=0,n=Number.POSITIVE_INFINITY;for(let r=0;r<zr;r+=1){const u=Math.abs(Zr[r]-e);u<n&&(n=u,t=r)}return t}function _3(e){let t=0,n=Number.POSITIVE_INFINITY;for(let r=0;r<aa;r+=1){const u=Math.abs(va[r]-e);u<n&&(n=u,t=r)}return t+1}function y3(e){if(e===null||e<=0)return 0;const t=Zr.findIndex(n=>Math.abs(n-e)<=Jo);return t>=0?t:bd(e)}function x3(e){if(e===null)return mu;const t=Zr.findIndex(n=>Math.abs(n-e)<=Jo);return t>=0?t:bd(e)}function k3(e){if(e===null||e<=0)return Ju;for(let t=0;t<aa;t+=1)if(Math.abs(va[t]-e)<=Jo)return t+1;return _3(e)}function E3(e){if(e<=Ju)return null;const t=Math.min(Math.max(e-1,0),aa-1);return va[t]}function w3(e){if(e<=0)return null;const t=Math.min(e,zr-1);return Zr[t]}function S3(e){if(e>=mu)return null;const t=Math.min(Math.max(e,0),zr-1);return Zr[t]}function A3(e){if(!e)return 0;let t=0;e.search.trim()&&(t+=1);const n=r=>{t+=r.include.length+r.exclude.length};return n(e.inputModalities),n(e.outputModalities),n(e.series),n(e.providers),n(e.supportedParameters),n(e.moderation),e.minContext!==null&&(t+=1),e.minPromptPrice!==null&&(t+=1),e.maxPromptPrice!==null&&(t+=1),t}var C3=M('<p class="hint svelte-1247vns">No context metadata available.</p>'),D3=M('<p class="hint svelte-1247vns"> </p>'),T3=M('<span class="svelte-1247vns"> </span>'),F3=M('<div class="slider-group svelte-1247vns"><div class="slider-header svelte-1247vns"><span class="slider-label svelte-1247vns">Minimum tokens</span> <span class="slider-value svelte-1247vns"> </span></div> <input class="slider svelte-1247vns" type="range" aria-label="Minimum context tokens"/> <div class="slider-scale context-scale svelte-1247vns"></div></div>'),M3=M('<p class="hint svelte-1247vns">No pricing metadata available.</p>'),P3=M('<p class="hint svelte-1247vns"> </p>'),I3=M('<span class="svelte-1247vns"> </span>'),N3=M('<div class="slider-scale price-scale svelte-1247vns"></div>'),O3=M('<div class="slider-group svelte-1247vns"><div class="slider-header svelte-1247vns"><span class="slider-label svelte-1247vns">Prompt price (per 1M tokens)</span> <span class="slider-value svelte-1247vns"> </span></div> <!> <!></div>'),L3=M('<aside class="filters-panel svelte-1247vns" aria-label="Filter models"><header class="filters-header svelte-1247vns"><div><h3 class="svelte-1247vns">Filters</h3> <p> </p></div> <button type="button" class="btn btn-ghost btn-small">Clear all</button></header> <div class="filters-content svelte-1247vns"><!> <!> <!> <!> <!> <!> <!> <!></div></aside>');function R3(e,t){Qe(t,!1);const n=()=>Xe(i,"$facets",a),r=()=>Xe(l,"$filters",a),u=()=>Xe(E,"$activeFilters",a),[a,s]=Gn(),{facets:i,filters:l,toggleInputModality:c,toggleOutputModality:d,toggleSeries:f,toggleProvider:h,toggleSupportedParameter:v,toggleModeration:p,setMinContext:w,setMinPromptPrice:y,setMaxPromptPrice:_,resetFilters:A,activeFilters:E}=wr,g="context-length-slider",S="prompt-price-slider";let x=U(),T=U(null),R=U(),z=U(0),F=U(""),I=U(null),K=U(!1),N=U(0),Q=U([]),q=U(!1),ae=U({min:0,max:0}),ie=U(""),Y=U([]);function W(_e){if(o(K)){w(null);return}const te=ju(_e,Ju,aa);w(E3(te))}function O(_e){if(o(q)){y(null),_(null);return}const te=_e.detail,Ee=ju(te.min,0,zr-1),ge=ju(te.max,0,mu);y(w3(Ee)),_(S3(ge))}fe(()=>n(),()=>{D(T,n())}),fe(()=>r(),()=>{D(x,r())}),fe(()=>u(),()=>{D(R,u())}),fe(()=>o(x),()=>{D(z,A3(o(x)))}),fe(()=>o(z),()=>{D(F,o(z)>0?`${o(z)} active filter${o(z)===1?"":"s"}`:"All models shown.")}),fe(()=>(o(T),o(K),o(x),El),()=>{const _e=o(T)?.maxContext??null;D(I,_e),D(K,_e===null),D(N,o(K)?Ju:k3(o(x)?.minContext??null)),D(Q,o(K)?[]:El)}),fe(()=>o(T),()=>{const _e=o(T)?.maxPromptPrice??null;D(q,_e===null)}),fe(()=>(o(q),o(x),zr),()=>{D(ae,(()=>{if(o(q))return{min:0,max:mu};const _e=y3(o(x)?.minPromptPrice??null),te=x3(o(x)?.maxPromptPrice??null),Ee=ju(_e,0,zr-1),ge=ju(te,0,mu);return Ee>ge?{min:ge,max:ge}:{min:Ee,max:ge}})())}),fe(()=>(o(x),wl),()=>{D(ie,(()=>{const _e=o(x)?.minPromptPrice,te=o(x)?.maxPromptPrice,Ee=_e===null?eo[0]:Wu(_e),ge=te===null?wl:Wu(te);return`${Ee} â ${ge}`})())}),fe(()=>(o(q),eo),()=>{D(Y,o(q)?[]:eo)}),At(),rt();var V=L3(),he=b(V),pe=b(he),H=C(b(pe),2);let j;var ce=b(H),ee=C(pe,2),De=C(he,2),Z=b(De);{let _e=ct(()=>(o(T),m(()=>o(T)?.inputModalities??[]))),te=ct(()=>(o(x),m(()=>o(x)?.inputModalities?.include??[]))),Ee=ct(()=>(o(x),m(()=>o(x)?.inputModalities?.exclude??[])));lu(Z,{title:"Input modalities",get options(){return o(_e)},get selected(){return o(te)},get excluded(){return o(Ee)},emptyMessage:"No modality data available.",$$events:{toggle:ge=>c(ge.detail)}})}var B=C(Z,2);{let _e=ct(()=>(o(T),m(()=>o(T)?.outputModalities??[]))),te=ct(()=>(o(x),m(()=>o(x)?.outputModalities?.include??[]))),Ee=ct(()=>(o(x),m(()=>o(x)?.outputModalities?.exclude??[])));lu(B,{title:"Output modalities",get options(){return o(_e)},get selected(){return o(te)},get excluded(){return o(Ee)},emptyMessage:"No modality data available.",$$events:{toggle:ge=>d(ge.detail)}})}var ye=C(B,2);{let _e=ct(()=>(o(x),m(()=>o(x)?.minContext!==null)));xo(ye,{title:"Context length",get forceOpen(){return o(_e)},children:(te,Ee)=>{var ge=Se(),Te=me(ge);{var $e=ve=>{var xe=Se(),we=me(xe);{var be=Ce=>{var Le=C3();k(Ce,Le)},Oe=Ce=>{var Le=D3(),Be=b(Le);G(Ve=>X(Be,`All models offer ${Ve??""} context.`),[()=>(L(xa),o(I),m(()=>xa(o(I))))]),k(Ce,Le)};$(we,Ce=>{o(T),m(()=>o(T)?.maxContext===null||o(T)?.maxContext===void 0)?Ce(be):Ce(Oe,!1)})}k(ve,xe)},ue=ve=>{var xe=F3(),we=b(xe),be=C(b(we),2),Oe=b(be),Ce=C(we,2);oe(Ce,"id",g),oe(Ce,"step",1);var Le=C(Ce,2);mt(Le,7,()=>o(Q),(Be,Ve)=>Be+Ve,(Be,Ve)=>{var je=T3(),Pe=b(je);G(()=>X(Pe,o(Ve))),k(Be,je)}),G(Be=>{X(Oe,Be),oe(Ce,"min",Ju),oe(Ce,"max",aa),Ot(Ce,o(N))},[()=>(o(x),L(xa),m(()=>o(x)?.minContext===null?"Any":xa(o(x)?.minContext??0)))]),J("input",Ce,Be=>W(Number(Be.target.value))),k(ve,xe)};$(Te,ve=>{o(K)?ve($e):ve(ue,!1)})}k(te,ge)},$$slots:{default:!0}})}var Me=C(ye,2);{let _e=ct(()=>(o(x),m(()=>o(x)?.minPromptPrice!==null||o(x)?.maxPromptPrice!==null)));xo(Me,{title:"Prompt pricing",get forceOpen(){return o(_e)},children:(te,Ee)=>{var ge=Se(),Te=me(ge);{var $e=ve=>{var xe=Se(),we=me(xe);{var be=Ce=>{var Le=M3();k(Ce,Le)},Oe=Ce=>{var Le=P3(),Be=b(Le);G(Ve=>X(Be,`All models share ${Ve??""} pricing.`),[()=>(L(Wu),o(T),m(()=>Wu(o(T)?.maxPromptPrice??0)))]),k(Ce,Le)};$(we,Ce=>{o(T),m(()=>o(T)?.maxPromptPrice===null||o(T)?.maxPromptPrice===void 0)?Ce(be):Ce(Oe,!1)})}k(ve,xe)},ue=ve=>{var xe=O3(),we=b(xe),be=C(b(we),2),Oe=b(be),Ce=C(we,2);h3(Ce,{id:S,min:0,get max(){return mu},step:1,get value(){return o(ae)},ariaLabelMin:"Minimum prompt price",ariaLabelMax:"Maximum prompt price",get disabled(){return o(q)},$$events:{input:O,change:O}});var Le=C(Ce,2);{var Be=Ve=>{var je=N3();mt(je,7,()=>o(Y),(Pe,ut)=>Pe+ut,(Pe,ut)=>{var Rt=I3(),qt=b(Rt);G(()=>X(qt,o(ut))),k(Pe,Rt)}),k(Ve,je)};$(Le,Ve=>{o(Y),m(()=>o(Y).length>0)&&Ve(Be)})}G(()=>X(Oe,o(ie))),k(ve,xe)};$(Te,ve=>{o(q)?ve($e):ve(ue,!1)})}k(te,ge)},$$slots:{default:!0}})}var Re=C(Me,2);{let _e=ct(()=>(o(T),m(()=>o(T)?.series??[]))),te=ct(()=>(o(x),m(()=>o(x)?.series?.include??[]))),Ee=ct(()=>(o(x),m(()=>o(x)?.series?.exclude??[])));lu(Re,{title:"Series",get options(){return o(_e)},get selected(){return o(te)},get excluded(){return o(Ee)},emptyMessage:"Series information unavailable.",$$events:{toggle:ge=>f(ge.detail)}})}var We=C(Re,2);{let _e=ct(()=>(o(T),m(()=>o(T)?.supportedParameters??[]))),te=ct(()=>(o(x),m(()=>o(x)?.supportedParameters?.include??[]))),Ee=ct(()=>(o(x),m(()=>o(x)?.supportedParameters?.exclude??[])));lu(We,{title:"Supported parameters",get options(){return o(_e)},get selected(){return o(te)},get excluded(){return o(Ee)},variant:"columns",emptyMessage:"No parameter metadata available.",$$events:{toggle:ge=>v(ge.detail)}})}var Ae=C(We,2);{let _e=ct(()=>(o(T),m(()=>o(T)?.providers??[]))),te=ct(()=>(o(x),m(()=>o(x)?.providers?.include??[]))),Ee=ct(()=>(o(x),m(()=>o(x)?.providers?.exclude??[])));lu(Ae,{title:"Providers",get options(){return o(_e)},get selected(){return o(te)},get excluded(){return o(Ee)},emptyMessage:"No provider data available.",$$events:{toggle:ge=>h(ge.detail)}})}var tt=C(Ae,2);{let _e=ct(()=>(o(T),m(()=>o(T)?.moderation??[]))),te=ct(()=>(o(x),m(()=>o(x)?.moderation?.include??[]))),Ee=ct(()=>(o(x),m(()=>o(x)?.moderation?.exclude??[])));lu(tt,{title:"Moderation",get options(){return o(_e)},get selected(){return o(te)},get excluded(){return o(Ee)},variant:"compact",emptyMessage:"No moderation metadata available.",$$events:{toggle:ge=>p(ge.detail)}})}G(_e=>{j=St(H,1,"filters-status svelte-1247vns",null,j,_e),X(ce,o(F)),ee.disabled=!o(R)},[()=>({muted:o(z)===0})]),J("click",ee,A),k(e,V),et(),s()}var $3=M("<option> </option>"),z3=M('<div class="sort svelte-3bn1bu"><label for="sort-select" class="sort-label svelte-3bn1bu">Sort by</label> <select id="sort-select" class="select-control sort-select svelte-3bn1bu"></select></div>');function U3(e,t){Qe(t,!1);let n=ne(t,"selected",8),r=ne(t,"onSelect",8);const u=[{label:"Newest",value:"newness"},{label:"Lowest price",value:"price"},{label:"Longest context",value:"context"}];function a(c){const d=c.target;r()(d.value)}rt();var s=z3(),i=C(b(s),2);mt(i,5,()=>u,jn,(c,d)=>{var f=$3(),h=b(f),v={};G(()=>{X(h,(o(d),m(()=>o(d).label))),v!==(v=(o(d),m(()=>o(d).value)))&&(f.value=(f.__value=(o(d),m(()=>o(d).value)))??"")}),k(c,f)});var l;or(i),G(()=>{l!==(l=n())&&(i.value=(i.__value=n())??"",Rn(i,n()))}),J("change",i,a),k(e,s),et()}const B3="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M400-240%20160-480l240-240%2056%2058-142%20142h486v80H314l142%20142-56%2058Z'/%3e%3c/svg%3e";var j3=M('<header class="explorer-header svelte-d2gcy1"><div class="title-group svelte-d2gcy1"><a class="btn btn-ghost btn-small chat-link svelte-d2gcy1" href="/chat" aria-label="Return to chat"><img alt="" aria-hidden="true" class="icon svelte-d2gcy1"/> <span class="label svelte-d2gcy1">Chat</span></a> <h2 id="model-explorer-title" class="svelte-d2gcy1">Model Explorer</h2></div> <div class="header-controls svelte-d2gcy1"><label class="search svelte-d2gcy1"><span class="visually-hidden svelte-d2gcy1">Search models</span> <input class="input-control svelte-d2gcy1" type="search" placeholder="Search by name, provider, description, or tags"/></label> <div class="meta-row svelte-d2gcy1"><p class="summary svelte-d2gcy1" aria-live="polite"> </p> <!></div></div></header>');function q3(e,t){Qe(t,!1);let n=ne(t,"resultCount",8,0),r=ne(t,"searchValue",8,""),u=ne(t,"onSearch",8),a=ne(t,"sort",8),s=ne(t,"onSort",8),i=ne(t,"onClose",8);function l(g){const S=g.target;S&&u()(S.value)}rt();var c=j3(),d=b(c),f=b(d),h=b(f),v=C(d,2),p=b(v),w=C(b(p),2),y=C(p,2),_=b(y),A=b(_),E=C(_,2);U3(E,{get selected(){return a()},get onSelect(){return s()}}),G(()=>{oe(h,"src",B3),Ot(w,r()),X(A,`${n()??""} result${n()===1?"":"s"}`)}),J("click",f,Oo(function(...g){i()?.apply(this,g)})),J("input",w,l),k(e,c),et()}var H3=M('<div class="info-item svelte-b7ahyp"><dt class="svelte-b7ahyp"> </dt> <dd class="svelte-b7ahyp"> </dd></div>'),W3=M('<article class="model-card svelte-b7ahyp" role="button" tabindex="0"><header class="svelte-b7ahyp"><h4 class="svelte-b7ahyp"> </h4></header> <section class="info-section svelte-b7ahyp"><dl class="info-grid svelte-b7ahyp"></dl></section></article>');function V3(e,t){Qe(t,!1);const n=U(),r=U(),u=U(),a=U(),s=U(),i=U(),l=U(),c=U(),d=U(),f=U(),h=U(),v=U(),p=U(),w=U(),y=U();let _=ne(t,"model",8),A=ne(t,"onSelect",8);const E=1e6;function g(O){return O&&O.split(/[\s_/-]+/).filter(Boolean).map(V=>V.charAt(0).toUpperCase()+V.slice(1)).join(" ")}function S(O){const V=new Set,he=[];for(const pe of O){const H=g(pe.trim());if(!H)continue;const j=H.toLowerCase();V.has(j)||(V.add(j),he.push(H))}return he}function x(O){if(O===null)return"Unknown";const V=O/E,he=V>=10?0:1;return`${V.toFixed(he).replace(/\.0$/,"")}M tokens`}function T(O){return O.length?O.join(", "):null}function R(O,V){if(O===null)return null;const he=mp(O);return he==="FREE"?"FREE":`${he} ${V}`}const z="/ 1M tokens";function F(O,V,he,pe){const H=R(he,pe);return H?{key:O,label:V,value:H}:null}function I(O,V,he){return he?{key:O,label:V,value:he}:null}function K(){A()(_())}function N(O){(O.key==="Enter"||O.key===" ")&&(O.preventDefault(),A()(_()))}fe(()=>L(_()),()=>{D(n,_().name??_().id)}),fe(()=>L(_()),()=>{D(r,Sc(_()))}),fe(()=>L(_()),()=>{D(u,hp(_()))}),fe(()=>L(_()),()=>{D(a,Zu(_()))}),fe(()=>o(a),()=>{D(s,x(o(a)))}),fe(()=>L(_()),()=>{D(i,$o(_()).map(O=>O.toLowerCase()))}),fe(()=>L(_()),()=>{D(l,zo(_()).map(O=>O.toLowerCase()))}),fe(()=>o(r),()=>{D(c,o(r)!==null)}),fe(()=>o(u),()=>{D(d,o(u)!==null)}),fe(()=>o(i),()=>{D(f,S(o(i)))}),fe(()=>o(l),()=>{D(h,S(o(l)))}),fe(()=>L(_()),()=>{D(v,(()=>{const O=_().provider;if(O&&typeof O=="object"){if(O.display_name)return O.display_name;if(O.slug)return O.slug}const V=_().id?.split("/")??[];return V.length>1?V[V.length-2]:null})())}),fe(()=>(o(s),o(v),o(f),o(h)),()=>{D(p,[I("context","Context",o(s)),I("provider","Provider",o(v)),I("input-modalities","Input",T(o(f))),I("output-modalities","Output",T(o(h)))].filter(O=>!!O))}),fe(()=>(o(c),o(r),o(d),o(u)),()=>{D(w,[o(c)?F("input-price","Input price",o(r),z):null,o(d)?F("output-price","Output price",o(u),z):null].filter(O=>!!O))}),fe(()=>(o(p),o(w)),()=>{D(y,[...o(p),...o(w)])}),At(),rt();var Q=W3(),q=b(Q),ae=b(q),ie=b(ae),Y=C(q,2),W=b(Y);mt(W,5,()=>o(y),O=>O.key,(O,V)=>{var he=H3(),pe=b(he),H=b(pe),j=C(pe,2),ce=b(j);G(()=>{X(H,(o(V),m(()=>o(V).label))),X(ce,(o(V),m(()=>o(V).value)))}),k(O,he)}),G(()=>{oe(Q,"aria-label",`Use model ${o(n)}`),X(ie,o(n))}),J("click",Q,K),J("keydown",Q,N),k(e,Q),et()}var G3=M('<button type="button"><span class="chip-label svelte-v6y1b4"><span class="chip-category svelte-v6y1b4"> </span> <span class="chip-separator" aria-hidden="true">Â·</span> <span class="chip-value svelte-v6y1b4"> </span></span> <span class="chip-remove svelte-v6y1b4" aria-hidden="true">Ã</span></button>'),K3=M('<section class="active-filters svelte-v6y1b4" aria-label="Active filters"><h3 class="title svelte-v6y1b4">Active filters</h3> <div class="chip-list svelte-v6y1b4"></div></section>');function Z3(e,t){Qe(t,!1);let n=ne(t,"chips",24,()=>[]);const r=Et();function u(l){r("clear",l)}rt();var a=Se(),s=me(a);{var i=l=>{var c=K3(),d=C(b(c),2);mt(d,5,n,f=>f.id,(f,h)=>{var v=G3();let p;var w=b(v),y=b(w),_=b(y),A=C(y,4),E=b(A);G(g=>{p=St(v,1,"chip svelte-v6y1b4",null,p,g),oe(v,"aria-label",(o(h),m(()=>`Remove ${o(h).state==="exclude"?"excluded":"included"} filter ${o(h).categoryLabel} ${o(h).valueLabel}`))),X(_,(o(h),m(()=>o(h).categoryLabel))),X(E,`${o(h),m(()=>o(h).state==="exclude"?"Not ":"")??""}${o(h),m(()=>o(h).valueLabel)??""}`)},[()=>({include:o(h).state==="include",exclude:o(h).state==="exclude"})]),J("click",v,()=>u(o(h))),k(f,v)}),k(l,c)};$(s,l=>{L(n()),m(()=>n().length>0)&&l(i)})}k(e,a),et()}var Y3=M('<p class="empty svelte-6ipifh"><!></p>'),J3=M("<li><!></li>"),X3=M('<ul class="model-grid svelte-6ipifh"></ul>'),Q3=M('<section class="results svelte-6ipifh" aria-live="polite"><!> <!></section>');function ey(e,t){Qe(t,!1);let n=ne(t,"models",24,()=>[]),r=ne(t,"filtersActive",8,!1),u=ne(t,"onSelect",8),a=ne(t,"filterChips",24,()=>[]);const s=Et();function i(v){s("clearFilter",v.detail)}rt();var l=Q3(),c=b(l);Z3(c,{get chips(){return a()},$$events:{clear:i}});var d=C(c,2);{var f=v=>{var p=Y3(),w=b(p);{var y=A=>{var E=Ln("No models match your current filters.");k(A,E)},_=A=>{var E=Ln("No models available.");k(A,E)};$(w,A=>{r()?A(y):A(_,!1)})}k(v,p)},h=v=>{var p=X3();mt(p,5,n,w=>w.id,(w,y)=>{var _=J3(),A=b(_);V3(A,{get model(){return o(y)},get onSelect(){return u()}}),k(w,_)}),k(v,p)};$(d,v=>{L(n()),m(()=>n().length===0)?v(f):v(h,!1)})}k(e,l),et()}var ty=M('<span class="filters-toggle__status svelte-drtqmy">Active</span>'),ny=M('<div class="body-toolbar svelte-drtqmy"><button type="button" aria-controls="model-explorer-filters"><span class="filters-toggle__label">Filters</span> <!></button></div>'),ry=M('<div class="modal-backdrop svelte-drtqmy" role="presentation"></div> <div class="model-explorer svelte-drtqmy" role="dialog" aria-modal="true" aria-labelledby="model-explorer-title"><!> <div class="body svelte-drtqmy"><!> <div id="model-explorer-filters" class="filters-panel-container svelte-drtqmy"><!></div> <!></div></div>',1);function uy(e,t){Qe(t,!1);const n=()=>Xe(h,"$filtered",a),r=()=>Xe(y,"$activeFilters",a),u=()=>Xe(v,"$filters",a),[a,s]=Gn(),i=U(),l=U(),c=U();let d=ne(t,"open",12,!1);const f=Et(),{filtered:h,filters:v,setSearch:p,setSort:w,activeFilters:y,setSelectionState:_}=wr,A={inputModalities:{label:"Input"},outputModalities:{label:"Output"},series:{label:"Series"},providers:{label:"Provider"},supportedParameters:{label:"Parameter"},moderation:{label:"Moderation"}},E=["inputModalities","outputModalities","series","providers","supportedParameters","moderation"],g="(max-width: 1024px)";let S=U(!1),x=U(!0),T=!1,R=U([]);const z="modal-open";let F=()=>{typeof document<"u"&&document.body.classList.remove(z)};fa(()=>F());function I(){d(!1),f("close")}function K(H){f("select",{id:H.id}),I()}function N(H){w(H)}function Q(H){p(H)}function q(H){const j=[];for(const ce of E){const ee=H[ce];if(!ee)continue;const Z=A[ce]?.label??ce;for(const B of ee.include)j.push(ae(ce,Z,B,"include"));for(const B of ee.exclude)j.push(ae(ce,Z,B,"exclude"))}return j}function ae(H,j,ce,ee){const De=ce.trim();return{id:`${H}:${ee}:${De}`,category:H,categoryLabel:j,value:De,valueLabel:ie(De),state:ee}}function ie(H){return H.replace(/[_-]/g," ")||H}function Y(H){D(S,H),H?T||D(x,!1):(D(x,!0),T=!1)}function W(){D(x,!o(x)),T=!0}function O(H){const j=H.detail;_(j.category,j.value,"neutral")}da(()=>{if(typeof window>"u")return;const H=window.matchMedia(g);Y(H.matches);const j=ce=>{Y(ce.matches)};return typeof H.addEventListener=="function"?(H.addEventListener("change",j),()=>H.removeEventListener("change",j)):(H.addListener(j),()=>H.removeListener(j))}),fe(()=>L(d()),()=>{typeof document<"u"&&(d()?document.body.classList.add(z):document.body.classList.remove(z))}),fe(()=>n(),()=>{D(i,n())}),fe(()=>r(),()=>{D(l,r())}),fe(()=>u(),()=>{D(c,u())}),fe(()=>o(c),()=>{D(R,o(c)?q(o(c)):[])}),At(),rt();var V=Se(),he=me(V);{var pe=H=>{var j=ry(),ce=me(j),ee=C(ce,2),De=b(ee);q3(De,{get resultCount(){return o(i),m(()=>o(i).length)},get searchValue(){return u(),m(()=>u().search)},onSearch:Q,get sort(){return u(),m(()=>u().sort)},onSort:N,onClose:I});var Z=C(De,2),B=b(Z);{var ye=Ae=>{var tt=ny(),_e=b(tt);let te;var Ee=C(b(_e),2);{var ge=Te=>{var $e=ty();k(Te,$e)};$(Ee,Te=>{o(l)&&Te(ge)})}G(Te=>{te=St(_e,1,"filters-toggle svelte-drtqmy",null,te,Te),oe(_e,"aria-expanded",o(x))},[()=>({open:o(x)})]),J("click",_e,W),k(Ae,tt)};$(B,Ae=>{o(S)&&Ae(ye)})}var Me=C(B,2),Re=b(Me);R3(Re,{});var We=C(Me,2);ey(We,{get models(){return o(i)},get filtersActive(){return o(l)},get filterChips(){return o(R)},onSelect:K,$$events:{clearFilter:O}}),G(()=>{oe(ee,"data-compact",o(S)),oe(Z,"data-compact",o(S)),oe(Me,"data-compact",o(S)),oe(Me,"data-open",o(x))}),J("click",ce,I),k(H,j)};$(he,H=>{d()&&H(pe)})}k(e,V),et(),s()}var ay=M('<div class="chat-error svelte-1n46o8q" role="alert"><span class="svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">Dismiss</button></div>'),sy=M('<main class="chat-app svelte-1n46o8q"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main>');function oy(e,t){Qe(t,!1);const n=()=>Xe(T,"$selectable",c),r=()=>Xe(ea,"$chatStore",c),u=()=>Xe(R,"$activeFor",c),a=()=>Xe(Mc,"$speechState",c),s=()=>Xe(S,"$modelsLoading",c),i=()=>Xe(x,"$modelsError",c),l=()=>Xe(du,"$suggestionsStore",c),[c,d]=Gn(),{sendMessage:f,cancelStream:h,clearConversation:v,deleteMessage:p,retryMessage:w,editMessage:y,clearError:_,setModel:A}=ea,{loadModels:E,models:g,loading:S,error:x,selectable:T,activeFor:R}=wr;let z=U(""),F=U([]),I=U(),K=U(!1),N=U(!1),Q=U(!1),q=U(!1),ae=U(!1),ie=U(!1),Y=U(!1),W=U(0),O=U(!1),V=U(null),he=U(null),pe=U(null),H=U([]),j=U(null);const ce=gc;let ee=U(null),De=U(""),Z=U(""),B=U(!1);da(async()=>{await E(),await du.load();const de=await Pn.loadDefault();if(de){const Ie=await Pn.apply(de.name);Ie?.model&&A(Ie.model),await du.load()}});async function ye(){if(!o(I))return;const de=o(I).getNewSuggestion();de&&await du.add(de.label,de.text)}async function Me(de){await du.remove(de.detail.index)}fa(()=>{typeof document<"u"&&document.body.classList.remove("modal-open")});function Re(de){A(de)}function We(){r1()}function Ae(de){A(de.detail.id)}function tt(de){D(z,de)}function _e(de){r().isStreaming||p(de.detail.id)}function te(de){w(de)}function Ee(de){if(!de?.attachment)return;$e();const Ie={...de.attachment,metadata:de.attachment.metadata?{...de.attachment.metadata}:null},vt=o(F)??[],Tt=vt.some(zt=>zt.id===Ie.id||zt.displayUrl===Ie.displayUrl||zt.deliveryUrl===Ie.deliveryUrl)?vt:[...vt,Ie];D(F,Tt)}function ge(de){const Ie=r().messages.find(vt=>vt.id===de&&vt.role==="user");Ie&&(D(B,!1),D(ee,de),D(De,Ie.text),D(Z,Ie.text))}function Te(){D(ee,null),D(De,""),D(Z,"")}function $e(){o(B)||Te()}function ue(){$e()}function ve(de){if(!o(ee))return;const Ie=de.trim();if(!Ie)return;const vt=o(ee);D(B,!0),Te(),y(vt,Ie).catch(Tt=>{console.error("Failed to apply message edit",Tt)}).finally(()=>{D(B,!1)})}async function xe(de){if(de){D(N,!0),D(O,!0),D(V,null),D(he,null),D(pe,de);try{const Ie=await P0(de);D(he,Ie?.data??null)}catch(Ie){const vt=Ie instanceof Error?Ie.message:"Failed to load details.";D(V,vt)}finally{D(O,!1)}}}function we(){D(N,!1),D(pe,null),D(he,null),D(V,null)}async function be(de){const Ie=de.trim();if(Ie){D(z,Ie);try{await f({text:Ie,attachments:[]}),D(z,"")}catch(vt){console.error("Failed to send speech transcription",vt)}}}fe(()=>(o(K),o(N),o(Q),o(q),o(ae),o(ie)),()=>{typeof document<"u"&&document.body.classList.toggle("modal-open",o(K)||o(N)||o(Q)||o(q)||o(ae)||o(ie))}),fe(()=>(n(),r()),()=>{D(H,n()(r().selectedModel))}),fe(()=>(u(),r()),()=>{D(j,u()(r().selectedModel))}),fe(()=>(a(),o(W)),()=>{a().promptVersion!==o(W)&&(D(W,a().promptVersion),D(z,a().promptText))}),fe(()=>(a(),r(),Oi),()=>{if(a().pendingSubmit&&!r().isStreaming){const de=Oi();de&&be(de.text)}}),fe(()=>(o(ee),Ni),()=>{o(ee)&&Ni()}),At(),rt();var Oe=sy(),Ce=b(Oe);{let de=ct(()=>(r(),m(()=>r().messages.length>0)));Ip(Ce,{get selectableModels(){return o(H)},get selectedModel(){return r(),m(()=>r().selectedModel)},get modelsLoading(){return s()},get modelsError(){return i()},get hasMessages(){return o(de)},$$events:{openExplorer:()=>D(K,!0),clear:()=>{D(F,[]),D(z,""),v()},modelChange:Ie=>Re(Ie.detail.id),openModelSettings:()=>D(Q,!0),openSystemSettings:()=>D(q,!0),openSpeechSettings:()=>D(ae,!0),openKioskSettings:()=>D(ie,!0),openPresets:()=>D(Y,!0)}})}var Le=C(Ce,2);{var Be=de=>{Ar(bb(de,{get suggestions(){return l(),m(()=>l().items)},get deleting(){return l(),m(()=>l().deleting)},$$events:{add:ye,delete:Me,select:Ie=>tt(Ie.detail.text)},$$legacy:!0}),Ie=>D(I,Ie),()=>o(I))};$(Le,de=>{r(),m(()=>!r().messages.length)&&de(Be)})}var Ve=C(Le,2);sg(Ve,{get messages(){return r(),m(()=>r().messages)},get disableDelete(){return r(),m(()=>r().isStreaming)},$$events:{openGenerationDetails:de=>xe(de.detail.id),deleteMessage:_e,retryMessage:de=>te(de.detail.id),editMessage:de=>ge(de.detail.id),editAssistantAttachment:de=>Ee(de.detail)}});var je=C(Ve,2);{var Pe=de=>{var Ie=ay(),vt=b(Ie),Mt=b(vt),Tt=C(vt,2);G(()=>X(Mt,(r(),m(()=>r().error)))),J("click",Tt,_),k(de,Ie)};$(je,de=>{r(),m(()=>r().error)&&de(Pe)})}var ut=C(je,2);{var Rt=de=>{$1(de,{get originalValue(){return o(Z)},get saving(){return o(B)},get disabled(){return o(B)},get value(){return o(De)},set value(Ie){D(De,Ie)},$$events:{cancel:ue,submit:Ie=>ve(Ie.detail.text)},$$legacy:!0})},qt=de=>{S1(de,{get presetAttachments(){return o(F)},get isStreaming(){return r(),m(()=>r().isStreaming)},get prompt(){return o(z)},set prompt(Ie){D(z,Ie)},$$events:{submit:Ie=>f(Ie.detail),cancel:h,startDictation:We},$$legacy:!0})};$(ut,de=>{o(ee)?de(Rt):de(qt,!1)})}var Zt=C(ut,2);O1(Zt,{get open(){return o(N)},get generationId(){return o(pe)},get loading(){return o(O)},get error(){return o(V)},get data(){return o(he)},get fields(){return ce},$$events:{close:we}});var $t=C(Zt,2);Yg($t,{get open(){return o(Q)},get selectedModel(){return r(),m(()=>r().selectedModel)},get model(){return o(j)},$$events:{close:()=>D(Q,!1)}});var Yt=C($t,2);I_(Yt,{get open(){return o(q)},$$events:{close:()=>D(q,!1)}});var nt=C(Yt,2);Db(nt,{get open(){return o(ae)},$$events:{close:()=>D(ae,!1)}});var Ge=C(nt,2);d3(Ge,{get open(){return o(ie)},$$events:{close:()=>D(ie,!1)}});var Ct=C(Ge,2);pb(Ct,{get open(){return o(Y)},$$events:{close:()=>D(Y,!1)}});var Jt=C(Ct,2);uy(Jt,{get open(){return o(K)},set open(de){D(K,de)},$$events:{select:Ae},$$legacy:!0}),k(e,Oe),et(),d()}i0(oy,{target:document.getElementById("app")});export{Gn as A,bc as B,U as C,D,C as E,oe as F,or as G,Rn as H,Ot as I,ne as a,$ as b,Et as c,cy as d,J as e,M as f,k as g,et as h,rt as i,b as j,ly as k,Se as l,me as m,L as n,mt as o,Qe as p,o as q,da as r,X as s,G as t,m as u,fa as v,fe as w,Xe as x,At as y,Ar as z};
