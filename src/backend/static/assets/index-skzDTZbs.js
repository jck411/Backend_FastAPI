const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ModelPicker-DaPCrL9X.js","assets/ModelPicker-Cn_xB6on.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const nc=!1;var Ya=Array.isArray,sf=Array.prototype.indexOf,tu=Array.from,_o=Object.defineProperty,Rr=Object.getOwnPropertyDescriptor,rc=Object.getOwnPropertyDescriptors,of=Object.prototype,uf=Array.prototype,nu=Object.getPrototypeOf,Lu=Object.isExtensible;function us(e){return typeof e=="function"}const Jr=()=>{};function lf(e){return e()}function Ps(e){for(var t=0;t<e.length;t++)e[t]()}function cf(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}function df(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const Jn=2,ru=4,Po=8,Ja=16,Ur=32,ha=64,au=128,nr=256,bo=512,Pn=1024,ar=2048,jr=4096,hr=8192,ga=16384,su=32768,Xa=65536,Ou=1<<17,ff=1<<18,Qa=1<<19,ac=1<<20,Ii=1<<21,ou=1<<22,oa=1<<23,Ar=Symbol("$state"),sc=Symbol("legacy props"),pf=Symbol(""),iu=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Io(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function vf(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function mf(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function hf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gf(e){throw new Error("https://svelte.dev/e/effect_orphan")}function _f(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bf(e){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function yf(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function xf(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function kf(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function wf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Sf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const No=1,Lo=2,oc=4,Ef=8,Cf=16,Af=1,Tf=2,ic=4,Df=8,Mf=16,Ff=1,Pf=2,Cn=Symbol(),If="http://www.w3.org/1999/xhtml",Nf="http://www.w3.org/2000/svg",Lf="@attach";function Of(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function $f(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Rf=!1;function uc(e){return e===this.v}function uu(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function lc(e){return!uu(e,this.v)}let es=!1,zf=!1;function Bf(){es=!0}let Wt=null;function Ha(e){Wt=e}function Pt(e,t=!1,n){Wt={p:Wt,c:null,e:null,s:e,x:null,l:es&&!t?{s:null,u:null,$:[]}:null}}function It(e){var t=Wt,n=t.e;if(n!==null){t.e=null;for(var r of n)Sc(r)}return e!==void 0&&(t.x=e),Wt=t.p,e??{}}function zs(){return!es||Wt!==null&&Wt.l===null}let Zr=[],yo=[];function cc(){var e=Zr;Zr=[],Ps(e)}function Uf(){var e=yo;yo=[],Ps(e)}function jf(){return Zr.length>0||yo.length>0}function _a(e){if(Zr.length===0&&!Ss){var t=Zr;queueMicrotask(()=>{t===Zr&&cc()})}Zr.push(e)}function qf(){Zr.length>0&&cc(),yo.length>0&&Uf()}const Hf=new WeakMap;function dc(e){var t=mt;if(t===null)return Ct.f|=oa,e;if((t.f&su)===0){if((t.f&au)===0)throw!t.parent&&e instanceof Error&&fc(e),e;t.b.error(e)}else Wa(e,t)}function Wa(e,t){for(;t!==null;){if((t.f&au)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&fc(e),e}function fc(e){const t=Hf.get(e);t&&(_o(e,"message",{value:t.message}),_o(e,"stack",{value:t.stack}))}const Jo=new Set;let Xt=null,co=null,Ni=new Set,fa=[],Oo=null,Li=!1,Ss=!1;class zr{current=new Map;#s=new Map;#t=new Set;#f=0;#o=null;#c=!1;#a=[];#n=[];#e=[];#r=[];#i=[];#d=[];#l=[];skipped_effects=new Set;process(t){fa=[],co=null;for(const s of t)this.#p(s);if(this.#a.length===0&&this.#f===0){this.#v();var n=this.#e,r=this.#r;this.#e=[],this.#r=[],this.#i=[],co=Xt,Xt=null,$u(n),$u(r),Xt===null?Xt=this:Jo.delete(this),this.#o?.resolve()}else this.#u(this.#e),this.#u(this.#r),this.#u(this.#i);for(const s of this.#a)ua(s);for(const s of this.#n)ua(s);this.#a=[],this.#n=[]}#p(t){t.f^=Pn;for(var n=t.first;n!==null;){var r=n.f,s=(r&(Ur|ha))!==0,o=s&&(r&Pn)!==0,i=o||(r&hr)!==0||this.skipped_effects.has(n);if(!i&&n.fn!==null){if(s)n.f^=Pn;else if((r&ru)!==0)this.#r.push(n);else if((r&Pn)===0)if((r&ou)!==0){var u=n.b?.is_pending()?this.#n:this.#a;u.push(n)}else js(n)&&((n.f&Ja)!==0&&this.#i.push(n),ua(n));var l=n.first;if(l!==null){n=l;continue}}var d=n.parent;for(n=n.next;n===null&&d!==null;)n=d.next,d=d.parent}}#u(t){for(const n of t)((n.f&ar)!==0?this.#d:this.#l).push(n),Un(n,Pn);t.length=0}capture(t,n){this.#s.has(t)||this.#s.set(t,n),this.current.set(t,t.v)}activate(){Xt=this}deactivate(){Xt=null,co=null;for(const t of Ni)if(Ni.delete(t),t(),Xt!==null)break}neuter(){this.#c=!0}flush(){fa.length>0?pc():this.#v(),Xt===this&&(this.#f===0&&Jo.delete(this),this.deactivate())}#v(){if(!this.#c)for(const t of this.#t)t();this.#t.clear()}increment(){this.#f+=1}decrement(){if(this.#f-=1,this.#f===0){for(const t of this.#d)Un(t,ar),Va(t);for(const t of this.#l)Un(t,jr),Va(t);this.#e=[],this.#r=[],this.flush()}else this.deactivate()}add_callback(t){this.#t.add(t)}settled(){return(this.#o??=cf()).promise}static ensure(){if(Xt===null){const t=Xt=new zr;Jo.add(Xt),Ss||zr.enqueue(()=>{Xt===t&&t.flush()})}return Xt}static enqueue(t){_a(t)}}function Wf(e){var t=Ss;Ss=!0;try{for(var n;;){if(qf(),fa.length===0&&!jf()&&(Xt?.flush(),fa.length===0))return Oo=null,n;pc()}}finally{Ss=t}}function pc(){var e=ja;Li=!0;try{var t=0;for(Uu(!0);fa.length>0;){var n=zr.ensure();if(t++>1e3){var r,s;Vf()}n.process(fa),Xr.clear()}}finally{Li=!1,Uu(e),Oo=null}}function Vf(){try{_f()}catch(e){Wa(e,Oo)}}let aa=null;function $u(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ga|hr))===0&&js(r)&&(aa=[],ua(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Tc(r):r.fn=null),aa?.length>0)){Xr.clear();for(const s of aa)ua(s);aa=[]}}aa=null}}function Va(e){for(var t=Oo=e;t.parent!==null;){t=t.parent;var n=t.f;if(Li&&t===mt&&(n&Ja)!==0)return;if((n&(ha|Ur))!==0){if((n&Pn)===0)return;t.f^=Pn}}fa.push(t)}function Gf(e){let t=0,n=ea(0),r;return()=>{u0()&&(a(n),ts(()=>(t===0&&(r=p(()=>e(()=>Es(n)))),t+=1,()=>{_a(()=>{t-=1,t===0&&(r?.(),r=void 0,Es(n))})})))}}var Zf=Xa|Qa|au;function Kf(e,t,n){new Yf(e,t,n)}class Yf{parent;#s=!1;#t;#f=null;#o;#c;#a;#n=null;#e=null;#r=null;#i=null;#d=0;#l=0;#p=!1;#u=null;#v=()=>{this.#u&&pa(this.#u,this.#d)};#_=Gf(()=>(this.#u=ea(this.#d),()=>{this.#u=null}));constructor(t,n,r){this.#t=t,this.#o=n,this.#c=r,this.parent=mt.b,this.#s=!!this.#o.pending,this.#a=ba(()=>{mt.b=this;{try{this.#n=Bn(()=>r(this.#t))}catch(s){this.error(s)}this.#l>0?this.#h():this.#s=!1}},Zf)}#b(){try{this.#n=Bn(()=>this.#c(this.#t))}catch(t){this.error(t)}this.#s=!1}#y(){const t=this.#o.pending;t&&(this.#e=Bn(()=>t(this.#t)),zr.enqueue(()=>{this.#n=this.#m(()=>(zr.ensure(),Bn(()=>this.#c(this.#t)))),this.#l>0?this.#h():(Qr(this.#e,()=>{this.#e=null}),this.#s=!1)}))}is_pending(){return this.#s||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#o.pending}#m(t){var n=mt,r=Ct,s=Wt;sr(this.#a),Wn(this.#a),Ha(this.#a.ctx);try{return t()}catch(o){return dc(o),null}finally{sr(n),Wn(r),Ha(s)}}#h(){const t=this.#o.pending;this.#n!==null&&(this.#i=document.createDocumentFragment(),Jf(this.#n,this.#i)),this.#e===null&&(this.#e=Bn(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#l+=t,this.#l===0&&(this.#s=!1,this.#e&&Qr(this.#e,()=>{this.#e=null}),this.#i&&(this.#t.before(this.#i),this.#i=null))}update_pending_count(t){this.#g(t),this.#d+=t,Ni.add(this.#v)}get_effect_pending(){return this.#_(),a(this.#u)}error(t){var n=this.#o.onerror;let r=this.#o.failed;if(this.#p||!n&&!r)throw t;this.#n&&(Ln(this.#n),this.#n=null),this.#e&&(Ln(this.#e),this.#e=null),this.#r&&(Ln(this.#r),this.#r=null);var s=!1,o=!1;const i=()=>{if(s){$f();return}s=!0,o&&Sf(),zr.ensure(),this.#d=0,this.#r!==null&&Qr(this.#r,()=>{this.#r=null}),this.#s=this.has_pending_snippet(),this.#n=this.#m(()=>(this.#p=!1,Bn(()=>this.#c(this.#t)))),this.#l>0?this.#h():this.#s=!1};var u=Ct;try{Wn(null),o=!0,n?.(t,i),o=!1}catch(l){Wa(l,this.#a&&this.#a.parent)}finally{Wn(u)}r&&_a(()=>{this.#r=this.#m(()=>{this.#p=!0;try{return Bn(()=>{r(this.#t,()=>t,()=>i)})}catch(l){return Wa(l,this.#a.parent),null}finally{this.#p=!1}})})}}function Jf(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var s=n===r?null:Us(n);t.append(n),n=s}}function vc(e,t,n){const r=zs()?Bs:jt;if(t.length===0){n(e.map(r));return}var s=Xt,o=mt,i=Xf();Promise.all(t.map(u=>Qf(u))).then(u=>{s?.activate(),i();try{n([...e.map(r),...u])}catch(l){(o.f&ga)===0&&Wa(l,o)}s?.deactivate(),mc()}).catch(u=>{Wa(u,o)})}function Xf(){var e=mt,t=Ct,n=Wt,r=Xt;return function(){sr(e),Wn(t),Ha(n),r?.activate()}}function mc(){sr(null),Wn(null),Ha(null)}function Bs(e){var t=Jn|ar,n=Ct!==null&&(Ct.f&Jn)!==0?Ct:null;return mt===null||n!==null&&(n.f&nr)!==0?t|=nr:mt.f|=Qa,{ctx:Wt,deps:null,effects:null,equals:uc,f:t,fn:e,reactions:null,rv:0,v:Cn,wv:0,parent:n??mt,ac:null}}function Qf(e,t){let n=mt;n===null&&vf();var r=n.b,s=void 0,o=ea(Cn),i=null,u=!Ct;return d0(()=>{try{var l=e();i&&Promise.resolve(l).catch(()=>{})}catch(m){l=Promise.reject(m)}var d=()=>l;s=i?.then(d,d)??Promise.resolve(l),i=s;var f=Xt,c=r.is_pending();u&&(r.update_pending_count(1),c||f.increment());const g=(m,h=void 0)=>{i=null,c||f.activate(),h?h!==iu&&(o.f|=oa,pa(o,h)):((o.f&oa)!==0&&(o.f^=oa),pa(o,m)),u&&(r.update_pending_count(-1),c||f.decrement()),mc()};if(s.then(g,m=>g(null,m||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(l=>{function d(f){function c(){f===s?l(o):d(s)}f.then(c,c)}d(s)})}function e0(e){const t=Bs(e);return Fc(t),t}function jt(e){const t=Bs(e);return t.equals=lc,t}function hc(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Ln(t[n])}}function t0(e){for(var t=e.parent;t!==null;){if((t.f&Jn)===0)return t;t=t.parent}return null}function lu(e){var t,n=mt;sr(t0(e));try{hc(e),t=Lc(e)}finally{sr(n)}return t}function gc(e){var t=lu(e);if(e.equals(t)||(e.v=t,e.wv=Ic()),!ya){var n=(Kr||(e.f&nr)!==0)&&e.deps!==null?jr:Pn;Un(e,n)}}const Xr=new Map;function ea(e,t){var n={f:0,v:e,reactions:null,equals:uc,rv:0,wv:0};return n}function Hr(e,t){const n=ea(e);return Fc(n),n}function O(e,t=!1,n=!0){const r=ea(e);return t||(r.equals=lc),es&&n&&Wt!==null&&Wt.l!==null&&(Wt.l.s??=[]).push(r),r}function cu(e,t){return _(e,p(()=>a(e))),t}function _(e,t,n=!1){Ct!==null&&(!vr||(Ct.f&Ou)!==0)&&zs()&&(Ct.f&(Jn|Ja|ou|Ou))!==0&&!Br?.includes(e)&&wf();let r=n?$a(t):t;return pa(e,r)}function pa(e,t){if(!e.equals(t)){var n=e.v;ya?Xr.set(e,t):Xr.set(e,n),e.v=t;var r=zr.ensure();r.capture(e,n),(e.f&Jn)!==0&&((e.f&ar)!==0&&lu(e),Un(e,(e.f&nr)===0?Pn:jr)),e.wv=Ic(),_c(e,ar),zs()&&mt!==null&&(mt.f&Pn)!==0&&(mt.f&(Ur|ha))===0&&(Qn===null?v0([e]):Qn.push(e))}return t}function Ru(e,t=1){var n=a(e),r=t===1?n++:n--;return _(e,n),r}function Es(e){_(e,e.v+1)}function _c(e,t){var n=e.reactions;if(n!==null)for(var r=zs(),s=n.length,o=0;o<s;o++){var i=n[o],u=i.f;if(!(!r&&i===mt)){var l=(u&ar)===0;l&&Un(i,t),(u&Jn)!==0?_c(i,jr):l&&((u&Ja)!==0&&aa!==null&&aa.push(i),Va(i))}}}function $a(e){if(typeof e!="object"||e===null||Ar in e)return e;const t=nu(e);if(t!==of&&t!==uf)return e;var n=new Map,r=Ya(e),s=Hr(0),o=ia,i=u=>{if(ia===o)return u();var l=Ct,d=ia;Wn(null),qu(o);var f=u();return Wn(l),qu(d),f};return r&&n.set("length",Hr(e.length)),new Proxy(e,{defineProperty(u,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&xf();var f=n.get(l);return f===void 0?f=i(()=>{var c=Hr(d.value);return n.set(l,c),c}):_(f,d.value,!0),!0},deleteProperty(u,l){var d=n.get(l);if(d===void 0){if(l in u){const f=i(()=>Hr(Cn));n.set(l,f),Es(s)}}else _(d,Cn),Es(s);return!0},get(u,l,d){if(l===Ar)return e;var f=n.get(l),c=l in u;if(f===void 0&&(!c||Rr(u,l)?.writable)&&(f=i(()=>{var m=$a(c?u[l]:Cn),h=Hr(m);return h}),n.set(l,f)),f!==void 0){var g=a(f);return g===Cn?void 0:g}return Reflect.get(u,l,d)},getOwnPropertyDescriptor(u,l){var d=Reflect.getOwnPropertyDescriptor(u,l);if(d&&"value"in d){var f=n.get(l);f&&(d.value=a(f))}else if(d===void 0){var c=n.get(l),g=c?.v;if(c!==void 0&&g!==Cn)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return d},has(u,l){if(l===Ar)return!0;var d=n.get(l),f=d!==void 0&&d.v!==Cn||Reflect.has(u,l);if(d!==void 0||mt!==null&&(!f||Rr(u,l)?.writable)){d===void 0&&(d=i(()=>{var g=f?$a(u[l]):Cn,m=Hr(g);return m}),n.set(l,d));var c=a(d);if(c===Cn)return!1}return f},set(u,l,d,f){var c=n.get(l),g=l in u;if(r&&l==="length")for(var m=d;m<c.v;m+=1){var h=n.get(m+"");h!==void 0?_(h,Cn):m in u&&(h=i(()=>Hr(Cn)),n.set(m+"",h))}if(c===void 0)(!g||Rr(u,l)?.writable)&&(c=i(()=>Hr(void 0)),_(c,$a(d)),n.set(l,c));else{g=c.v!==Cn;var T=i(()=>$a(d));_(c,T)}var A=Reflect.getOwnPropertyDescriptor(u,l);if(A?.set&&A.set.call(f,d),!g){if(r&&typeof l=="string"){var E=n.get("length"),C=Number(l);Number.isInteger(C)&&C>=E.v&&_(E,C+1)}Es(s)}return!0},ownKeys(u){a(s);var l=Reflect.ownKeys(u).filter(c=>{var g=n.get(c);return g===void 0||g.v!==Cn});for(var[d,f]of n)f.v!==Cn&&!(d in u)&&l.push(d);return l},setPrototypeOf(){kf()}})}function zu(e){try{if(e!==null&&typeof e=="object"&&Ar in e)return e[Ar]}catch{}return e}function n0(e,t){return Object.is(zu(e),zu(t))}var xo,bc,yc,xc;function r0(){if(xo===void 0){xo=window,bc=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;yc=Rr(t,"firstChild").get,xc=Rr(t,"nextSibling").get,Lu(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Lu(n)&&(n.__t=void 0)}}function na(e=""){return document.createTextNode(e)}function wr(e){return yc.call(e)}function Us(e){return xc.call(e)}function v(e,t){return wr(e)}function me(e,t=!1){{var n=wr(e);return n instanceof Comment&&n.data===""?Us(n):n}}function b(e,t=1,n=!1){let r=e;for(;t--;)r=Us(r);return r}function a0(e){e.textContent=""}function du(){return!1}function s0(e,t){if(t){const n=document.body;e.autofocus=!0,_a(()=>{document.activeElement===n&&e.focus()})}}let Bu=!1;function o0(){Bu||(Bu=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function $o(e){var t=Ct,n=mt;Wn(null),sr(null);try{return e()}finally{Wn(t),sr(n)}}function kc(e,t,n,r=n){e.addEventListener(t,()=>$o(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),o0()}function wc(e){mt===null&&Ct===null&&gf(),Ct!==null&&(Ct.f&nr)!==0&&mt===null&&hf(),ya&&mf()}function i0(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Tr(e,t,n,r=!0){var s=mt;s!==null&&(s.f&hr)!==0&&(e|=hr);var o={ctx:Wt,deps:null,nodes_start:null,nodes_end:null,f:e|ar,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{ua(o),o.f|=su}catch(l){throw Ln(o),l}else t!==null&&Va(o);if(r){var i=o;if(n&&i.deps===null&&i.teardown===null&&i.nodes_start===null&&i.first===i.last&&(i.f&Qa)===0&&(i=i.first),i!==null&&(i.parent=s,s!==null&&i0(i,s),Ct!==null&&(Ct.f&Jn)!==0&&(e&ha)===0)){var u=Ct;(u.effects??=[]).push(i)}}return o}function u0(){return Ct!==null&&!vr}function Ro(e){const t=Tr(Po,null,!1);return Un(t,Pn),t.teardown=e,t}function Oi(e){wc();var t=mt.f,n=!Ct&&(t&Ur)!==0&&(t&su)===0;if(n){var r=Wt;(r.e??=[]).push(e)}else return Sc(e)}function Sc(e){return Tr(ru|ac,e,!1)}function l0(e){return wc(),Tr(Po|ac,e,!0)}function c0(e){zr.ensure();const t=Tr(ha|Qa,e,!0);return(n={})=>new Promise(r=>{n.outro?Qr(t,()=>{Ln(t),r(void 0)}):(Ln(t),r(void 0))})}function rr(e){return Tr(ru,e,!1)}function ye(e,t){var n=Wt,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=ts(()=>{e(),!r.ran&&(r.ran=!0,p(t))})}function cn(){var e=Wt;ts(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&Pn)!==0&&Un(n,jr),js(n)&&ua(n),t.ran=!1}})}function d0(e){return Tr(ou|Qa,e,!0)}function ts(e,t=0){return Tr(Po|t,e,!0)}function U(e,t=[],n=[]){vc(t,n,r=>{Tr(Po,()=>e(...r.map(a)),!0)})}function ba(e,t=0){var n=Tr(Ja|t,e,!0);return n}function Bn(e,t=!0){return Tr(Ur|Qa,e,!0,t)}function Ec(e){var t=e.teardown;if(t!==null){const n=ya,r=Ct;ju(!0),Wn(null);try{t.call(null)}finally{ju(n),Wn(r)}}}function Cc(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&$o(()=>{s.abort(iu)});var r=n.next;(n.f&ha)!==0?n.parent=null:Ln(n,t),n=r}}function f0(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ur)===0&&Ln(t),t=n}}function Ln(e,t=!0){var n=!1;(t||(e.f&ff)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ac(e.nodes_start,e.nodes_end),n=!0),Cc(e,t&&!n),ko(e,0),Un(e,ga);var r=e.transitions;if(r!==null)for(const o of r)o.stop();Ec(e);var s=e.parent;s!==null&&s.first!==null&&Tc(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ac(e,t){for(;e!==null;){var n=e===t?null:Us(e);e.remove(),e=n}}function Tc(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Qr(e,t){var n=[];fu(e,n,!0),Dc(n,()=>{Ln(e),t&&t()})}function Dc(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function fu(e,t,n){if((e.f&hr)===0){if(e.f^=hr,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var s=r.next,o=(r.f&Xa)!==0||(r.f&Ur)!==0;fu(r,t,o?n:!1),r=s}}}function zo(e){Mc(e,!0)}function Mc(e,t){if((e.f&hr)!==0){e.f^=hr,(e.f&Pn)===0&&(Un(e,ar),Va(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Xa)!==0||(n.f&Ur)!==0;Mc(n,s?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}let Na=null;function p0(e){var t=Na;try{if(Na=new Set,p(e),t!==null)for(var n of Na)t.add(n);return Na}finally{Na=t}}function ox(e){for(var t of p0(e))pa(t,t.v)}let ja=!1;function Uu(e){ja=e}let ya=!1;function ju(e){ya=e}let Ct=null,vr=!1;function Wn(e){Ct=e}let mt=null;function sr(e){mt=e}let Br=null;function Fc(e){Ct!==null&&(Br===null?Br=[e]:Br.push(e))}let zn=null,Kn=0,Qn=null;function v0(e){Qn=e}let Pc=1,Is=0,ia=Is;function qu(e){ia=e}let Kr=!1;function Ic(){return++Pc}function js(e){var t=e.f;if((t&ar)!==0)return!0;if((t&jr)!==0){var n=e.deps,r=(t&nr)!==0;if(n!==null){var s,o,i=(t&bo)!==0,u=r&&mt!==null&&!Kr,l=n.length;if((i||u)&&(mt===null||(mt.f&ga)===0)){var d=e,f=d.parent;for(s=0;s<l;s++)o=n[s],(i||!o?.reactions?.includes(d))&&(o.reactions??=[]).push(d);i&&(d.f^=bo),u&&f!==null&&(f.f&nr)===0&&(d.f^=nr)}for(s=0;s<l;s++)if(o=n[s],js(o)&&gc(o),o.wv>e.wv)return!0}(!r||mt!==null&&!Kr)&&Un(e,Pn)}return!1}function Nc(e,t,n=!0){var r=e.reactions;if(r!==null&&!Br?.includes(e))for(var s=0;s<r.length;s++){var o=r[s];(o.f&Jn)!==0?Nc(o,t,!1):t===o&&(n?Un(o,ar):(o.f&Pn)!==0&&Un(o,jr),Va(o))}}function Lc(e){var t=zn,n=Kn,r=Qn,s=Ct,o=Kr,i=Br,u=Wt,l=vr,d=ia,f=e.f;zn=null,Kn=0,Qn=null,Kr=(f&nr)!==0&&(vr||!ja||Ct===null),Ct=(f&(Ur|ha))===0?e:null,Br=null,Ha(e.ctx),vr=!1,ia=++Is,e.ac!==null&&($o(()=>{e.ac.abort(iu)}),e.ac=null);try{e.f|=Ii;var c=e.fn,g=c(),m=e.deps;if(zn!==null){var h;if(ko(e,Kn),m!==null&&Kn>0)for(m.length=Kn+zn.length,h=0;h<zn.length;h++)m[Kn+h]=zn[h];else e.deps=m=zn;if(!Kr||(f&Jn)!==0&&e.reactions!==null)for(h=Kn;h<m.length;h++)(m[h].reactions??=[]).push(e)}else m!==null&&Kn<m.length&&(ko(e,Kn),m.length=Kn);if(zs()&&Qn!==null&&!vr&&m!==null&&(e.f&(Jn|jr|ar))===0)for(h=0;h<Qn.length;h++)Nc(Qn[h],e);return s!==null&&s!==e&&(Is++,Qn!==null&&(r===null?r=Qn:r.push(...Qn))),(e.f&oa)!==0&&(e.f^=oa),g}catch(T){return dc(T)}finally{e.f^=Ii,zn=t,Kn=n,Qn=r,Ct=s,Kr=o,Br=i,Ha(u),vr=l,ia=d}}function m0(e,t){let n=t.reactions;if(n!==null){var r=sf.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Jn)!==0&&(zn===null||!zn.includes(t))&&(Un(t,jr),(t.f&(nr|bo))===0&&(t.f^=bo),hc(t),ko(t,0))}function ko(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)m0(e,n[r])}function ua(e){var t=e.f;if((t&ga)===0){Un(e,Pn);var n=mt,r=ja;mt=e,ja=!0;try{(t&Ja)!==0?f0(e):Cc(e),Ec(e);var s=Lc(e);e.teardown=typeof s=="function"?s:null,e.wv=Pc;var o;nc&&zf&&(e.f&ar)!==0&&e.deps}finally{ja=r,mt=n}}}async function Oc(){await Promise.resolve(),Wf()}function a(e){var t=e.f,n=(t&Jn)!==0;if(Na?.add(e),Ct!==null&&!vr){var r=mt!==null&&(mt.f&ga)!==0;if(!r&&!Br?.includes(e)){var s=Ct.deps;if((Ct.f&Ii)!==0)e.rv<Is&&(e.rv=Is,zn===null&&s!==null&&s[Kn]===e?Kn++:zn===null?zn=[e]:(!Kr||!zn.includes(e))&&zn.push(e));else{(Ct.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[Ct]:o.includes(Ct)||o.push(Ct)}}}else if(n&&e.deps===null&&e.effects===null){var i=e,u=i.parent;u!==null&&(u.f&nr)===0&&(i.f^=nr)}if(ya){if(Xr.has(e))return Xr.get(e);if(n){i=e;var l=i.v;return((i.f&Pn)===0&&i.reactions!==null||$c(i))&&(l=lu(i)),Xr.set(i,l),l}}else n&&(i=e,js(i)&&gc(i));if((e.f&oa)!==0)throw e.v;return e.v}function $c(e){if(e.v===Cn)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Xr.has(t)||(t.f&Jn)!==0&&$c(t))return!0;return!1}function p(e){var t=vr;try{return vr=!0,e()}finally{vr=t}}const h0=-7169;function Un(e,t){e.f=e.f&h0|t}function B(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ar in e)$i(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Ar in n&&$i(n)}}}function $i(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{$i(e[r],t)}catch{}const n=nu(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=rc(n);for(let s in r){const o=r[s].get;if(o)try{o.call(e)}catch{}}}}}function g0(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const _0=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function b0(e){return _0.includes(e)}const y0={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function x0(e){return e=e.toLowerCase(),y0[e]??e}const k0=["touchstart","touchmove"];function w0(e){return k0.includes(e)}const Rc=new Set,Ri=new Set;function zc(e,t,n,r={}){function s(o){if(r.capture||xs.call(t,o),!o.cancelBubble)return $o(()=>n?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_a(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function L(e,t,n,r,s){var o={capture:r,passive:s},i=zc(e,t,n,o);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ro(()=>{t.removeEventListener(e,i,o)})}function Bc(e){for(var t=0;t<e.length;t++)Rc.add(e[t]);for(var n of Ri)n(e)}let Hu=null;function xs(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],o=s[0]||e.target;Hu=e;var i=0,u=Hu===e&&e.__root;if(u){var l=s.indexOf(u);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var d=s.indexOf(t);if(d===-1)return;l<=d&&(i=l)}if(o=s[i]||e.target,o!==t){_o(e,"currentTarget",{configurable:!0,get(){return o||n}});var f=Ct,c=mt;Wn(null),sr(null);try{for(var g,m=[];o!==null;){var h=o.assignedSlot||o.parentNode||o.host||null;try{var T=o["__"+r];if(T!=null&&(!o.disabled||e.target===o))if(Ya(T)){var[A,...E]=T;A.apply(o,[e,...E])}else T.call(o,e)}catch(C){g?m.push(C):g=C}if(e.cancelBubble||h===t||h===null)break;o=h}if(g){for(let C of m)queueMicrotask(()=>{throw C});throw g}}finally{e.__root=t,delete e.currentTarget,Wn(f),sr(c)}}}function pu(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function va(e,t){var n=mt;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function F(e,t){var n=(t&Ff)!==0,r=(t&Pf)!==0,s,o=!e.startsWith("<!>");return()=>{s===void 0&&(s=pu(o?e:"<!>"+e),n||(s=wr(s)));var i=r||bc?document.importNode(s,!0):s.cloneNode(!0);if(n){var u=wr(i),l=i.lastChild;va(u,l)}else va(i,i);return i}}function S0(e,t,n="svg"){var r=!e.startsWith("<!>"),s=`<${n}>${r?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var i=pu(s),u=wr(i);o=wr(u)}var l=o.cloneNode(!0);return va(l,l),l}}function ns(e,t){return S0(e,t,"svg")}function Gt(e=""){{var t=na(e+"");return va(t,t),t}}function Me(){var e=document.createDocumentFragment(),t=document.createComment(""),n=na();return e.append(t,n),va(t,n),e}function x(e,t){e!==null&&e.before(t)}function W(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function E0(e,t){return C0(e,t)}const wa=new Map;function C0(e,{target:t,anchor:n,props:r={},events:s,context:o,intro:i=!0}){r0();var u=new Set,l=c=>{for(var g=0;g<c.length;g++){var m=c[g];if(!u.has(m)){u.add(m);var h=w0(m);t.addEventListener(m,xs,{passive:h});var T=wa.get(m);T===void 0?(document.addEventListener(m,xs,{passive:h}),wa.set(m,1)):wa.set(m,T+1)}}};l(tu(Rc)),Ri.add(l);var d=void 0,f=c0(()=>{var c=n??t.appendChild(na());return Kf(c,{pending:()=>{}},g=>{if(o){Pt({});var m=Wt;m.c=o}s&&(r.$$events=s),d=e(g,r)||{},o&&It()}),()=>{for(var g of u){t.removeEventListener(g,xs);var m=wa.get(g);--m===0?(document.removeEventListener(g,xs),wa.delete(g)):wa.set(g,m)}Ri.delete(l),c!==n&&c.parentNode?.removeChild(c)}});return A0.set(d,f),d}let A0=new WeakMap;function N(e,t,n=!1){var r=e,s=null,o=null,i=Cn,u=n?Xa:0,l=!1;const d=(m,h=!0)=>{l=!0,g(h,m)};var f=null;function c(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var m=i?s:o,h=i?o:s;m&&zo(m),h&&Qr(h,()=>{i?o=null:s=null})}const g=(m,h)=>{if(i!==(i=m)){var T=du(),A=r;if(T&&(f=document.createDocumentFragment(),f.append(A=na())),i?s??=h&&Bn(()=>h(A)):o??=h&&Bn(()=>h(A)),T){var E=Xt,C=i?s:o,k=i?o:s;C&&E.skipped_effects.delete(C),k&&E.skipped_effects.add(k),E.add_callback(c)}else c()}};ba(()=>{l=!1,t(d),l||g(null,null)},u)}function Vn(e,t){return t}function T0(e,t,n){for(var r=e.items,s=[],o=t.length,i=0;i<o;i++)fu(t[i].e,s,!0);var u=o>0&&s.length===0&&n!==null;if(u){var l=n.parentNode;a0(l),l.append(n),r.clear(),kr(e,t[0].prev,t[o-1].next)}Dc(s,()=>{for(var d=0;d<o;d++){var f=t[d];u||(r.delete(f.k),kr(e,f.prev,f.next)),Ln(f.e,!u)}})}function Lt(e,t,n,r,s,o=null){var i=e,u={flags:t,items:new Map,first:null},l=(t&oc)!==0;if(l){var d=e;i=d.appendChild(na())}var f=null,c=!1,g=new Map,m=jt(()=>{var E=n();return Ya(E)?E:E==null?[]:tu(E)}),h,T;function A(){D0(T,h,u,g,i,s,t,r,n),o!==null&&(h.length===0?f?zo(f):f=Bn(()=>o(i)):f!==null&&Qr(f,()=>{f=null}))}ba(()=>{T??=mt,h=a(m);var E=h.length;if(!(c&&E===0)){c=E===0;var C,k,w,S;if(du()){var y=new Set,D=Xt;for(k=0;k<E;k+=1){w=h[k],S=r(w,k);var z=u.items.get(S)??g.get(S);z?(t&(No|Lo))!==0&&Uc(z,w,k,t):(C=jc(null,u,null,null,w,S,k,s,t,n,!0),g.set(S,C)),y.add(S)}for(const[R,P]of u.items)y.has(R)||D.skipped_effects.add(P.e);D.add_callback(A)}else A();a(m)}})}function D0(e,t,n,r,s,o,i,u,l){var d=(i&Ef)!==0,f=(i&(No|Lo))!==0,c=t.length,g=n.items,m=n.first,h=m,T,A=null,E,C=[],k=[],w,S,y,D;if(d)for(D=0;D<c;D+=1)w=t[D],S=u(w,D),y=g.get(S),y!==void 0&&(y.a?.measure(),(E??=new Set).add(y));for(D=0;D<c;D+=1){if(w=t[D],S=u(w,D),y=g.get(S),y===void 0){var z=r.get(S);if(z!==void 0){r.delete(S),g.set(S,z);var R=A?A.next:h;kr(n,A,z),kr(n,z,R),Xo(z,R,s),A=z}else{var P=h?h.e.nodes_start:s;A=jc(P,n,A,A===null?n.first:A.next,w,S,D,o,i,l)}g.set(S,A),C=[],k=[],h=A.next;continue}if(f&&Uc(y,w,D,i),(y.e.f&hr)!==0&&(zo(y.e),d&&(y.a?.unfix(),(E??=new Set).delete(y))),y!==h){if(T!==void 0&&T.has(y)){if(C.length<k.length){var I=k[0],Q;A=I.prev;var Y=C[0],he=C[C.length-1];for(Q=0;Q<C.length;Q+=1)Xo(C[Q],I,s);for(Q=0;Q<k.length;Q+=1)T.delete(k[Q]);kr(n,Y.prev,he.next),kr(n,A,Y),kr(n,he,I),h=I,A=he,D-=1,C=[],k=[]}else T.delete(y),Xo(y,h,s),kr(n,y.prev,y.next),kr(n,y,A===null?n.first:A.next),kr(n,A,y),A=y;continue}for(C=[],k=[];h!==null&&h.k!==S;)(h.e.f&hr)===0&&(T??=new Set).add(h),k.push(h),h=h.next;if(h===null)continue;y=h}C.push(y),A=y,h=y.next}if(h!==null||T!==void 0){for(var $=T===void 0?[]:tu(T);h!==null;)(h.e.f&hr)===0&&$.push(h),h=h.next;var ne=$.length;if(ne>0){var ae=(i&oc)!==0&&c===0?s:null;if(d){for(D=0;D<ne;D+=1)$[D].a?.measure();for(D=0;D<ne;D+=1)$[D].a?.fix()}T0(n,$,ae)}}d&&_a(()=>{if(E!==void 0)for(y of E)y.a?.apply()}),e.first=n.first&&n.first.e,e.last=A&&A.e;for(var re of r.values())Ln(re.e);r.clear()}function Uc(e,t,n,r){(r&No)!==0&&pa(e.v,t),(r&Lo)!==0?pa(e.i,n):e.i=n}function jc(e,t,n,r,s,o,i,u,l,d,f){var c=(l&No)!==0,g=(l&Cf)===0,m=c?g?O(s,!1,!1):ea(s):s,h=(l&Lo)===0?i:ea(i),T={i:h,v:m,k:o,a:null,e:null,prev:n,next:r};try{if(e===null){var A=document.createDocumentFragment();A.append(e=na())}return T.e=Bn(()=>u(e,m,h,d),Rf),T.e.prev=n&&n.e,T.e.next=r&&r.e,n===null?f||(t.first=T):(n.next=T,n.e.next=T.e),r!==null&&(r.prev=T,r.e.prev=T.e),T}finally{}}function Xo(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,o=e.e.nodes_start;o!==null&&o!==r;){var i=Us(o);s.before(o),o=i}}function kr(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function zi(e,t,n=!1,r=!1,s=!1){var o=e,i="";U(()=>{var u=mt;if(i!==(i=t()??"")&&(u.nodes_start!==null&&(Ac(u.nodes_start,u.nodes_end),u.nodes_start=u.nodes_end=null),i!=="")){var l=i+"";n?l=`<svg>${l}</svg>`:r&&(l=`<math>${l}</math>`);var d=pu(l);if((n||r)&&(d=wr(d)),va(wr(d),d.lastChild),n||r)for(;wr(d);)o.before(wr(d));else o.before(d)}})}function Nn(e,t,n,r,s){var o=t.$$slots?.[n],i=!1;o===!0&&(o=t[n==="default"?"children":n],i=!0),o===void 0||o(e,i?()=>r:r)}function M0(e,t,n){var r=e,s,o,i=null,u=null;function l(){o&&(Qr(o),o=null),i&&(i.lastChild.remove(),r.before(i),i=null),o=u,u=null}ba(()=>{if(s!==(s=t())){var d=du();if(s){var f=r;d&&(i=document.createDocumentFragment(),i.append(f=na()),o&&Xt.skipped_effects.add(o)),u=Bn(()=>n(f,s))}d?Xt.add_callback(l):l()}},Xa)}function F0(e,t,n,r,s,o){var i,u,l=null,d=e,f;ba(()=>{const c=t()||null;var g=Nf;c!==i&&(f&&(c===null?Qr(f,()=>{f=null,u=null}):c===u?zo(f):Ln(f)),c&&c!==u&&(f=Bn(()=>{if(l=document.createElementNS(g,c),va(l,l),r){var m=l.appendChild(na());r(l,m)}mt.nodes_end=l,d.before(l)})),i=c,i&&(u=i))},Xa)}function ma(e,t,n){rr(()=>{var r=p(()=>t(e,n?.())||{});if(n&&r?.update){var s=!1,o={};ts(()=>{var i=n();B(i),s&&uu(o,i)&&(o=i,r.update(i))}),s=!0}if(r?.destroy)return()=>r.destroy()})}function P0(e,t){var n=void 0,r;ba(()=>{n!==(n=t())&&(r&&(Ln(r),r=null),n&&(r=Bn(()=>{rr(()=>n(e))})))})}function qc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=qc(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function I0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=qc(e))&&(r&&(r+=" "),r+=t);return r}function Cs(e){return typeof e=="object"?I0(e):e??""}const Wu=[...` 	
\r\fÂ \v\uFEFF`];function N0(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var o=s.length,i=0;(i=r.indexOf(s,i))>=0;){var u=i+o;(i===0||Wu.includes(r[i-1]))&&(u===r.length||Wu.includes(r[u]))?r=(i===0?"":r.substring(0,i))+r.substring(u+1):i=u}}return r===""?null:r}function Vu(e,t=!1){var n=t?" !important;":";",r="";for(var s in e){var o=e[s];o!=null&&o!==""&&(r+=" "+s+": "+o+n)}return r}function Qo(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function L0(e,t){if(t){var n="",r,s;if(Array.isArray(t)?(r=t[0],s=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,i=0,u=!1,l=[];r&&l.push(...Object.keys(r).map(Qo)),s&&l.push(...Object.keys(s).map(Qo));var d=0,f=-1;const T=e.length;for(var c=0;c<T;c++){var g=e[c];if(u?g==="/"&&e[c-1]==="*"&&(u=!1):o?o===g&&(o=!1):g==="/"&&e[c+1]==="*"?u=!0:g==='"'||g==="'"?o=g:g==="("?i++:g===")"&&i--,!u&&o===!1&&i===0){if(g===":"&&f===-1)f=c;else if(g===";"||c===T-1){if(f!==-1){var m=Qo(e.substring(d,f).trim());if(!l.includes(m)){g!==";"&&c++;var h=e.substring(d,c).trim();n+=" "+h+";"}}d=c+1,f=-1}}}}return r&&(n+=Vu(r)),s&&(n+=Vu(s,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function kt(e,t,n,r,s,o){var i=e.__className;if(i!==n||i===void 0){var u=N0(n,r,o);u==null?e.removeAttribute("class"):t?e.className=u:e.setAttribute("class",u),e.__className=n}else if(o&&s!==o)for(var l in o){var d=!!o[l];(s==null||d!==!!s[l])&&e.classList.toggle(l,d)}return o}function ei(e,t={},n,r){for(var s in n){var o=n[s];t[s]!==o&&(n[s]==null?e.style.removeProperty(s):e.style.setProperty(s,o,r))}}function yn(e,t,n,r){var s=e.__style;if(s!==t){var o=L0(t,r);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=t}else r&&(Array.isArray(r)?(ei(e,n?.[0],r[0]),ei(e,n?.[1],r[1],"important")):ei(e,n,r));return r}function kn(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Ya(t))return Of();for(var r of e.options)r.selected=t.includes(As(r));return}for(r of e.options){var s=As(r);if(n0(s,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Fn(e){var t=new MutationObserver(()=>{kn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ro(()=>{t.disconnect()})}function ix(e,t,n=t){var r=!0;kc(e,"change",s=>{var o=s?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(o),As);else{var u=e.querySelector(o)??e.querySelector("option:not([disabled])");i=u&&As(u)}n(i)}),rr(()=>{var s=t();if(kn(e,s,r),r&&s===void 0){var o=e.querySelector(":checked");o!==null&&(s=As(o),n(s))}e.__value=s,r=!1}),Fn(e)}function As(e){return"__value"in e?e.__value:e.value}const ls=Symbol("class"),cs=Symbol("style"),Hc=Symbol("is custom element"),Wc=Symbol("is html");function Et(e,t){var n=Bo(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Mn(e,t){var n=Bo(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function O0(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function de(e,t,n,r){var s=Bo(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[pf]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Vc(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function $0(e,t,n,r,s=!1,o=!1){var i=Bo(e),u=i[Hc],l=!i[Wc],d=t||{},f=e.tagName==="OPTION";for(var c in t)c in n||(n[c]=null);n.class?n.class=Cs(n.class):n[ls]&&(n.class=null),n[cs]&&(n.style??=null);var g=Vc(e);for(const k in n){let w=n[k];if(f&&k==="value"&&w==null){e.value=e.__value="",d[k]=w;continue}if(k==="class"){var m=e.namespaceURI==="http://www.w3.org/1999/xhtml";kt(e,m,w,r,t?.[ls],n[ls]),d[k]=w,d[ls]=n[ls];continue}if(k==="style"){yn(e,w,t?.[cs],n[cs]),d[k]=w,d[cs]=n[cs];continue}var h=d[k];if(!(w===h&&!(w===void 0&&e.hasAttribute(k)))){d[k]=w;var T=k[0]+k[1];if(T!=="$$")if(T==="on"){const S={},y="$$"+k;let D=k.slice(2);var A=b0(D);if(g0(D)&&(D=D.slice(0,-7),S.capture=!0),!A&&h){if(w!=null)continue;e.removeEventListener(D,d[y],S),d[y]=null}if(w!=null)if(A)e[`__${D}`]=w,Bc([D]);else{let z=function(R){d[k].call(this,R)};d[y]=zc(D,e,z,S)}else A&&(e[`__${D}`]=void 0)}else if(k==="style")de(e,k,w);else if(k==="autofocus")s0(e,!!w);else if(!u&&(k==="__value"||k==="value"&&w!=null))e.value=e.__value=w;else if(k==="selected"&&f)O0(e,w);else{var E=k;l||(E=x0(E));var C=E==="defaultValue"||E==="defaultChecked";if(w==null&&!u&&!C)if(i[k]=null,E==="value"||E==="checked"){let S=e;const y=t===void 0;if(E==="value"){let D=S.defaultValue;S.removeAttribute(E),S.defaultValue=D,S.value=S.__value=y?D:null}else{let D=S.defaultChecked;S.removeAttribute(E),S.defaultChecked=D,S.checked=y?D:!1}}else e.removeAttribute(k);else C||g.includes(E)&&(u||typeof w!="string")?(e[E]=w,E in i&&(i[E]=Cn)):typeof w!="function"&&de(e,E,w)}}}return d}function Gu(e,t,n=[],r=[],s,o=!1,i=!1){vc(n,r,u=>{var l=void 0,d={},f=e.nodeName==="SELECT",c=!1;if(ba(()=>{var m=t(...u.map(a)),h=$0(e,l,m,s,o,i);c&&f&&"value"in m&&kn(e,m.value);for(let A of Object.getOwnPropertySymbols(d))m[A]||Ln(d[A]);for(let A of Object.getOwnPropertySymbols(m)){var T=m[A];A.description===Lf&&(!l||T!==l[A])&&(d[A]&&Ln(d[A]),d[A]=Bn(()=>P0(e,()=>T))),h[A]=T}l=h}),f){var g=e;rr(()=>{kn(g,l.value,!0),Fn(g)})}c=!0})}function Bo(e){return e.__attributes??={[Hc]:e.nodeName.includes("-"),[Wc]:e.namespaceURI===If}}var Zu=new Map;function Vc(e){var t=e.getAttribute("is")||e.nodeName,n=Zu.get(t);if(n)return n;Zu.set(t,n=[]);for(var r,s=e,o=Element.prototype;o!==s;){r=rc(s);for(var i in r)r[i].set&&n.push(i);s=nu(s)}return n}function tr(e,t,n=t){var r=new WeakSet;kc(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=ti(e)?ni(o):o,n(o),Xt!==null&&r.add(Xt),await Oc(),o!==(o=t())){var i=e.selectionStart,u=e.selectionEnd;e.value=o??"",u!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(u,e.value.length))}}),p(t)==null&&e.value&&(n(ti(e)?ni(e.value):e.value),Xt!==null&&r.add(Xt)),ts(()=>{var s=t();if(e===document.activeElement){var o=co??Xt;if(r.has(o))return}ti(e)&&s===ni(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ti(e){var t=e.type;return t==="number"||t==="range"}function ni(e){return e===""?null:+e}function R0(e,t,n){var r=Rr(e,t);r&&r.set&&(e[t]=n,Ro(()=>{e[t]=null}))}function Ku(e,t){return e===t||e?.[Ar]===t}function Yn(e={},t,n,r){return rr(()=>{var s,o;return ts(()=>{s=o,o=[],p(()=>{e!==n(...o)&&(t(e,...o),s&&Ku(n(...s),e)&&t(null,...s))})}),()=>{_a(()=>{o&&Ku(n(...o),e)&&t(null,...o)})}}),e}function Ra(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function Gc(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function Ot(e=!1){const t=Wt,n=t.l.u;if(!n)return;let r=()=>B(t.s);if(e){let s=0,o={};const i=Bs(()=>{let u=!1;const l=t.s;for(const d in l)l[d]!==o[d]&&(o[d]=l[d],u=!0);return u&&s++,s});r=()=>a(i)}n.b.length&&l0(()=>{Yu(t,r),Ps(n.b)}),Oi(()=>{const s=p(()=>n.m.map(lf));return()=>{for(const o of s)typeof o=="function"&&o()}}),n.a.length&&Oi(()=>{Yu(t,r),Ps(n.a)})}function Yu(e,t){if(e.l.s)for(const n of e.l.s)a(n);t()}function Ju(e,t){var n=e.$$events?.[t.type],r=Ya(n)?n.slice():n==null?[]:[n];for(var s of r)s.call(this,t)}function vu(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Jr;const r=p(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Sa=[];function z0(e,t){return{subscribe:rn(e,t).subscribe}}function rn(e,t=Jr){let n=null;const r=new Set;function s(u){if(uu(e,u)&&(e=u,n)){const l=!Sa.length;for(const d of r)d[1](),Sa.push(d,e);if(l){for(let d=0;d<Sa.length;d+=2)Sa[d][0](Sa[d+1]);Sa.length=0}}}function o(u){s(u(e))}function i(u,l=Jr){const d=[u,l];return r.add(d),r.size===1&&(n=t(s,o)||Jr),u(e),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:s,update:o,subscribe:i}}function xn(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return z0(n,(i,u)=>{let l=!1;const d=[];let f=0,c=Jr;const g=()=>{if(f)return;c();const h=t(r?d[0]:d,i,u);o?i(h):c=typeof h=="function"?h:Jr},m=s.map((h,T)=>vu(h,A=>{d[T]=A,f&=~(1<<T),l&&g()},()=>{f|=1<<T}));return l=!0,g(),function(){Ps(m),c(),l=!1}})}function rt(e){let t;return vu(e,n=>t=n)(),t}let Xs=!1,Bi=Symbol();function Mt(e,t,n){const r=n[t]??={store:null,source:O(void 0),unsubscribe:Jr};if(r.store!==e&&!(Bi in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Jr;else{var s=!0;r.unsubscribe=vu(e,o=>{s?r.source.v=o:_(r.source,o)}),s=!1}return e&&Bi in n?rt(e):a(r.source)}function lr(){const e={};function t(){Ro(()=>{for(var n in e)e[n].unsubscribe();_o(e,Bi,{enumerable:!1,value:!0})})}return[e,t]}function B0(e,t,n){return e.set(n),t}function U0(e){var t=Xs;try{return Xs=!1,[e(),Xs]}finally{Xs=t}}const j0={get(e,t){if(!e.exclude.includes(t))return a(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=mt;try{sr(e.parent_effect),e.special[t]=ie({get[t](){return e.props[t]}},t,ic)}finally{sr(r)}}return e.special[t](n),Ru(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),Ru(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function or(e,t){return new Proxy({props:e,exclude:t,special:{},version:ea(0),parent_effect:mt},j0)}const q0={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(us(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let s=e.props[r];us(s)&&(s=s());const o=Rr(s,t);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(us(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const s=Rr(r,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===Ar||t===sc)return!1;for(let n of e.props)if(us(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props)if(us(n)&&(n=n()),!!n){for(const r in n)t.includes(r)||t.push(r);for(const r of Object.getOwnPropertySymbols(n))t.includes(r)||t.push(r)}return t}};function Dr(...e){return new Proxy({props:e},q0)}function ie(e,t,n,r){var s=!es||(n&Tf)!==0,o=(n&Df)!==0,i=(n&Mf)!==0,u=r,l=!0,d=()=>(l&&(l=!1,u=i?p(r):r),u),f;if(o){var c=Ar in e||sc in e;f=Rr(e,t)?.set??(c&&t in e?k=>e[t]=k:void 0)}var g,m=!1;o?[g,m]=U0(()=>e[t]):g=e[t],g===void 0&&r!==void 0&&(g=d(),f&&(s&&yf(),f(g)));var h;if(s?h=()=>{var k=e[t];return k===void 0?d():(l=!0,k)}:h=()=>{var k=e[t];return k!==void 0&&(u=void 0),k===void 0?u:k},s&&(n&ic)===0)return h;if(f){var T=e.$$legacy;return(function(k,w){return arguments.length>0?((!s||!w||T||m)&&f(w?h():k),k):h()})}var A=!1,E=((n&Af)!==0?Bs:jt)(()=>(A=!1,h()));o&&a(E);var C=mt;return(function(k,w){if(arguments.length>0){const S=w?a(E):s&&o?$a(k):k;return _(E,S),A=!0,u!==void 0&&(u=S),k}return ya&&A||(C.f&ga)!==0?E.v:a(E)})}function qs(e){Wt===null&&Io(),es&&Wt.l!==null?Kc(Wt).m.push(e):Oi(()=>{const t=p(e);if(typeof t=="function")return t})}function Ga(e){Wt===null&&Io(),qs(()=>()=>p(e))}function H0(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function an(){const e=Wt;return e===null&&Io(),(t,n,r)=>{const s=e.s.$$events?.[t];if(s){const o=Ya(s)?s.slice():[s],i=H0(t,n,r);for(const u of o)u.call(e.x,i);return!i.defaultPrevented}return!0}}function Zc(e){Wt===null&&Io(),Wt.l===null&&bf(),Kc(Wt).a.push(e)}function Kc(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const W0="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(W0);Bf();const Zt="";function lt(e){return e.startsWith("/")?`${Zt}${e}`:`${Zt}/${e}`}const V0=/\r?\n/;function Xu(e){const t=[],n=e.split(/\n\n|\r\r|\r\n\r\n/);for(const r of n){const s=r.trim();if(!s)continue;const o=s.split(V0);let i="message",u=[],l;for(const d of o)if(d&&!d.startsWith(":")){if(d.startsWith("event:")){i=d.slice(6).trim()||"message";continue}if(d.startsWith("data:")){u.push(d.slice(5).trimStart());continue}if(d.startsWith("id:")){l=d.slice(3).trim();continue}}t.push({event:i,data:u.length?u.join(`
`):void 0,id:l})}return t}class gr extends Error{status;constructor(t,n){super(n),this.status=t}}async function ht(e,t){const n=await fetch(e,{headers:{"Content-Type":"application/json",Accept:"application/json",...t?.headers},...t});if(!n.ok){let r=n.statusText;try{const s=await n.json();r=s.detail||s.message||JSON.stringify(s)}catch{}throw new gr(n.status,r)}return await n.json()}async function Uo(e,t){const n=await fetch(e,{headers:{"Content-Type":"application/json",Accept:"application/json",...t?.headers},...t});if(!n.ok){let r=n.statusText;try{const s=await n.json();r=s.detail||s.message||JSON.stringify(s)}catch{}throw new gr(n.status,r)}}async function G0(){return ht(lt("/api/models"))}async function Z0(e){const t=`/api/chat/generation/${encodeURIComponent(e)}`;return ht(lt(t))}async function Qu(e,t){const n=`/api/chat/session/${encodeURIComponent(e)}/messages/${encodeURIComponent(t)}`;await Uo(lt(n),{method:"DELETE"})}async function K0(){return ht(lt("/api/clients/svelte/llm"))}async function el(e){const t={...e};return e.parameters&&(e.parameters.temperature!=null&&(t.temperature=e.parameters.temperature),e.parameters.max_tokens!=null&&(t.max_tokens=e.parameters.max_tokens)),ht(lt("/api/clients/svelte/llm"),{method:"PUT",body:JSON.stringify(t)})}async function Y0(){return{system_prompt:(await ht(lt("/api/clients/svelte/llm"))).system_prompt}}async function J0(e){return{system_prompt:(await ht(lt("/api/clients/svelte/llm"),{method:"PUT",body:JSON.stringify({system_prompt:e.system_prompt})})).system_prompt}}async function Qs(){return ht(lt("/api/mcp/servers/"))}async function X0(e){return ht(lt("/api/mcp/servers/connect"),{method:"POST",body:JSON.stringify({url:e})})}async function Q0(e){await Uo(lt(`/api/mcp/servers/${encodeURIComponent(e)}`),{method:"DELETE"})}async function tl(e,t){const n=`/api/mcp/servers/${encodeURIComponent(e)}`;return ht(lt(n),{method:"PATCH",body:JSON.stringify(t)})}async function ep(){return ht(lt("/api/mcp/servers/refresh"),{method:"POST",body:JSON.stringify({})})}async function nl(e){return ht(lt(`/api/mcp/preferences/${encodeURIComponent(e)}`))}async function ri(e,t){return ht(lt(`/api/mcp/preferences/${encodeURIComponent(e)}`),{method:"PUT",body:JSON.stringify({enabled_servers:t})})}async function tp(){return ht(lt("/api/google-auth/status"))}async function np(e){return ht(lt("/api/google-auth/authorize"),{method:"POST",body:JSON.stringify(e)})}async function rp(){return ht(lt("/api/monarch-auth/status"))}async function ap(e){return ht(lt("/api/monarch-auth/credentials"),{method:"POST",body:JSON.stringify(e)})}async function sp(){return ht(lt("/api/monarch-auth/credentials"),{method:"DELETE"})}async function op(){return ht(lt("/api/spotify-auth/status"))}async function ip(e){return ht(lt("/api/spotify-auth/authorize"),{method:"POST",body:JSON.stringify(e)})}async function up(e,t){const n=new FormData;n.append("file",e),n.append("session_id",t);const r=await fetch(lt("/api/uploads"),{method:"POST",body:n});if(!r.ok){let s=r.statusText||"Upload failed";try{s=(await r.json())?.detail??s}catch{}throw new gr(r.status||0,s)}return await r.json()}const lp=/\n\n|\r\r|\r\n\r\n/;async function cp(e,{onChunk:t,onDone:n,onError:r,onSession:s,onNotice:o,signal:i}={}){const u=await fetch(lt("/api/chat/stream"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream"},body:JSON.stringify(e),signal:i});if(!u.ok||!u.body){const c=u.statusText||"Failed to connect to chat stream",g=new gr(u.status||0,c);throw r?.(g),g}const l=u.body.getReader(),d=new TextDecoder;let f="";try{for(;;){const{value:c,done:g}=await l.read();if(g)break;f+=d.decode(c,{stream:!0});const m=f.split(lp);f=m.pop()??"";for(const h of m){const T=Xu(h);for(const A of T){if(A.event==="session"&&A.data){try{const E=JSON.parse(A.data);E.session_id&&s?.(E.session_id)}catch(E){console.warn("Failed to parse session payload",E)}continue}if(A.event==="notice"){if(A.data)try{const E=JSON.parse(A.data);o?.(E)}catch(E){console.warn("Failed to parse notice payload",E,A.data)}continue}if(A.event!=="message"){t?.({choices:[],object:"event",meta:{event:A.event,data:A.data}},A);continue}if(A.data==="[DONE]"){n?.();return}if(A.data)try{const E=JSON.parse(A.data);t?.(E,A)}catch(E){console.warn("Failed to parse SSE chunk",E,A.data)}}}}if(f.trim()){const c=Xu(f);for(const g of c)if(g.event==="session"&&g.data)try{const m=JSON.parse(g.data);m.session_id&&s?.(m.session_id)}catch(m){console.warn("Failed to parse session payload",m)}else if(g.event==="notice"){if(g.data)try{const m=JSON.parse(g.data);o?.(m)}catch(m){console.warn("Failed to parse notice payload",m,g.data)}}else if(g.event==="message"){if(g.data==="[DONE]")n?.();else if(g.data)try{const m=JSON.parse(g.data);t?.(m,g)}catch(m){console.warn("Failed to parse SSE chunk",m,g.data)}}}n?.()}catch(c){if(c instanceof DOMException&&c.name==="AbortError")return;const g=c instanceof Error?c:new Error(String(c));throw r?.(g),g}finally{l.releaseLock()}}function Hs(e,t){return{name:e.name,model:e.llm?.model??"unknown",provider:null,parameters:null,supports_tools:e.llm?.supports_tools??null,system_prompt:e.llm?.system_prompt??null,suggestions:null,model_filters:e.model_filters??null,is_default:t,created_at:e.created_at??new Date().toISOString(),updated_at:e.updated_at??new Date().toISOString()}}function dp(e,t){return{name:e.name,model:e.llm?.model??"unknown",is_default:t,has_filters:!!e.model_filters,created_at:e.created_at??new Date().toISOString(),updated_at:e.updated_at??new Date().toISOString()}}async function ds(){const e=await ht(lt("/api/clients/svelte/presets"));return e.presets.map((t,n)=>dp(t,n===e.active_index))}async function fp(e){const t=await ht(lt("/api/clients/svelte/presets")),n=t.presets.find(s=>s.name===e);if(!n)throw new gr(404,`Preset not found: ${e}`);const r=t.presets.indexOf(n);return Hs(n,r===t.active_index)}async function Yc(){const[e,t]=await Promise.all([ht(lt("/api/mcp/preferences/svelte")),ht(lt("/api/mcp/servers/"))]),n=e.enabled_servers??t.servers.map(s=>s.id),r={};for(const s of t.servers)s.disabled_tools.length>0&&(r[s.id]=s.disabled_tools);return{enabled_servers:n,disabled_tools:r}}async function pp(e){const[t,n]=await Promise.all([ht(lt("/api/clients/svelte/llm")),Yc()]),r={name:e.name,llm:t,model_filters:e.model_filters,...n},s=await ht(lt("/api/clients/svelte/presets"),{method:"POST",body:JSON.stringify(r)}),o=s.presets.find(u=>u.name===e.name);if(!o)throw new gr(500,"Failed to create preset");const i=s.presets.indexOf(o);return Hs(o,i===s.active_index)}async function vp(e,t){const[n,r,s]=await Promise.all([ht(lt("/api/clients/svelte/presets")),ht(lt("/api/clients/svelte/llm")),Yc()]),o=n.presets.findIndex(l=>l.name===e);if(o===-1)throw new gr(404,`Preset not found: ${e}`);const i=await ht(lt(`/api/clients/svelte/presets/${o}`),{method:"PUT",body:JSON.stringify({llm:r,model_filters:t?.model_filters??null,...s})}),u=i.presets[o];if(!u)throw new gr(500,"Failed to save preset snapshot");return Hs(u,o===i.active_index)}async function mp(e){return await Uo(lt(`/api/clients/svelte/presets/by-name/${encodeURIComponent(e)}`),{method:"DELETE"}),{deleted:!0}}async function hp(e,t=!0){const n=`/api/clients/svelte/presets/by-name/${encodeURIComponent(e)}/apply`,r=await ht(lt(n),{method:"POST",body:JSON.stringify({})});if(!t){const s=r.llm;return{name:e,model:s?.model??"unknown",provider:null,parameters:null,supports_tools:s?.supports_tools??null,system_prompt:s?.system_prompt??null,suggestions:null,model_filters:null,is_default:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}return fp(e)}async function gp(e){const t=`/api/clients/svelte/presets/by-name/${encodeURIComponent(e)}/set-active`,n=await ht(lt(t),{method:"POST",body:JSON.stringify({})}),r=n.presets.find(o=>o.name===e);if(!r)throw new gr(404,`Preset not found: ${e}`);const s=n.presets.indexOf(r);return Hs(r,s===n.active_index)}async function _p(){const e=await ht(lt("/api/clients/svelte/presets"));return e.active_index!==null&&e.presets[e.active_index]?Hs(e.presets[e.active_index],!0):null}async function Jc(){return ht(lt("/api/clients/svelte/stt"))}async function bp(e){return ht(lt("/api/clients/svelte/stt"),{method:"PUT",body:JSON.stringify(e)})}async function Xc(e=50,t=0,n){let r=`/api/chat/conversations?limit=${e}&offset=${t}`;return n&&(r+=`&search=${encodeURIComponent(n)}`),(await ht(lt(r))).conversations}async function yp(e){const t=`/api/chat/session/${encodeURIComponent(e)}/messages`;return ht(lt(t))}async function rl(e,t){const n=`/api/chat/session/${encodeURIComponent(e)}/save`,r={};return t?.title&&(r.title=t.title),t?.llmSettings&&(r.llm_settings=t.llmSettings),ht(lt(n),{method:"POST",body:JSON.stringify(r)})}async function xp(e){const t=`/api/chat/session/${encodeURIComponent(e)}/unsave`;await ht(lt(t),{method:"POST"})}async function kp(e){const t=`/api/chat/conversations/${encodeURIComponent(e)}`;await Uo(lt(t),{method:"DELETE"})}async function wp(e,t){const n=`/api/chat/session/${encodeURIComponent(e)}`;await ht(lt(n),{method:"PATCH",body:JSON.stringify({llm_settings:t})})}async function Ui(e){const t=`/api/chat/session/${encodeURIComponent(e)}/generate-title`;return ht(lt(t),{method:"POST"})}const Qc=[{key:"total_cost",label:"Total cost"},{key:"created_at",label:"Created"},{key:"model",label:"Model"},{key:"origin",label:"Origin"},{key:"usage",label:"Usage"},{key:"is_byok",label:"Self-hosted"},{key:"cache_discount",label:"Cache discount"},{key:"upstream_inference_cost",label:"Upstream inference cost"},{key:"cancelled",label:"Cancelled"},{key:"provider_name",label:"Provider"},{key:"latency",label:"Latency (ms)"},{key:"moderation_latency",label:"Moderation latency (ms)"},{key:"generation_time",label:"Generation time (ms)"},{key:"finish_reason",label:"Finish reason"},{key:"native_finish_reason",label:"Native finish reason"},{key:"tokens_prompt",label:"Prompt tokens"},{key:"tokens_completion",label:"Completion tokens"},{key:"native_tokens_prompt",label:"Native prompt tokens"},{key:"native_tokens_completion",label:"Native completion tokens"},{key:"native_tokens_reasoning",label:"Native reasoning tokens"},{key:"num_media_prompt",label:"Prompt media"},{key:"num_media_completion",label:"Completion media"},{key:"num_search_results",label:"Search results"}];function al(e){if(e==null||e==="")return{text:"â",isMultiline:!1};if(typeof e=="boolean")return{text:e?"Yes":"No",isMultiline:!1};if(typeof e=="number")return{text:Number.isFinite(e)?e.toString():String(e),isMultiline:!1};if(typeof e=="object")try{const n=JSON.stringify(e,null,2);return{text:n,isMultiline:n.includes(`
`)}}catch(n){console.warn("Failed to stringify generation detail value",n,e);const r=String(e);return{text:r,isMultiline:r.includes(`
`)}}const t=String(e);return{text:t,isMultiline:t.includes(`
`)}}const Sp="modulepreload",Ep=function(e){return"/"+e},sl={},Cp=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(c=>({status:"fulfilled",value:c}),c=>({status:"rejected",reason:c}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=i?.nonce||i?.getAttribute("nonce");s=l(n.map(d=>{if(d=Ep(d),d in sl)return;sl[d]=!0;const f=d.endsWith(".css"),c=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${c}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Sp,f||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((m,h)=>{g.addEventListener("load",m),g.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return s.then(i=>{for(const u of i||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},ol={enabled:!1,engine:null,maxResults:5,searchPrompt:"",contextSize:null};function il(e,t){const n={...t};if(Object.prototype.hasOwnProperty.call(e,"enabled")&&(n.enabled=!!e.enabled),Object.prototype.hasOwnProperty.call(e,"engine")){const r=e.engine;n.engine=r==="native"||r==="exa"?r:null}if(Object.prototype.hasOwnProperty.call(e,"maxResults")){const r=e.maxResults;if(r==null)n.maxResults=null;else{const s=Number(r);Number.isFinite(s)&&s>0?n.maxResults=Math.min(Math.round(s),25):n.maxResults=t.maxResults}}if(Object.prototype.hasOwnProperty.call(e,"searchPrompt")){const r=e.searchPrompt;n.searchPrompt=typeof r=="string"?r:t.searchPrompt}if(Object.prototype.hasOwnProperty.call(e,"contextSize")){const r=e.contextSize;n.contextSize=r==="low"||r==="medium"||r==="high"?r:null}return n}function Ap(e=ol){const t=rn({...e});function n(i){t.update(u=>il(i,u))}function r(i){t.update(u=>il({enabled:i},u))}function s(){t.set({...ol})}const o=xn(t,i=>i.enabled);return{subscribe:t.subscribe,get current(){return rt(t)},update:n,setEnabled:r,reset:s,isEnabled:o}}const pr=Ap(),Tp=[{label:"GPT",keywords:["gpt","openai","o1","o3"]},{label:"Claude",keywords:["claude"]},{label:"Gemini",keywords:["gemini","palm-2","palm2"]},{label:"Grok",keywords:["grok"]},{label:"Cohere",keywords:["cohere","command"]},{label:"Nova",keywords:["nova"]},{label:"Qwen",keywords:["qwen"]},{label:"Yi",keywords:["yi"]},{label:"DeepSeek",keywords:["deepseek"]},{label:"Mistral",keywords:["mistral","mixtral"]},{label:"Llama4",keywords:["llama-4"]},{label:"Llama3",keywords:["llama-3"]},{label:"Llama2",keywords:["llama-2"]},{label:"RWKV",keywords:["rwkv"]},{label:"Router",keywords:["router"]},{label:"Media",keywords:["media"]},{label:"Other",keywords:[]}];function ed(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()){const t=Number(e);return Number.isFinite(t)?t:null}return null}function mu(e){const t=[];if(Array.isArray(e)){for(const n of e)typeof n=="string"&&n.trim()&&t.push(n.trim().toLowerCase());return t}if(typeof e=="string"&&e.trim())return e.split(/[,/]/).map(n=>n.trim().toLowerCase()).filter(Boolean);if(e&&typeof e=="object"){const n=Object.values(e);for(const r of n)t.push(...mu(r))}return t}function hu(e){const t=new Set,{capabilities:n,tags:r}=e;if(n&&typeof n=="object"){const o=n;for(const i of["input_modalities","input","modalities","inputs"])s(o[i])}return s(e.input_modalities),s(r),Array.from(t);function s(o){for(const i of mu(o))t.add(i)}}function gu(e){const t=new Set,{capabilities:n,tags:r}=e;if(n&&typeof n=="object"){const o=n;for(const u of["output_modalities","output","outputs"])s(o[u]);const i=o.modalities;i&&(s(i.output),s(i.outputs))}return s(e.output_modalities),s(r),Array.from(t);function s(o){for(const i of mu(o))t.add(i)}}const td=1e6,nd=6,Dp=["prompt_price_per_million","input_price_per_million","input_token_price_per_million"],Mp=["prompt_price","input_price","input_token_price"],Fp=["prompt","input","input_tokens","prompt_tokens"],Pp=["completion_price_per_million","output_price_per_million","output_token_price_per_million"],Ip=["completion_price","output_price","output_token_price"],Np=["completion","output","output_tokens","completion_tokens"];function rd(e,t){return e===null||!Number.isFinite(e)||e<0?null:e===0?0:Number(e.toFixed(t))}function ad(e,t,n){return e===null||!Number.isFinite(e)||e<0?null:e===0?0:Number((e*t).toFixed(n))}function wo(e,t){for(const n of t){if(!(n in e))continue;const r=ed(e[n]);if(r!==null)return r}return null}function Lp(e){const t=[],n=s=>{s&&typeof s=="object"&&t.push(s)};n(e.pricing),e.provider&&typeof e.provider=="object"&&n(e.provider.pricing);const r=e.top_provider;return r&&typeof r=="object"&&n(r.pricing),t}function Op(e,t,n,r,s){const o=wo(e,t),i=rd(o,s);if(i!==null)return i;const u=wo(e,n),l=ad(u,r,s);return l!==null?l:null}function $p(e,t,n,r,s){if(!e)return null;const o=e,i=wo(o,t),u=rd(i,s);if(u!==null)return u;const l=wo(o,n),d=ad(l,r,s);return d!==null?d:null}function sd(e,t,n,r,s,o){const u=Op(e,t,n,s,o);if(u!==null)return u;const l=[...r,...n];for(const d of Lp(e)){const f=$p(d,t,l,s,o);if(f!==null)return f}return null}function od(e){return sd(e,Dp,Mp,Fp,td,nd)}function Rp(e){return sd(e,Pp,Ip,Np,td,nd)}function fo(e){return od(e)}function Ts(e){const t=[e.max_context,e.context_length,e.context_window,e.context_tokens,e.stats?.context_length];for(const n of t){const r=ed(n);if(r!==null)return r}return null}function zp(e){return e===null?"â":e===0?"FREE":e>=100?`$${e.toFixed(0)}`:e>=10?`$${e.toFixed(1)}`:e>=1?`$${e.toFixed(2)}`:e>=.1?`$${e.toFixed(2)}`:`$${e.toFixed(3)}`}function eo(e){return e===null?"Unknown":e>=1e3?`${(e/1e3).toFixed(1)}k tokens`:`${e} tokens`}function id(e){const t=e.provider;if(t&&typeof t=="object"){const r=t,s=r.display_name;if(typeof s=="string"&&s.trim())return s.trim();const o=r.name??r.id??r.slug;if(typeof o=="string"&&o.trim())return o.trim()}if(typeof e.provider=="string")return e.provider.trim()||null;const n=e.id?.split("/")??[];return n.length>=2?n[n.length-2]??null:null}function ud(e){const t=new Set,n=[];typeof e.id=="string"&&n.push(e.id.toLowerCase()),typeof e.name=="string"&&n.push(e.name.toLowerCase()),Array.isArray(e.tags)&&n.push(...e.tags.map(s=>String(s).toLowerCase()));const r=n.join(" ");for(const s of Tp)s.label!=="Other"&&s.keywords.some(o=>r.includes(o))&&t.add(s.label);return t.size===0&&t.add("Other"),Array.from(t)}function _u(e){const t=new Set,n=[],r=e;if(n.push(r.parameters,r.supported_parameters),e.capabilities&&typeof e.capabilities=="object"){const s=e.capabilities;n.push(s.parameters,s.supports_parameters)}for(const s of n)if(s){if(Array.isArray(s)){for(const o of s){const i=ai(o);i&&t.add(i)}continue}if(typeof s=="object")for(const o of Object.keys(s)){const i=ai(o);i&&t.add(i)}if(typeof s=="string"){const o=ai(s);o&&t.add(o)}}return Array.from(t)}function ld(e){const t=e,n=[t.is_moderated,t.moderation,t.requires_moderation],r=e.capabilities;r&&typeof r=="object"&&(n.push(r.is_moderated),n.push(r.requires_moderation));const s=e.provider;s&&typeof s=="object"&&n.push(s.is_moderated);const o=t.top_provider;o&&typeof o=="object"&&n.push(o.is_moderated);const i=t.metadata;i&&typeof i=="object"&&n.push(i.is_moderated);for(const u of n)if(typeof u=="boolean")return u?"moderated":"unmoderated";return null}function ai(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t?t.replace(/[^a-z0-9_\-]/g,"_"):null}function Ea(){return{include:[],exclude:[]}}function ji(){return{search:"",inputModalities:Ea(),outputModalities:Ea(),minContext:null,minPromptPrice:null,maxPromptPrice:null,sort:"newness",series:Ea(),providers:Ea(),supportedParameters:Ea(),moderation:Ea()}}const Bp={inputModalities:[],outputModalities:[],minContext:null,maxContext:null,minPromptPrice:null,maxPromptPrice:null,series:[],providers:[],supportedParameters:[],moderation:[]},Up={models:[],loading:!1,error:null,filters:ji(),facets:{...Bp}};function jp(e){const t=new Set,n=new Set;let r=null,s=null,o=null,i=null;const u=new Set,l=new Set,d=new Set,f=new Set;for(const c of e){for(const A of hu(c))t.add(A);for(const A of gu(c))n.add(A);const g=Ts(c);g!==null&&(r=r===null?g:Math.min(r,g),s=s===null?g:Math.max(s,g));const m=fo(c);m!==null&&(o=o===null?m:Math.min(o,m),i=i===null?m:Math.max(i,m));for(const A of ud(c))u.add(A);const h=id(c);h&&l.add(h);for(const A of _u(c))d.add(A);const T=ld(c);T&&f.add(T)}return{inputModalities:Array.from(t).sort(),outputModalities:Array.from(n).sort(),minContext:r,maxContext:s,minPromptPrice:o,maxPromptPrice:i,series:Array.from(u).sort(),providers:Array.from(l).sort(),supportedParameters:Array.from(d).sort(),moderation:Array.from(f).sort()}}function bu(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t||null}function si(e){const t=[];for(const n of e){const r=bu(n);r&&t.push(r)}return t}function qp(e,t){return e.include.includes(t)?"include":e.exclude.includes(t)?"exclude":"neutral"}function cd(e,t,n){const r=e.include.filter(o=>o!==t),s=e.exclude.filter(o=>o!==t);return n==="include"?{include:[...r,t],exclude:s}:n==="exclude"?{include:r,exclude:[...s,t]}:{include:r,exclude:s}}function Hp(e,t,n){const r=bu(t);return r?cd(e,r,n):e}function Ca(e,t){const n=si(e.include),r=si(e.exclude);if(n.length===0&&r.length===0)return!0;const s=new Set(si(t));if(n.length>0){for(const o of n)if(!s.has(o))return!1}if(r.length>0){for(const o of r)if(s.has(o))return!1}return!0}function Wp(e){const{models:t,filters:n}=e;if(!Array.isArray(t)||t.length===0)return[];const r=n.search.toLowerCase().split(/\s+/).filter(Boolean),s=t.filter(u=>{if(r.length>0){const g=[u.id,u.name,u.description,(u.tags??[]).join(" ")].join(" ").toLowerCase();if(!r.every(h=>g.includes(h)))return!1}if(!Ca(n.inputModalities,hu(u))||!Ca(n.outputModalities,gu(u)))return!1;const l=Ts(u);if(n.minContext!==null&&(l===null||l<n.minContext))return!1;const d=fo(u);if(n.minPromptPrice!==null&&(d===null||d<n.minPromptPrice)||n.maxPromptPrice!==null&&(d===null||d>n.maxPromptPrice)||!Ca(n.series,ud(u)))return!1;const f=id(u);if(!Ca(n.providers,f?[f]:[])||!Ca(n.supportedParameters,_u(u)))return!1;const c=ld(u);return!!Ca(n.moderation,c?[c]:[])}),o={newness:(u,l)=>{const d=Date.parse(u.created_at??"")||0;return(Date.parse(l.created_at??"")||0)-d},price:(u,l)=>{const d=fo(u),f=fo(l),c=d??Number.POSITIVE_INFINITY,g=f??Number.POSITIVE_INFINITY;return c===g?0:c<g?-1:1},context:(u,l)=>{const d=Ts(u),f=Ts(l),c=d??-1/0,g=f??-1/0;return c===g?0:g-c}},i=o[n.sort]??o.newness;return s.slice().sort(i)}function Aa(e,t){const n=bu(t);if(!n)return e;const r=qp(e,n);return cd(e,n,r==="include"?"exclude":r==="exclude"?"neutral":"include")}function Vp(e,t,n,r){const s={...e};return s[t]=Hp(e[t],n,r),s}function Ta(e){return e===null||Number.isNaN(e)||!Number.isFinite(e)||e<0?null:e}function er(e){return e.include.length>0||e.exclude.length>0}function Gp(e){return!!(e.search.trim()||er(e.inputModalities)||er(e.outputModalities)||er(e.series)||er(e.providers)||er(e.supportedParameters)||er(e.moderation)||e.minContext!==null||e.minPromptPrice!==null||e.maxPromptPrice!==null)}function Zp(e,t,n,r){if(!Array.isArray(e)||e.length===0){if(n){const o=t.find(i=>i.id===n);return o?[o]:[{id:n,name:`${n} (unavailable)`}]}return[]}if(!n||e.some(o=>o.id===n))return e;const s=t.find(o=>o.id===n);return s?r?e:[s,...e]:[{id:n,name:`${n} (unavailable)`},...e]}function Kp(e,t){return!Array.isArray(e)||e.length===0||!t?null:e.find(r=>r.id===t)??null}function Yp(){const e=rn({...Up});async function t(){e.update(P=>({...P,loading:!0,error:null}));try{const P=await G0(),I=Array.isArray(P.data)?P.data:[],Q=jp(I);return e.update(Y=>({...Y,models:I,facets:Q,loading:!1,error:null})),P}catch(P){const I=P instanceof Error?P.message:String(P);e.update(Q=>({...Q,loading:!1,error:I}))}}function n(P){e.update(I=>({...I,filters:{...I.filters,search:P}}))}function r(P){e.update(I=>({...I,filters:{...I.filters,inputModalities:Aa(I.filters.inputModalities,P)}}))}function s(P){e.update(I=>({...I,filters:{...I.filters,outputModalities:Aa(I.filters.outputModalities,P)}}))}function o(P){e.update(I=>({...I,filters:{...I.filters,series:Aa(I.filters.series,P)}}))}function i(P){e.update(I=>({...I,filters:{...I.filters,providers:Aa(I.filters.providers,P)}}))}function u(P){e.update(I=>({...I,filters:{...I.filters,supportedParameters:Aa(I.filters.supportedParameters,P)}}))}function l(P){e.update(I=>({...I,filters:{...I.filters,moderation:Aa(I.filters.moderation,P)}}))}function d(P,I,Q){e.update(Y=>({...Y,filters:Vp(Y.filters,P,I,Q)}))}function f(P){e.update(I=>({...I,filters:{...I.filters,minContext:Ta(P)}}))}function c(P){e.update(I=>({...I,filters:{...I.filters,minPromptPrice:Ta(P)}}))}function g(P){e.update(I=>({...I,filters:{...I.filters,maxPromptPrice:Ta(P)}}))}function m(P){e.update(I=>({...I,filters:{...I.filters,sort:P}}))}function h(){e.update(P=>{const I=ji();return I.sort=P.filters.sort,{...P,filters:I}})}function T(){const P=rt(e).filters,I={};return er(P.inputModalities)&&(I.inputModalities=P.inputModalities),er(P.outputModalities)&&(I.outputModalities=P.outputModalities),P.minContext!==null&&(I.minContext=P.minContext),P.minPromptPrice!==null&&(I.minPromptPrice=P.minPromptPrice),P.maxPromptPrice!==null&&(I.maxPromptPrice=P.maxPromptPrice),er(P.series)&&(I.series=P.series),er(P.providers)&&(I.providers=P.providers),er(P.supportedParameters)&&(I.supportedParameters=P.supportedParameters),er(P.moderation)&&(I.moderation=P.moderation),I.sort=P.sort,I}function A(P){e.update(I=>{const Q=ji();return Q.search=I.filters.search,P.inputModalities&&(Q.inputModalities=P.inputModalities),P.outputModalities&&(Q.outputModalities=P.outputModalities),P.minContext!==void 0&&(Q.minContext=Ta(P.minContext)),P.minPromptPrice!==void 0&&(Q.minPromptPrice=Ta(P.minPromptPrice)),P.maxPromptPrice!==void 0&&(Q.maxPromptPrice=Ta(P.maxPromptPrice)),P.series&&(Q.series=P.series),P.providers&&(Q.providers=P.providers),P.supportedParameters&&(Q.supportedParameters=P.supportedParameters),P.moderation&&(Q.moderation=P.moderation),P.sort&&(Q.sort=P.sort),{...I,filters:Q}})}const E=xn(e,P=>P.models),C=xn(e,P=>P.loading),k=xn(e,P=>P.error),w=xn(e,P=>P.filters),S=xn(e,P=>P.facets),y=xn(e,P=>Wp(P)),D=xn(e,P=>Gp(P.filters)),z=xn([y,E,D],([P,I,Q])=>{const Y=Q?P:I;return he=>Zp(Y,I,he,Q)}),R=xn(E,P=>I=>Kp(P,I));return{subscribe:e.subscribe,loadModels:t,setSearch:n,toggleInputModality:r,toggleOutputModality:s,toggleSeries:o,toggleProvider:i,toggleSupportedParameter:u,toggleModeration:l,setSelectionState:d,setMinContext:f,setMinPromptPrice:c,setMaxPromptPrice:g,setSort:m,resetFilters:h,getFilters:T,setFilters:A,models:E,loading:C,error:k,filters:w,facets:S,filtered:y,activeFilters:D,selectable:z,activeFor:R}}const mr=Yp(),Jp={loading:!1,saving:!1,applying:null,deleting:null,creating:!1,settingDefault:null,error:null,items:[],lastApplied:null,lastResult:null};function Xp(){const e=rn({...Jp});async function t(){e.update(f=>({...f,loading:!0,error:null}));try{const f=await ds();e.update(c=>({...c,loading:!1,error:null,items:f}))}catch(f){const c=f instanceof Error?f.message:"Failed to load presets.";e.update(g=>({...g,loading:!1,error:c}))}}async function n(f){const c={name:f.trim(),model_filters:mr.getFilters()};if(!c.name)return e.update(g=>({...g,error:"Preset name is required."})),null;e.update(g=>({...g,creating:!0,error:null,lastResult:null}));try{const g=await pp(c),m=await ds();return e.update(h=>({...h,creating:!1,error:null,items:m,lastResult:g})),g}catch(g){const m=g instanceof Error?g.message:"Failed to create preset.";return e.update(h=>({...h,creating:!1,error:m})),null}}async function r(f,c){e.update(g=>({...g,saving:!0,error:null,lastResult:null}));try{const g={...c,model_filters:mr.getFilters()},m=await vp(f,g),h=await ds();return e.update(T=>({...T,saving:!1,error:null,items:h,lastResult:m})),m}catch(g){const m=g instanceof Error?g.message:"Failed to save snapshot.";return e.update(h=>({...h,saving:!1,error:m})),null}}async function s(f){e.update(c=>({...c,deleting:f,error:null}));try{const c=await mp(f),g=await ds();return e.update(m=>({...m,deleting:null,items:g})),!!c?.deleted}catch(c){const g=c instanceof Error?c.message:"Failed to delete preset.";return e.update(m=>({...m,deleting:null,error:g})),!1}}async function o(f){e.update(c=>({...c,applying:f,error:null,lastApplied:null,lastResult:null}));try{const m=rt(e).items.find(T=>T.name===f)?.has_filters??!0,h=await hp(f,m);return h?.model_filters?mr.setFilters(h.model_filters):mr.resetFilters(),e.update(T=>({...T,applying:null,lastApplied:f,lastResult:h})),h}catch(c){const g=c instanceof Error?c.message:"Failed to apply preset.";return e.update(m=>({...m,applying:null,error:g})),null}}async function i(f){e.update(c=>({...c,settingDefault:f,error:null}));try{const c=await gp(f),g=await ds();return e.update(m=>({...m,settingDefault:null,items:g,lastResult:c})),c}catch(c){const g=c instanceof Error?c.message:"Failed to set default preset.";return e.update(m=>({...m,settingDefault:null,error:g})),null}}async function u(){try{return await _p()}catch(f){return console.error("Failed to load default preset:",f),null}}function l(){e.update(f=>({...f,error:null}))}function d(){e.update(f=>({...f,lastApplied:null,lastResult:null}))}return{subscribe:e.subscribe,load:t,create:n,saveSnapshot:r,remove:s,apply:o,setDefault:i,loadDefault:u,clearError:l,clearLastApplied:d}}const ln=Xp();var Qp=F(`<div role="dialog"><div class="web-search-fields svelte-e7nk0k"><label class="svelte-e7nk0k"><span class="svelte-e7nk0k">Engine</span> <select class="select-control svelte-e7nk0k"><option>Auto</option><option>Native</option><option>Exa</option></select></label> <label class="svelte-e7nk0k"><span class="svelte-e7nk0k">Context</span> <select class="select-control svelte-e7nk0k"><option>Default</option><option>Low</option><option>Medium</option><option>High</option></select></label> <label class="svelte-e7nk0k"><span class="svelte-e7nk0k">Max results</span> <input class="input-control svelte-e7nk0k" type="number" min="1" max="25" step="1" inputmode="numeric" pattern="\\\\d*"/></label> <label class="prompt svelte-e7nk0k"><span class="svelte-e7nk0k">Search prompt</span> <textarea class="textarea-control svelte-e7nk0k" rows="4" placeholder="Default: A web search was conducted on {today's_date}. Incorporate the following web search results into your response."></textarea></label></div> <button class="btn btn-ghost btn-small web-search-disable svelte-e7nk0k" type="button">Disable Web Search</button></div>`);function ul(e,t){Pt(t,!1);const n=()=>Mt(pr,"$webSearchStore",r),[r,s]=lr();let o=ie(t,"menuClass",8,"");const i=an();function u(ne){const ae=ne.currentTarget.value;pr.update({engine:ae==="native"||ae==="exa"?ae:null})}function l(ne){const ae=ne.currentTarget.value;pr.update({contextSize:ae==="low"||ae==="medium"||ae==="high"?ae:null})}function d(ne){const ae=ne.currentTarget;if(ae.value===""){pr.update({maxResults:null});return}let re=Math.trunc(Number(ae.value));Number.isFinite(re)&&(re<1&&(re=1),re>25&&(re=25),pr.update({maxResults:re}))}function f(ne){const ae=ne.currentTarget.value;pr.update({searchPrompt:ae})}function c(){pr.setEnabled(!1),i("disable")}Ot();var g=Qp(),m=v(g),h=v(m),T=b(v(h),2),A=v(T);A.value=A.__value="";var E=b(A);E.value=E.__value="native";var C=b(E);C.value=C.__value="exa";var k;Fn(T);var w=b(h,2),S=b(v(w),2),y=v(S);y.value=y.__value="";var D=b(y);D.value=D.__value="low";var z=b(D);z.value=z.__value="medium";var R=b(z);R.value=R.__value="high";var P;Fn(S);var I=b(w,2),Q=b(v(I),2),Y=b(I,2),he=b(v(Y),2),$=b(m,2);U(ne=>{kt(g,1,ne,"svelte-e7nk0k"),k!==(k=(n(),p(()=>n().engine??"")))&&(T.value=(T.__value=(n(),p(()=>n().engine??"")))??"",kn(T,(n(),p(()=>n().engine??"")))),P!==(P=(n(),p(()=>n().contextSize??"")))&&(S.value=(S.__value=(n(),p(()=>n().contextSize??"")))??"",kn(S,(n(),p(()=>n().contextSize??"")))),Et(Q,(n(),p(()=>n().maxResults??""))),Et(he,(n(),p(()=>n().searchPrompt??"")))},[()=>Cs((B(o()),p(()=>`web-search-menu ${o()}`.trim())))]),L("change",T,u),L("change",S,l),L("change",Q,d),L("blur",Q,d),L("input",he,f),L("click",$,c),x(e,g),It(),s()}var e1=ns('<svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 19l-7-7 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),t1=ns('<svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg>'),n1=F('<span class="mobile-preset-label svelte-1vc4gmw"> </span>'),r1=F('<span class="mobile-preset-label svelte-1vc4gmw"><span class="mobile-preset-dot svelte-1vc4gmw"></span> <svg width="12" height="12" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span>'),a1=F('<span class="preset-dropdown-default svelte-1vc4gmw">default</span>'),s1=ns('<svg class="preset-dropdown-check svelte-1vc4gmw" width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 6L9 17l-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),o1=F('<button type="button" role="menuitem"><span class="preset-dropdown-name svelte-1vc4gmw"> </span> <!> <!></button>'),i1=F('<div class="preset-dropdown svelte-1vc4gmw" role="menu"><!> <div class="preset-dropdown-divider svelte-1vc4gmw"></div> <button class="preset-dropdown-item preset-dropdown-settings svelte-1vc4gmw" type="button"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.89 3.31.876 2.42 2.42a1.724 1.724 0 0 0 1.066 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.572c.89 1.543-.876 3.31-2.42 2.42a1.724 1.724 0 0 0-2.572 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.89-3.31-.876-2.42-2.42a1.724 1.724 0 0 0-1.066-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.572c-.89-1.543.876-3.31 2.42-2.42.965.557 2.185.21 2.573-1.066Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg> <span>Manage Presets</span></button></div>'),u1=F('<div class="mobile-preset-wrapper svelte-1vc4gmw"><button class="mobile-model-name mobile-preset-btn svelte-1vc4gmw" type="button" title="Switch preset" aria-haspopup="true"><!></button> <!></div>'),l1=F('<span class="mobile-model-name svelte-1vc4gmw"><!></span>'),c1=F('<div class="mobile-web-search-wrapper svelte-1vc4gmw"><button type="button" aria-haspopup="true"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"></circle><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" stroke="currentColor" stroke-width="1.5"></path></svg></button> <!></div>'),d1=F('<div class="model-picker-loading svelte-1vc4gmw" aria-hidden="true"><select disabled><option>Loadingâ¦</option></select></div>'),f1=F('<div class="preset-badge applying svelte-1vc4gmw" role="group" aria-live="polite"><button class="preset-main svelte-1vc4gmw" type="button"><span class="spinner svelte-1vc4gmw" aria-hidden="true"></span> <span class="label svelte-1vc4gmw">Preset</span> <span class="name svelte-1vc4gmw"> </span></button></div>'),p1=F('<span class="preset-default-tag svelte-1vc4gmw">(default)</span>'),v1=F('<button class="preset-close svelte-1vc4gmw" type="button" title="Reset to default preset" aria-label="Reset to default preset"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M18 6 6 18M6 6l12 12" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"></path></svg></button>'),m1=F('<div class="preset-badge svelte-1vc4gmw" role="group" aria-live="polite"><button class="preset-main svelte-1vc4gmw" type="button"><span class="dot svelte-1vc4gmw" aria-hidden="true"></span> <span class="label svelte-1vc4gmw">Preset</span> <span class="name svelte-1vc4gmw"> </span></button> <!></div>'),h1=F('<div class="history-search-wrapper pwa-full-row svelte-1vc4gmw"><svg class="history-search-icon svelte-1vc4gmw" width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"></circle><path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <input class="history-search-input svelte-1vc4gmw" type="text" placeholder="Search..."/> <button class="history-search-close svelte-1vc4gmw" type="button" aria-label="Close history"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M18 6 6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button></div>'),g1=F('<button class="btn btn-ghost btn-small pwa-full-row svelte-1vc4gmw" type="button" aria-label="Conversation history" title="Conversation history"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"></circle><polyline points="12 6 12 12 16 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></polyline></svg> <span>History</span></button>'),_1=F('<div class="history-empty svelte-1vc4gmw"><!></div>'),b1=F('<button type="button" aria-label="Regenerate title"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svelte-1vc4gmw"><path d="M1 4v6h6M23 20v-6h-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>'),y1=F('<div class="history-item svelte-1vc4gmw" role="menuitem" tabindex="0"><span class="history-item-title svelte-1vc4gmw"> </span> <span class="history-item-meta svelte-1vc4gmw"> </span> <!> <button class="history-item-delete svelte-1vc4gmw" type="button" aria-label="Delete conversation"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),x1=F('<div class="history-group-label svelte-1vc4gmw"> </div> <!>',1),k1=F('<div class="history-dropdown svelte-1vc4gmw" role="menu"><!></div>'),w1=F('<button class="btn btn-ghost btn-small pwa-full-row mcp-btn svelte-1vc4gmw" type="button" aria-label="MCP servers" title="MCP servers"><svg width="18" height="18" viewBox="0 0 195 195" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M25 97.8528L92.8823 29.9706C102.255 20.598 117.451 20.598 126.823 29.9706V29.9706C136.196 39.3431 136.196 54.5391 126.823 63.9117L75.5581 115.177" stroke="currentColor" stroke-width="12" stroke-linecap="round"></path><path d="M76.2653 114.47L126.823 63.9117C136.196 54.5391 151.392 54.5391 160.765 63.9117L161.118 64.2652C170.491 73.6378 170.491 88.8338 161.118 98.2063L99.7248 159.6C96.6006 162.724 96.6006 167.789 99.7248 170.913L112.331 183.52" stroke="currentColor" stroke-width="12" stroke-linecap="round"></path><path d="M109.853 46.9411L59.6482 97.1457C50.2757 106.518 50.2757 121.714 59.6482 131.087V131.087C69.0208 140.459 84.2168 140.459 93.5894 131.087L143.794 80.8822" stroke="currentColor" stroke-width="12" stroke-linecap="round"></path></svg> <span>MCP Servers</span></button> <button class="btn btn-ghost btn-small pwa-full-row system-settings svelte-1vc4gmw" type="button" aria-label="System settings" title="System settings"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect x="3" y="4" width="18" height="12" rx="2" stroke="currentColor" stroke-width="1.5"></rect><path d="M8 20h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path d="M3 8h18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg> <span>System Settings</span></button> <div class="history-wrapper pwa-full-row svelte-1vc4gmw"><!> <!></div>',1),S1=F('<div class="web-search-wrapper svelte-1vc4gmw"><button type="button" aria-haspopup="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"></circle><path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" stroke="currentColor" stroke-width="1.5"></path></svg></button> <!></div> <button class="btn btn-ghost btn-small settings-icon mcp-btn" type="button" aria-label="MCP servers" title="MCP servers"><svg width="18" height="18" viewBox="0 0 195 195" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M25 97.8528L92.8823 29.9706C102.255 20.598 117.451 20.598 126.823 29.9706V29.9706C136.196 39.3431 136.196 54.5391 126.823 63.9117L75.5581 115.177" stroke="currentColor" stroke-width="12" stroke-linecap="round"></path><path d="M76.2653 114.47L126.823 63.9117C136.196 54.5391 151.392 54.5391 160.765 63.9117L161.118 64.2652C170.491 73.6378 170.491 88.8338 161.118 98.2063L99.7248 159.6C96.6006 162.724 96.6006 167.789 99.7248 170.913L112.331 183.52" stroke="currentColor" stroke-width="12" stroke-linecap="round"></path><path d="M109.853 46.9411L59.6482 97.1457C50.2757 106.518 50.2757 121.714 59.6482 131.087V131.087C69.0208 140.459 84.2168 140.459 93.5894 131.087L143.794 80.8822" stroke="currentColor" stroke-width="12" stroke-linecap="round"></path></svg></button> <button class="btn btn-ghost btn-small settings-icon system-settings" type="button" aria-label="System settings" title="System settings"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect x="3" y="4" width="18" height="12" rx="2" stroke="currentColor" stroke-width="1.5"></rect><path d="M8 20h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><path d="M3 8h18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>',1),E1=F('<div class="history-search-wrapper svelte-1vc4gmw"><svg class="history-search-icon svelte-1vc4gmw" width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"></circle><path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg> <input class="history-search-input svelte-1vc4gmw" type="text" placeholder="Search..."/> <button class="history-search-close svelte-1vc4gmw" type="button" aria-label="Close history"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M18 6 6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button></div>'),C1=F('<button class="btn btn-ghost btn-small" type="button" aria-label="Conversation history" title="Conversation history">History</button>'),A1=F('<div class="history-empty svelte-1vc4gmw"><!></div>'),T1=F('<button type="button" aria-label="Regenerate title"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svelte-1vc4gmw"><path d="M1 4v6h6M23 20v-6h-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>'),D1=F('<div class="history-item svelte-1vc4gmw" role="menuitem" tabindex="0"><span class="history-item-title svelte-1vc4gmw"> </span> <span class="history-item-meta svelte-1vc4gmw"> </span> <!> <button class="history-item-delete svelte-1vc4gmw" type="button" aria-label="Delete conversation"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div>'),M1=F('<div class="history-group-label svelte-1vc4gmw"> </div> <!>',1),F1=F('<div class="history-dropdown svelte-1vc4gmw" role="menu"><!></div>'),P1=F('<button class="btn btn-ghost btn-small settings-icon kiosk-btn" type="button" aria-label="Kiosk settings" title="Kiosk settings"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><rect x="4" y="2" width="16" height="12" rx="1.5" stroke="currentColor" stroke-width="1.5"></rect><path d="M12 14v4M8 22h8M8 18h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button> <button class="btn btn-ghost btn-small settings-icon cli-btn" type="button" aria-label="CLI settings" title="CLI settings"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M4 17l6-6-6-6M12 19h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <button type="button"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><polyline points="17 21 17 13 7 13 7 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></polyline><polyline points="7 3 7 8 15 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></polyline></svg></button> <div class="history-wrapper svelte-1vc4gmw"><!> <!></div> <button class="btn btn-ghost btn-small desktop-clear svelte-1vc4gmw" type="button">Clear</button>',1),I1=F('<button class="drawer-backdrop svelte-1vc4gmw" type="button" aria-label="Close menu" tabindex="-1"></button>'),N1=F('<header class="topbar chat-header svelte-1vc4gmw"><div class="mobile-bar svelte-1vc4gmw"><button class="hamburger-btn svelte-1vc4gmw" type="button" aria-controls="chat-header-controls"><!></button> <!> <!> <button type="button"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><polyline points="17 21 17 13 7 13 7 21" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></polyline><polyline points="7 3 7 8 15 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></polyline></svg></button> <button class="btn btn-ghost btn-small mobile-clear svelte-1vc4gmw" type="button" aria-label="Clear conversation">Clear</button></div> <div class="topbar-content svelte-1vc4gmw"><div class="controls svelte-1vc4gmw" id="chat-header-controls"><button class="btn btn-ghost btn-small explorer svelte-1vc4gmw" type="button">Explorer</button> <div class="model-group svelte-1vc4gmw"><!> <button class="btn btn-ghost btn-small model-settings-btn svelte-1vc4gmw" type="button" aria-label="Model settings" title="Model settings"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svelte-1vc4gmw"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.89 3.31.876 2.42 2.42a1.724 1.724 0 0 0 1.066 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.572c.89 1.543-.876 3.31-2.42 2.42a1.724 1.724 0 0 0-2.572 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.89-3.31-.876-2.42-2.42a1.724 1.724 0 0 0-1.066-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.572c-.89-1.543.876-3.31 2.42-2.42.965.557 2.185.21 2.573-1.066Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div> <!> <!> <div class="icon-row svelte-1vc4gmw"><!> <!></div></div></div> <!></header>');function L1(e,t){Pt(t,!1);const n=()=>Mt(ln,"$presetsStore",s),r=()=>Mt(pr,"$webSearchStore",s),[s,o]=lr(),i=O(),u=O(),l=O(),d=an();let f=ie(t,"selectableModels",24,()=>[]),c=ie(t,"selectedModel",8,""),g=ie(t,"modelsLoading",8,!1),m=ie(t,"modelsError",8,null),h=ie(t,"hasMessages",8,!1),T=ie(t,"pwaMode",8,!1),A=ie(t,"isSaved",8,!1),E=ie(t,"conversations",24,()=>[]),C=O(!1),k=O(),w=O(""),S=O(null),y=O(""),D=O(null),z=null,R=O(!1),P=O(),I=O(null),Q=O(!1),Y=O(!1),he=O(),$=O(!1),ne=O(),ae=ie(t,"controlsOpen",12,!1),re=O(null);function X(){ae(!1)}async function oe(){if(!a(I)){_(Q,!0);try{const be=await Cp(()=>import("./ModelPicker-DaPCrL9X.js"),__vite__mapDeps([0,1]));_(I,be.default)}catch(be){console.error("Failed to load ModelPicker",be)}finally{_(Q,!1)}}}qs(()=>{oe()});function le(){pr.current.enabled?_(Y,!a(Y)):(pr.setEnabled(!0),_(Y,!0))}function xe(){_(Y,!1)}function Fe(){_($,!a($))}function J(){_($,!1)}async function V(be){J(),await ln.apply(be)&&d("presetApplied",{name:be})}function fe(){d("openExplorer")}function te(){X(),d("clear")}function G(be){d("modelChange",be.detail)}function ve(){T()||X(),d("openModelSettings")}function Z(){T()||X(),d("openSystemSettings")}function Oe(){T()||X(),d("openKioskSettings")}function $e(){T()||X(),d("openCliSettings")}function Ke(){T()||X(),d("openMcpServers")}function Ze(){d("toggleSaved")}async function Pe(){if(_(C,!a(C)),a(C)&&a(k)){if(window.innerWidth<=768)_(w,"");else{const be=a(k).getBoundingClientRect(),Re=400,K=4,j=320,se=window.innerHeight-be.bottom-K,we=be.top-K;let Te,Ge;se>=200||se>=we?(Te=be.bottom+K,Ge=Math.min(Re,se)):(Ge=Math.min(Re,we),Te=be.top-K-Ge);const ee=Math.max(8,Math.min(be.left,window.innerWidth-j-8));_(w,`position:fixed;top:${Te}px;left:${ee}px;max-height:${Ge}px;width:${Math.min(j,window.innerWidth-16)}px;`)}await Oc(),a(P)?.focus()}else Ce()}function He(be){Ce(),_(C,!1),X(),d("loadConversation",{sessionId:be})}function ce(be,Re){be.stopPropagation(),d("deleteConversation",{sessionId:Re})}function Ce(){_(y,""),_(D,null),_(R,!1),z&&clearTimeout(z)}function Ue(){if(z&&clearTimeout(z),!a(y).trim()){_(D,null),_(R,!1);return}_(R,!0),z=setTimeout(async()=>{try{_(D,await Xc(50,0,a(y).trim()))}catch(be){console.error("Search failed",be),_(D,null)}finally{_(R,!1)}},300)}async function Ve(be,Re){be.stopPropagation(),_(S,Re);try{await Ui(Re),d("refreshConversations")}catch(K){console.error("Failed to regenerate title",K)}finally{_(S,null)}}function st(be){const Re=new Date,K=new Date(Re.getFullYear(),Re.getMonth(),Re.getDate()),j=new Date(K.getTime()-864e5),se=new Date(K.getTime()-7*864e5),we=new Date(K.getTime()-30*864e5),Te={},Ge=[];function ee(M,H){Te[M]||(Te[M]=[],Ge.push(M)),Te[M].push(H)}for(const M of be){const H=M.updated_at||M.created_at;if(!H){ee("Older",M);continue}const ue=new Date(H);if(ue>=K)ee("Today",M);else if(ue>=j)ee("Yesterday",M);else if(ue>=se)ee("Previous 7 Days",M);else if(ue>=we)ee("Previous 30 Days",M);else{const Se=ue.toLocaleDateString("en-US",{month:"long",year:"numeric"});ee(Se,M)}}return Ge.map(M=>({label:M,items:Te[M]}))}function bt(be){const Re=be.target;a(C)&&!Re.closest(".history-wrapper")&&(Ce(),_(C,!1)),a(Y)&&a(he)&&!a(he).contains(Re)&&xe(),a($)&&a(ne)&&!a(ne).contains(Re)&&J()}ye(()=>(a(re),B(ae())),()=>{a(re)!==ae()&&(_(re,ae()),d("drawerToggle",{open:ae()}))}),ye(()=>(a(D),B(E())),()=>{_(i,a(D)??E())}),ye(()=>a(i),()=>{_(u,st(a(i)))}),ye(()=>n(),()=>{_(l,n().lastApplied?n().items.some(be=>be.name===n().lastApplied&&be.is_default):!1)}),cn(),Ot();var pe=N1();L("click",xo,bt);var q=v(pe),ge=v(q),_e=v(ge);{var ke=be=>{var Re=e1();x(be,Re)},Ne=be=>{var Re=t1();x(be,Re)};N(_e,be=>{ae()?be(ke):be(Ne,!1)})}var Le=b(ge,2);{var Ye=be=>{var Re=u1(),K=v(Re),j=v(K);{var se=ee=>{var M=n1(),H=v(M);U(()=>W(H,`Applying ${n(),p(()=>n().applying)??""}â¦`)),x(ee,M)},we=ee=>{var M=r1(),H=b(v(M)),ue=b(H);let Se;U(Ee=>{W(H,` ${n(),p(()=>n().lastApplied)??""} `),Se=kt(ue,0,"preset-chevron svelte-1vc4gmw",null,Se,Ee)},[()=>({open:a($)})]),x(ee,M)};N(j,ee=>{n(),p(()=>n().applying)?ee(se):ee(we,!1)})}var Te=b(K,2);{var Ge=ee=>{var M=i1(),H=v(M);Lt(H,1,()=>(n(),p(()=>n().items)),Se=>Se.name,(Se,Ee)=>{var Ie=o1();let Xe;var _t=v(Ie),St=v(_t),Tt=b(_t,2);{var qe=De=>{var ct=a1();x(De,ct)};N(Tt,De=>{a(Ee),p(()=>a(Ee).is_default)&&De(qe)})}var tt=b(Tt,2);{var nt=De=>{var ct=s1();x(De,ct)};N(tt,De=>{a(Ee),n(),p(()=>a(Ee).name===n().lastApplied)&&De(nt)})}U(De=>{Xe=kt(Ie,1,"preset-dropdown-item svelte-1vc4gmw",null,Xe,De),W(St,(a(Ee),p(()=>a(Ee).name)))},[()=>({active:a(Ee).name===n().lastApplied})]),L("click",Ie,()=>V(a(Ee).name)),x(Se,Ie)});var ue=b(H,4);L("click",ue,()=>{J(),Z()}),x(ee,M)};N(Te,ee=>{a($),n(),p(()=>a($)&&!n().applying)&&ee(Ge)})}Yn(Re,ee=>_(ne,ee),()=>a(ne)),U(()=>de(K,"aria-expanded",a($))),L("click",K,Ra(Fe)),x(be,Re)},Je=be=>{var Re=l1(),K=v(Re);{var j=we=>{var Te=Gt();U(Ge=>W(Te,Ge),[()=>(B(f()),B(c()),p(()=>f().find(Ge=>Ge.id===c())?.name??c().split("/").pop()??"Chat"))]),x(we,Te)},se=we=>{var Te=Gt("Chat");x(we,Te)};N(K,we=>{c()?we(j):we(se,!1)})}x(be,Re)};N(Le,be=>{n(),p(()=>n().applying||n().lastApplied)?be(Ye):be(Je,!1)})}var et=b(Le,2);{var dt=be=>{var Re=c1(),K=v(Re);let j;var se=b(K,2);{var we=Te=>{ul(Te,{menuClass:"mobile-web-search-menu",$$events:{disable:xe}})};N(se,Te=>{a(Y),r(),p(()=>a(Y)&&r().enabled)&&Te(we)})}Yn(Re,Te=>_(he,Te),()=>a(he)),U(Te=>{j=kt(K,1,"btn btn-ghost btn-small mobile-web-search svelte-1vc4gmw",null,j,Te),de(K,"aria-label",(r(),p(()=>r().enabled?"Web search enabled":"Enable web search"))),de(K,"title",(r(),p(()=>r().enabled?"Web search enabled":"Enable web search"))),de(K,"aria-expanded",a(Y))},[()=>({active:r().enabled})]),L("click",K,le),x(be,Re)};N(et,be=>{T()&&be(dt)})}var Qe=b(et,2);let Ft;var ft=b(Qe,2),Rt=b(q,2),hn=v(Rt),tn=v(hn),fn=b(tn,2),wt=v(fn);{var pt=be=>{var Re=Me(),K=me(Re);M0(K,()=>a(I),(j,se)=>{se(j,{get selectableModels(){return f()},get selectedModel(){return c()},get modelsLoading(){return g()},get modelsError(){return m()},$$events:{modelChange:G}})}),x(be,Re)},je=be=>{var Re=d1();U(()=>de(Re,"data-loading",a(Q))),x(be,Re)};N(wt,be=>{a(I)?be(pt):be(je,!1)})}var vt=b(wt,2),ot=b(fn,2);{var Vt=be=>{var Re=f1(),K=v(Re),j=b(v(K),4),se=v(j);U(()=>{de(K,"title",(n(),p(()=>`Applying ${n().applying}â¦ (open system settings to manage presets)`))),de(j,"title",(n(),p(()=>n().applying))),W(se,(n(),p(()=>n().applying)))}),L("click",K,Z),x(be,Re)},sn=be=>{var Re=Me(),K=me(Re);{var j=se=>{var we=m1(),Te=v(we),Ge=b(v(Te),4),ee=v(Ge),M=b(Te,2);{var H=Se=>{var Ee=p1();x(Se,Ee)},ue=Se=>{var Ee=v1();L("click",Ee,Ra(()=>d("resetToDefault"))),x(Se,Ee)};N(M,Se=>{a(l)?Se(H):Se(ue,!1)})}U(()=>{de(Te,"title",(n(),p(()=>`Active preset: ${n().lastApplied} (open system settings to manage)`))),de(Ge,"title",(n(),p(()=>n().lastApplied))),W(ee,(n(),p(()=>n().lastApplied)))}),L("click",Te,Z),x(se,we)};N(K,se=>{n(),p(()=>n().lastApplied)&&se(j)},!0)}x(be,Re)};N(ot,be=>{n(),p(()=>n().applying)?be(Vt):be(sn,!1)})}var at=b(ot,2);{var gt=be=>{var Re=w1(),K=me(Re),j=b(K,2),se=b(j,2),we=v(se);{var Te=H=>{var ue=h1(),Se=b(v(ue),2);Yn(Se,Ie=>_(P,Ie),()=>a(P));var Ee=b(Se,2);tr(Se,()=>a(y),Ie=>_(y,Ie)),L("input",Se,Ue),L("keydown",Se,Ie=>{Ie.key==="Escape"&&(_(C,!1),Ce())}),L("click",Ee,()=>{_(C,!1),Ce()}),x(H,ue)},Ge=H=>{var ue=g1();U(()=>de(ue,"aria-expanded",a(C))),L("click",ue,Ra(Pe)),x(H,ue)};N(we,H=>{a(C)?H(Te):H(Ge,!1)})}var ee=b(we,2);{var M=H=>{var ue=k1(),Se=v(ue);{var Ee=Xe=>{var _t=_1(),St=v(_t);{var Tt=tt=>{var nt=Me(),De=me(nt);{var ct=Dt=>{var Ae=Gt("Searchingâ¦");x(Dt,Ae)},qt=Dt=>{var Ae=Gt("No matching conversations");x(Dt,Ae)};N(De,Dt=>{a(R)?Dt(ct):Dt(qt,!1)})}x(tt,nt)},qe=tt=>{var nt=Gt("No saved conversations");x(tt,nt)};N(St,tt=>{a(y),p(()=>a(y).trim())?tt(Tt):tt(qe,!1)})}x(Xe,_t)},Ie=Xe=>{var _t=Me(),St=me(_t);Lt(St,1,()=>a(u),Vn,(Tt,qe)=>{var tt=x1(),nt=me(tt),De=v(nt),ct=b(nt,2);Lt(ct,1,()=>(a(qe),p(()=>a(qe).items)),Vn,(qt,Dt)=>{var Ae=y1(),ze=v(Ae),We=v(ze),it=b(ze,2),ut=v(it),Bt=b(it,2);{var Ut=yt=>{var en=b1();let on;U(Kt=>on=kt(en,1,"history-item-refresh svelte-1vc4gmw",null,on,Kt),[()=>({spinning:a(S)===a(Dt).session_id})]),L("click",en,Kt=>Ve(Kt,a(Dt).session_id)),x(yt,en)};N(Bt,yt=>{a(Dt),p(()=>a(Dt).title_source!=="user")&&yt(Ut)})}var Ht=b(Bt,2);U(()=>{de(ze,"title",(a(Dt),p(()=>a(Dt).title||a(Dt).preview||"Untitled"))),W(We,(a(Dt),p(()=>a(Dt).title||a(Dt).preview||"Untitled"))),W(ut,`${a(Dt),p(()=>a(Dt).message_count)??""} msgs`)}),L("click",Ht,yt=>ce(yt,a(Dt).session_id)),L("click",Ae,()=>He(a(Dt).session_id)),L("keydown",Ae,yt=>{(yt.key==="Enter"||yt.key===" ")&&He(a(Dt).session_id)}),x(qt,Ae)}),U(()=>W(De,(a(qe),p(()=>a(qe).label)))),x(Tt,tt)}),x(Xe,_t)};N(Se,Xe=>{a(i),p(()=>a(i).length===0)?Xe(Ee):Xe(Ie,!1)})}x(H,ue)};N(ee,H=>{a(C)&&H(M)})}L("click",K,Ke),L("click",j,Z),x(be,Re)};N(at,be=>{T()&&be(gt)})}var $t=b(at,2),Be=v($t);{var gn=be=>{var Re=S1(),K=me(Re),j=v(K);let se;var we=b(j,2);{var Te=M=>{ul(M,{$$events:{disable:xe}})};N(we,M=>{a(Y),r(),p(()=>a(Y)&&r().enabled)&&M(Te)})}Yn(K,M=>_(he,M),()=>a(he));var Ge=b(K,2),ee=b(Ge,2);U(M=>{se=kt(j,1,"btn btn-ghost btn-small web-search-toggle svelte-1vc4gmw",null,se,M),de(j,"aria-label",(r(),p(()=>r().enabled?"Web search enabled":"Enable web search"))),de(j,"title",(r(),p(()=>r().enabled?"Web search enabled":"Enable web search"))),de(j,"aria-expanded",a(Y))},[()=>({active:r().enabled})]),L("click",j,le),L("click",Ge,Ke),L("click",ee,Z),x(be,Re)};N(Be,be=>{T()||be(gn)})}var At=b(Be,2);{var zt=be=>{var Re=P1(),K=me(Re),j=b(K,2),se=b(j,2);let we;var Te=b(se,2),Ge=v(Te);{var ee=Ee=>{var Ie=E1(),Xe=b(v(Ie),2);Yn(Xe,St=>_(P,St),()=>a(P));var _t=b(Xe,2);tr(Xe,()=>a(y),St=>_(y,St)),L("input",Xe,Ue),L("keydown",Xe,St=>{St.key==="Escape"&&(_(C,!1),Ce())}),L("click",_t,()=>{_(C,!1),Ce()}),x(Ee,Ie)},M=Ee=>{var Ie=C1();U(()=>de(Ie,"aria-expanded",a(C))),L("click",Ie,Ra(Pe)),x(Ee,Ie)};N(Ge,Ee=>{a(C)?Ee(ee):Ee(M,!1)})}var H=b(Ge,2);{var ue=Ee=>{var Ie=F1(),Xe=v(Ie);{var _t=Tt=>{var qe=A1(),tt=v(qe);{var nt=ct=>{var qt=Me(),Dt=me(qt);{var Ae=We=>{var it=Gt("Searchingâ¦");x(We,it)},ze=We=>{var it=Gt("No matching conversations");x(We,it)};N(Dt,We=>{a(R)?We(Ae):We(ze,!1)})}x(ct,qt)},De=ct=>{var qt=Gt("No saved conversations");x(ct,qt)};N(tt,ct=>{a(y),p(()=>a(y).trim())?ct(nt):ct(De,!1)})}x(Tt,qe)},St=Tt=>{var qe=Me(),tt=me(qe);Lt(tt,1,()=>a(u),Vn,(nt,De)=>{var ct=M1(),qt=me(ct),Dt=v(qt),Ae=b(qt,2);Lt(Ae,1,()=>(a(De),p(()=>a(De).items)),Vn,(ze,We)=>{var it=D1(),ut=v(it),Bt=v(ut),Ut=b(ut,2),Ht=v(Ut),yt=b(Ut,2);{var en=Kt=>{var pn=T1();let bn;U(vn=>bn=kt(pn,1,"history-item-refresh svelte-1vc4gmw",null,bn,vn),[()=>({spinning:a(S)===a(We).session_id})]),L("click",pn,vn=>Ve(vn,a(We).session_id)),x(Kt,pn)};N(yt,Kt=>{a(We),p(()=>a(We).title_source!=="user")&&Kt(en)})}var on=b(yt,2);U(()=>{de(ut,"title",(a(We),p(()=>a(We).title||a(We).preview||"Untitled"))),W(Bt,(a(We),p(()=>a(We).title||a(We).preview||"Untitled"))),W(Ht,`${a(We),p(()=>a(We).message_count)??""} msgs`)}),L("click",on,Kt=>ce(Kt,a(We).session_id)),L("click",it,()=>He(a(We).session_id)),L("keydown",it,Kt=>{(Kt.key==="Enter"||Kt.key===" ")&&He(a(We).session_id)}),x(ze,it)}),U(()=>W(Dt,(a(De),p(()=>a(De).label)))),x(nt,ct)}),x(Tt,qe)};N(Xe,Tt=>{a(i),p(()=>a(i).length===0)?Tt(_t):Tt(St,!1)})}U(()=>yn(Ie,a(w))),x(Ee,Ie)};N(H,Ee=>{a(C)&&Ee(ue)})}Yn(Te,Ee=>_(k,Ee),()=>a(k));var Se=b(Te,2);U(Ee=>{we=kt(se,1,"btn btn-ghost btn-small save-toggle svelte-1vc4gmw",null,we,Ee),de(se,"aria-label",A()?"Conversation saved":"Save conversation"),de(se,"title",A()?"Conversation saved":"Save conversation"),Se.disabled=!h()},[()=>({active:A()})]),L("click",K,Oe),L("click",j,$e),L("click",se,Ze),L("click",Se,te),x(be,Re)};N(At,be=>{T()||be(zt)})}var _n=b(Rt,2);{var In=be=>{var Re=I1();L("click",Re,()=>ae(!1)),x(be,Re)};N(_n,be=>{ae()&&be(In)})}U(be=>{de(pe,"data-pwa-mode",T()),de(pe,"data-drawer-open",ae()),de(ge,"aria-label",ae()?"Close menu":"Open menu"),de(ge,"aria-expanded",ae()),Ft=kt(Qe,1,"btn btn-ghost btn-small mobile-save svelte-1vc4gmw",null,Ft,be),de(Qe,"aria-label",A()?"Conversation saved":"Save conversation"),de(Qe,"title",A()?"Conversation saved":"Save conversation"),ft.disabled=!h(),vt.disabled=g()||!c()},[()=>({active:A()})]),L("click",ge,()=>ae(!ae())),L("click",Qe,Ze),L("click",ft,te),L("click",tn,fe),L("click",vt,ve),x(e,pe),It(),o()}/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const O1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var $1=ns("<svg><!><!></svg>");function Mr(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]),r=or(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Pt(t,!1);let s=ie(t,"name",8,void 0),o=ie(t,"color",8,"currentColor"),i=ie(t,"size",8,24),u=ie(t,"strokeWidth",8,2),l=ie(t,"absoluteStrokeWidth",8,!1),d=ie(t,"iconNode",24,()=>[]);const f=(...h)=>h.filter((T,A,E)=>!!T&&E.indexOf(T)===A).join(" ");Ot();var c=$1();Gu(c,(h,T)=>({...O1,...r,width:i(),height:i(),stroke:o(),"stroke-width":h,class:T}),[()=>(B(l()),B(u()),B(i()),p(()=>l()?Number(u())*24/Number(i()):u())),()=>(B(s()),B(n),p(()=>f("lucide-icon","lucide",s()?`lucide-${s()}`:"",n.class)))]);var g=v(c);Lt(g,1,d,Vn,(h,T)=>{var A=e0(()=>df(a(T),2));let E=()=>a(A)[0],C=()=>a(A)[1];var k=Me(),w=me(k);F0(w,E,!0,(S,y)=>{Gu(S,()=>({...C()}))}),x(h,k)});var m=b(g);Nn(m,t,"default",{}),x(e,c),It()}function R1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M12 18V5"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77"}]];Mr(e,Dr({name:"brain"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function z1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M5 21v-6"}],["path",{d:"M12 21V9"}],["path",{d:"M19 21V3"}]];Mr(e,Dr({name:"chart-no-axes-column-increasing"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function B1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M20 6 9 17l-5-5"}]];Mr(e,Dr({name:"check"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function U1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4"}],["path",{d:"M21 14H11"}],["path",{d:"m15 10-4 4 4 4"}]];Mr(e,Dr({name:"clipboard-copy"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function j1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];Mr(e,Dr({name:"globe"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function ll(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];Mr(e,Dr({name:"pencil"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function q1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]];Mr(e,Dr({name:"refresh-ccw"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function H1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}],["path",{d:"m21.854 2.147-10.94 10.939"}]];Mr(e,Dr({name:"send"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function W1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Mr(e,Dr({name:"trash-2"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function V1(e,t){const n=or(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const r=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"}]];Mr(e,Dr({name:"wrench"},()=>n,{get iconNode(){return r},children:(s,o)=>{var i=Me(),u=me(i);Nn(u,t,"default",{}),x(s,i)},$$slots:{default:!0}}))}function G1(e,t=null){let n=0,r=2;function s(d){if(typeof d=="number")r=Number.isFinite(d)&&d>0?d:2;else if(d&&typeof d=="object"&&"maxMultiplier"in d){const f=d.maxMultiplier;typeof f=="number"&&Number.isFinite(f)&&f>0&&(r=f)}}s(t);function o(){const d=e.style.height;if(e.style.height="auto",n=e.clientHeight||e.scrollHeight||0,e.style.height=d,!n){const f=getComputedStyle(e);n=parseFloat(f.lineHeight||"0")||24}}function i(){const d=Math.max(1,Math.round(n*r));e.style.height="auto";const f=e.scrollHeight,c=Math.min(f,d);e.style.height=`${c}px`,e.style.overflowY=f>d?"auto":"hidden",e.style.maxHeight=`${d}px`}function u(){i()}const l=requestAnimationFrame(()=>{o(),i()});return e.addEventListener("input",u),{update(d){s(d),o(),i()},destroy(){cancelAnimationFrame(l),e.removeEventListener("input",u),e.style.overflowY="",e.style.maxHeight=""}}}const yu="speech.settings.v2",Z1={fast:{label:"Fast",autoSubmitDelayMs:0},normal:{label:"Normal",autoSubmitDelayMs:300},slow:{label:"Slow",autoSubmitDelayMs:800}},K1={stt:{autoSubmit:!0,autoSubmitDelayMs:0},updatedAt:null};function Y1(e){return JSON.parse(JSON.stringify(e))}function la(){return Y1(K1)}function J1(e,t,n){return Math.min(Math.max(Math.round(e),t),n)}function X1(e,t){return typeof e=="boolean"?e:t}function Q1(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return null}function qi(e){const t=la(),n={stt:{...t.stt},updatedAt:t.updatedAt};if(!e||typeof e!="object")return n;const r=e,s=r.stt??r.stt;if(s&&typeof s=="object"){const i=s;n.stt.autoSubmit=X1(i.autoSubmit??i.auto_submit,t.stt.autoSubmit);const u=Q1(i.autoSubmitDelayMs??i.auto_submit_delay_ms);u!==null&&(n.stt.autoSubmitDelayMs=J1(u,0,1e4))}const o=r.updatedAt??r.updated_at;return n.updatedAt=typeof o=="string"&&o?o:null,n}function cl(){if(typeof window>"u"||!window.localStorage)return la();try{const e=window.localStorage.getItem(yu);if(!e)return la();const t=JSON.parse(e);return qi(t)}catch(e){return console.warn("Failed to read speech settings from storage",e),la()}}function ev(e){if(!(typeof window>"u"||!window.localStorage))try{window.localStorage.setItem(yu,JSON.stringify(e))}catch(t){console.warn("Failed to persist speech settings",t)}}function tv(){const e=cl(),t=rn(e);function n(i){const u=qi(i),l={...u,stt:{...u.stt},updatedAt:new Date().toISOString()};return t.set(l),ev(l),l}function r(i){const u=rt(t),l={...u,stt:{...u.stt},updatedAt:u.updatedAt};return i.stt&&(l.stt={...l.stt,...i.stt}),i.updatedAt!==void 0&&(l.updatedAt=i.updatedAt),n(l)}function s(){return n(la())}function o(){const i=cl();t.set(i)}return typeof window<"u"&&window.addEventListener("storage",i=>{if(i.key===yu)try{const u=i.newValue?JSON.parse(i.newValue):null,l=qi(u);t.set(l)}catch(u){console.warn("Failed to synchronize speech settings from storage",u)}}),{subscribe:t.subscribe,save:n,update:r,reset:s,refresh:o,get current(){return rt(t)}}}const Ds=tv(),So=16e3,nv=4096,rv="audio-capture",av=new URL("data:text/javascript;base64,LyoqCiAqIEF1ZGlvV29ya2xldCBwcm9jZXNzb3IgZm9yIGNhcHR1cmluZyBtaWNyb3Bob25lIGF1ZGlvLgogKiBTZW5kcyBGbG9hdDMyQXJyYXkgc2FtcGxlcyB0byB0aGUgbWFpbiB0aHJlYWQgZm9yIHByb2Nlc3NpbmcuCiAqLwpjbGFzcyBBdWRpb0NhcHR1cmVQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3IgewogICAgY29uc3RydWN0b3IoKSB7CiAgICAgICAgc3VwZXIoKTsKICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7CiAgICAgICAgdGhpcy5wb3J0Lm9ubWVzc2FnZSA9IChldmVudCkgPT4gewogICAgICAgICAgICBjb25zdCBkYXRhID0gZXZlbnQuZGF0YSB8fCB7fTsKICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3BhdXNlJykgewogICAgICAgICAgICAgICAgdGhpcy5pc1BhdXNlZCA9IEJvb2xlYW4oZGF0YS52YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIHByb2Nlc3MoaW5wdXRzKSB7CiAgICAgICAgaWYgKHRoaXMuaXNQYXVzZWQpIHJldHVybiB0cnVlOwogICAgICAgIGNvbnN0IGlucHV0ID0gaW5wdXRzWzBdOwogICAgICAgIGlmICghaW5wdXQgfHwgIWlucHV0WzBdIHx8IGlucHV0WzBdLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgLy8gQ29weSBzYW1wbGVzIGFuZCB0cmFuc2ZlciBidWZmZXIgdG8gbWFpbiB0aHJlYWQKICAgICAgICBjb25zdCBzYW1wbGVzID0gbmV3IEZsb2F0MzJBcnJheShpbnB1dFswXSk7CiAgICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHNhbXBsZXMsIFtzYW1wbGVzLmJ1ZmZlcl0pOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfQp9CgpyZWdpc3RlclByb2Nlc3NvcignYXVkaW8tY2FwdHVyZScsIEF1ZGlvQ2FwdHVyZVByb2Nlc3Nvcik7Cg==",import.meta.url),sv={mode:"idle",recording:!1,connecting:!1,error:null,promptText:"",promptVersion:0,keepPromptSynced:!1,pendingSubmit:null,sttMode:"command",conversationActive:!1},Tn=rn({...sv});let po=null,vo=null,La=null,ca=null,$r=0,Wr="",mo=null,Hi=0;function Ws(){mo&&(clearTimeout(mo),mo=null),Hi++}function Eo(e,t){Tn.update(n=>({...n,promptText:e,promptVersion:n.promptVersion+1,keepPromptSynced:t?!0:n.keepPromptSynced}))}function to(e){Tn.update(t=>({...t,error:e,recording:!1,connecting:!1,keepPromptSynced:!1,mode:"idle"}))}function ov(){let e=window.location.origin;return e=e.replace(/^http/,"ws"),`${e}/api/stt/stream`}function iv(e,t,n){if(!e||e.length===0||!t||!n||t===n)return e;const r=t/n,s=Math.max(1,Math.round(e.length/r)),o=new Float32Array(s);for(let i=0;i<s;i++){const u=i*r,l=Math.floor(u),d=Math.min(l+1,e.length-1),f=u-l;o[i]=e[l]+(e[d]-e[l])*f}return o}function uv(e){const t=new Int16Array(e.length);for(let s=0;s<e.length;s++)t[s]=Math.max(-32768,Math.min(32767,Math.floor(e[s]*32768)));const n=new Uint8Array(t.buffer);let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return btoa(r)}function oi(e,t){if(!e||e.length===0||!ca||ca.readyState!==WebSocket.OPEN)return;const n=t!==So?iv(e,t,So):e,r=uv(n);ca.send(JSON.stringify({type:"audio_chunk",data:{audio:r}}))}function lv(){if(ca)try{ca.close()}catch(e){console.warn("Failed to close WebSocket",e)}ca=null}function dd(){if(La)try{La.disconnect(),"port"in La&&(La.port.onmessage=null)}catch{}if(La=null,vo)try{vo.close()}catch{}if(vo=null,po)try{po.getTracks().forEach(e=>e.stop())}catch{}po=null}function Sr(e={}){dd(),lv(),Ws(),Tn.update(t=>({...t,recording:!1,connecting:!1,keepPromptSynced:!1,pendingSubmit:e.submitText?{text:e.submitText}:null,mode:"idle",conversationActive:e.preserveConversation?t.conversationActive:!1}))}function cv(e){const t=e.trim(),r=rt(Tn).sttMode==="conversation",s=Ds.current,o=r?!0:s?.stt.autoSubmit??!0,i=r?0:Math.max(s?.stt.autoSubmitDelayMs??0,0);if(Ws(),!t){Sr({submitText:null,preserveConversation:r});return}if(o){if(i<=0){Sr({submitText:t,preserveConversation:r});return}Sr({preserveConversation:r}),Eo(t,!1);const u=++Hi;mo=setTimeout(()=>{u===Hi&&Tn.update(l=>({...l,pendingSubmit:{text:t}}))},i)}else Sr({preserveConversation:!1}),Eo(t,!1)}async function dv(e,t,n,r){let s=null;if(e.audioWorklet)try{await e.audioWorklet.addModule(av);const o=new AudioWorkletNode(e,rv);o.port.onmessage=i=>{if(r!==$r)return;const u=i.data,l=u&&u.samples?u.samples:u;l instanceof Float32Array?oi(l,n):l instanceof ArrayBuffer&&oi(new Float32Array(l),n)},s=o}catch(o){console.warn("AudioWorklet unavailable, falling back to ScriptProcessor:",o)}if(!s){const o=e.createScriptProcessor(nv,1,1);o.onaudioprocess=i=>{r===$r&&oi(i.inputBuffer.getChannelData(0),n)},s=o}t.connect(s),s.connect(e.destination),La=s}let fs=null,ii=!1;async function fv(){if(fs)return fs;if(ii)return await new Promise(e=>setTimeout(e,100)),fs;ii=!0;try{return fs=await Jc(),fs}catch(e){return console.warn("Failed to fetch server STT settings",e),null}finally{ii=!1}}async function fd(e,t=!1){const n=rt(Tn);if((n.connecting||n.recording)&&Sr(),Ws(),!Ds.current){to("Speech settings unavailable");return}const o=(await fv())?.mode==="conversation"?"conversation":"command",i=o==="conversation",u=++$r;Wr="",Tn.set({...n,mode:e,connecting:!0,recording:!1,error:null,keepPromptSynced:!0,pendingSubmit:null,sttMode:o,conversationActive:i||t});let l;try{l=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:So,echoCancellation:!0,noiseSuppression:!0},video:!1})}catch(h){if(u!==$r)return;Sr();const T=h instanceof Error?h.message:"Microphone access denied";to(T);return}if(u!==$r){l.getTracks().forEach(h=>h.stop());return}po=l;const d=new AudioContext({sampleRate:So});vo=d;const f=d.sampleRate,c=d.createMediaStreamSource(l),g=ov(),m=new WebSocket(g);ca=m,m.addEventListener("open",()=>{}),m.addEventListener("message",h=>{if(u!==$r||typeof h.data!="string")return;let T;try{T=JSON.parse(h.data)}catch{return}const A=T.type;if(A==="stt_session_ready")dv(d,c,f,u),Tn.update(E=>({...E,connecting:!1,recording:!0,error:null,keepPromptSynced:!0}));else if(A==="transcript"){const E=String(T.text??""),C=T.is_final===!0;if(E)if(C)Wr=Wr?`${Wr} ${E}`.trim():E,Eo(Wr,!0),cv(Wr);else{const k=Wr?`${Wr} ${E}`.trim():E;Eo(k,!0)}}else if(A==="error"){const E=String(T.message??"STT error");console.error("STT error:",E),to(E),Sr()}}),m.addEventListener("error",h=>{console.warn("WebSocket error",h),u===$r&&(to("Connection error"),Sr())}),m.addEventListener("close",()=>{u===$r&&(dd(),Tn.update(h=>({...h,recording:!1,connecting:!1,keepPromptSynced:!1})))})}async function pv(){Ws();const e=rt(Tn);if(e.mode==="dictation"&&(e.recording||e.connecting)){Sr(),Tn.update(n=>({...n,mode:"idle",keepPromptSynced:!1,conversationActive:!1}));return}Tn.update(n=>({...n,mode:"dictation"})),await fd("dictation")}async function dl(){const e=rt(Tn);e.conversationActive&&(e.recording||e.connecting||(Tn.update(t=>({...t,mode:"dictation"})),await fd("dictation",!0)))}function fl(){Ws(),Sr(),Tn.update(e=>({...e,mode:"idle",conversationActive:!1}))}function pl(){const e=rt(Tn);if(!e.pendingSubmit)return null;const t=e.pendingSubmit;return Tn.update(n=>({...n,pendingSubmit:null})),t}const pd={subscribe:Tn.subscribe};function ks(e){return typeof e=="object"&&e!==null}function Nr(e){if(typeof e!="string")return;const t=e.trim();return t||void 0}function vl(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.trim();if(!t)return;const n=Number.parseInt(t,10);if(Number.isFinite(n))return n}}function za(e){if(!ks(e))return null;const t=Nr(e.url);if(!t)return null;const n={url:t},r=Nr(e.title)??Nr(e.name)??Nr(e.label);r&&(n.title=r);const s=Nr(e.content)??Nr(e.snippet)??Nr(e.text)??Nr(e.description);s&&(n.content=s);const o=vl(e.startIndex??e.start_index);o!==void 0&&(n.startIndex=o);const i=vl(e.endIndex??e.end_index);return i!==void 0&&(n.endIndex=i),n}function vv(e){const t=Nr(e.type),n=t?t.toLowerCase():null,r=[];"url_citation"in e&&r.push(e.url_citation),"urlCitation"in e&&r.push(e.urlCitation),"citation"in e&&r.push(e.citation),"payload"in e&&r.push(e.payload),"data"in e&&r.push(e.data);for(const s of r){const o=za(s);if(o)return o}return n==="url_citation"||n==="url-citation"?za(e):null}function Da(e,t,n){const r=`${n.url}|${n.startIndex??""}|${n.endIndex??""}`;t.has(r)||(t.add(r),e.push(n))}function mv(e){const t=[],n=new Set,r=/\[([^\]]+)\]\(([^)]+)\)/g;let s;for(;(s=r.exec(e))!==null;){const o=s[1].trim(),i=s[2].trim();i&&!n.has(i)&&(n.add(i),t.push({url:i,title:o||void 0,startIndex:s.index,endIndex:s.index+s[0].length}))}return t}function sa(...e){const t=[],n=new Set,r=new WeakSet,s=[];function o(i){if(i!=null){if(Array.isArray(i)||ks(i)){const u=i;if(r.has(u))return;r.add(u)}s.push(i)}}for(e.forEach(o);s.length>0;){const i=s.shift();if(i==null)continue;if(Array.isArray(i)){for(const d of i){if(d==null)continue;if(Array.isArray(d)||ks(d)){o(d);continue}const f=za(d);f&&Da(t,n,f)}continue}if(!ks(i)){const d=za(i);d&&Da(t,n,d);continue}const u=vv(i);if(u)Da(t,n,u);else{const d=za(i);d&&Da(t,n,d)}o(i.meta),o(i.metadata),o(i.annotations),o(i.citations),o(i.url_citation),o(i.urlCitation),o(i.payload),o(i.data),o(i.message);const l=i.content??i.text;if(typeof l=="string"&&l.length>0){const d=mv(l);for(const f of d)Da(t,n,f)}for(const d of Object.values(i))if(d!=null)if(Array.isArray(d)||ks(d))o(d);else{const f=za(d);f&&Da(t,n,f)}}return t}function hv(e,t){const n=e.trim(),r=[];n&&r.push({type:"text",text:n});for(const s of t)r.push({type:"image_url",image_url:{url:s.deliveryUrl},metadata:{attachment_id:s.id,display_url:s.displayUrl,mime_type:s.mimeType,size_bytes:s.sizeBytes,filename:s.metadata?.filename,session_id:s.sessionId,uploaded_at:s.uploadedAt,expires_at:s.expiresAt}});return r.length===1&&r[0].type==="text"?r[0].text:r.length>0?r:""}function Wi(e){if(typeof e=="string"){const s=e;return{parts:s?[{type:"text",text:s}]:[],text:s}}const t=[],n=[];for(const s of e){if(s?.type==="text"&&typeof s.text=="string"){const o=s.text;t.push({type:"text",text:o}),n.push(o);continue}if(s?.type==="image_url"&&"image_url"in s){const o=s.image_url;if(!o||typeof o.url!="string")continue;const i=s.metadata??{},u=typeof i.display_url=="string"&&i.display_url?i.display_url:o.url,l=typeof i.attachment_id=="string"&&i.attachment_id?i.attachment_id:void 0,d=typeof i.mime_type=="string"&&i.mime_type?i.mime_type:void 0,f=typeof i.size_bytes=="number"&&Number.isFinite(i.size_bytes)?Number(i.size_bytes):void 0,c=typeof i.filename=="string"&&i.filename?i.filename:void 0,g=typeof i.session_id=="string"&&i.session_id?i.session_id:void 0,m=typeof i.uploaded_at=="string"&&i.uploaded_at?i.uploaded_at:void 0,h=typeof i.expires_at=="string"&&i.expires_at?i.expires_at:null;t.push({type:"image",url:o.url,displayUrl:u,attachmentId:l,mimeType:d,sizeBytes:f,fileName:c,sessionId:g,uploadedAt:m,expiresAt:h,metadata:s.metadata??null})}}const r=n.join(`
`).trim();return{parts:t,text:r}}function Co(e){if(e==null)return[];if(Array.isArray(e))return e.flatMap(t=>Co(t));if(typeof e=="string")return e.length>0?[{text:e}]:[];if(typeof e=="object"){const t=e,n=t.text,r=t.type,s=[];if(typeof n=="string"&&n.length>0){const i={text:n};typeof r=="string"&&r.length>0&&(i.type=r),s.push(i)}const o=["segments","segment","messages","message","content","contents","parts","steps","items"];for(const i of o){const u=t[i];u!==void 0&&s.push(...Co(u))}return s}return[]}function gv(e){if(!e||typeof e!="object")return{segments:[],hasPayload:!1};const t=e.choices;if(!Array.isArray(t))return{segments:[],hasPayload:!1};const n=[];let r=!1;for(const s of t){if(!s||typeof s!="object")continue;const o=s.delta;if(!(!o||typeof o!="object")&&"reasoning"in o){r=!0;const i=o.reasoning;n.push(...Co(i))}}return{segments:n,hasPayload:r}}function _v(e,t){const n=t.filter(i=>i.text.length>0);if(n.length===0)return e??[];if(!e||e.length===0)return n;const r=e.map(i=>i.text).join(""),s=n.map(i=>i.text).join("");if(s.startsWith(r)){const i=s.slice(r.length);if(i.length===0)return e;const u=[...e],l=u.length-1,d=n[n.length-1];return u[l]={text:`${u[l].text}${i}`,type:d.type??u[l].type},u}const o=[...e];for(const i of n)o.some(l=>l.text===i.text&&l.type===i.type)||o.push(i);return o}function ml(e){return e?.reduce((t,n)=>t+n.text.length,0)??0}async function bv(e,t={}){const{signal:n,onSession:r,onMessageDelta:s,onMetadata:o,onToolEvent:i,onDone:u,onError:l}=t,{onNotice:d}=t;await cp(e,{signal:n,onSession:r,onDone:u,onError:l,onNotice:d,onChunk(f,c){const g=c?.event??"message";if(g==="message"){const{text:m,fragments:h}=yv(f),{segments:T,hasPayload:A}=gv(f);if(!m&&h.length===0&&T.length===0&&!A)return;s?.({text:m,fragments:h,reasoningSegments:T,hasReasoningPayload:A,chunk:f});return}if(g==="metadata"&&c?.data){try{const m=JSON.parse(c.data);o?.(m)}catch(m){console.warn("Failed to parse metadata payload",m,c.data)}return}if(g==="tool"&&c?.data)try{const m=JSON.parse(c.data);i?.(m)}catch(m){console.warn("Failed to parse tool payload",m,c.data)}}})}function yv(e){const t=[],n=[],r=e.choices??[];for(const s of r){const o=s.delta??{},i=o.content;if(typeof i=="string")i&&t.push(i);else if(Array.isArray(i))for(const l of i)l&&typeof l=="object"&&n.push(l);const u=o.images;if(Array.isArray(u))for(const l of u)l&&typeof l=="object"&&n.push(l)}return{text:t.join(""),fragments:n}}const ui={loading:!1,saving:!1,error:null,saveError:null,dirty:!1,data:null,lastSyncedModel:null,lastSavedAt:null,version:0};function xv(e){if(!e)return;const t={};for(const[n,r]of Object.entries(e))if(r!=null&&!(typeof r=="string"&&r.trim()==="")){if(Array.isArray(r)){if(r.length===0)continue;t[n]=r;continue}if(typeof r=="object"){if(Object.entries(r).length===0)continue;t[n]=r;continue}t[n]=r}return Object.keys(t).length>0?t:void 0}function kv(){const e=rn({...ui});let t=0;async function n(){const l=rt(e);if(!l.dirty||!l.data)return l.dirty&&e.update(g=>({...g,dirty:!1})),!0;const d=l.version,f={model:l.data.model,provider:l.data.provider??null};"supports_tools"in l.data&&(f.supports_tools=l.data.supports_tools===void 0?null:l.data.supports_tools);const c=xv(l.data.parameters);c?f.parameters=c:f.parameters=null,e.update(g=>({...g,saving:!0,saveError:null}));try{const g=await el(f);return e.update(m=>{const h=Date.now();return m.version!==d?{...m,saving:!1,saveError:null,lastSavedAt:h,lastSyncedModel:g.model}:{...m,saving:!1,saveError:null,dirty:!1,data:g,lastSyncedModel:g.model,lastSavedAt:h}}),!0}catch(g){const m=g instanceof Error?g.message:"Failed to save model settings.";return e.update(h=>({...h,saving:!1,saveError:m})),!1}}async function r(l){const d=++t;e.set({...ui,loading:!0});try{const f=await K0();let c=f;if(l&&f.model!==l&&(c=await el({model:l,parameters:null,provider:null})),d!==t)return;e.set({loading:!1,saving:!1,error:null,saveError:null,dirty:!1,data:c,lastSyncedModel:c.model,lastSavedAt:Date.now(),version:0})}catch(f){if(d!==t)return;const c=f instanceof Error?f.message:"Failed to load model settings.";e.set({...ui,error:c})}}function s(l,d){e.update(f=>{if(!f.data)return f;const c={...f.data.parameters??{}};d==null?delete c[l]:c[l]=d;const g={...f.data,parameters:Object.keys(c).length>0?c:null};return{...f,data:g,dirty:!0,saveError:null,version:f.version+1}})}function o(l){e.update(d=>{if(!d.data||d.data.model===l)return d;const f={...d.data,model:l};return{...d,data:f,dirty:!0,saveError:null,version:d.version+1}})}function i(){e.update(l=>{if(!l.data)return l;const d={...l.data,parameters:null};return{...l,data:d,dirty:!0,saveError:null,version:l.version+1}})}function u(){e.update(l=>({...l,error:null,saveError:null}))}return{subscribe:e.subscribe,load:r,updateParameter:s,setModel:o,resetToDefaults:i,clearErrors:u,flushSave:n}}const dn=kv();function wv(e){return typeof e=="object"&&e!==null}const li={messages:[],sessionId:null,isStreaming:!1,error:null,selectedModel:"openrouter/auto",isSaved:!1,sessionPresetName:null};function Ma(e){let t=null;const n=typeof globalThis<"u"?globalThis.crypto:void 0;if(n?.randomUUID)try{t=n.randomUUID()}catch(r){console.warn("Failed to generate UUID via crypto.randomUUID",r)}if(!t&&n?.getRandomValues){const r=new Uint32Array(4);n.getRandomValues(r),t=Array.from(r,s=>s.toString(16).padStart(8,"0")).join("")}return t||(t=`${Date.now().toString(36)}${Math.random().toString(36).slice(2,12)}`),`${e}_${t.replace(/-/g,"")}`}function vd(e,t){const n=[],r=new Set;for(const s of e){if(s.type!=="image")continue;const o=s.attachmentId??s.displayUrl??s.url;!o||r.has(o)||(r.add(o),n.push({id:s.attachmentId??o,sessionId:s.sessionId??t??"",mimeType:s.mimeType??"image/png",sizeBytes:s.sizeBytes??0,displayUrl:s.displayUrl||s.url,deliveryUrl:s.displayUrl||s.url,uploadedAt:s.uploadedAt??new Date().toISOString(),expiresAt:s.expiresAt??null,metadata:s.metadata??null}))}return n}function Sv(e,t,n,r,s){if(!(Array.isArray(e)||r.length>0)){const f=`${(typeof e=="string"?e:t)??""}${n}`;return{content:f,text:f,attachments:[]}}const i=Array.isArray(e)?[...e]:[];if(!Array.isArray(e)){const d=typeof e=="string"?e:t;d&&i.push({type:"text",text:d})}if(r.length>0)i.push(...r);else if(n){const d=i[i.length-1];d&&d.type==="text"&&typeof d.text=="string"?d.text+=n:i.push({type:"text",text:n})}if(i.length===0){const f=`${(typeof e=="string"?e:t)??""}${n}`;return{content:f,text:f,attachments:[]}}const u=Wi(i),l=vd(u.parts,s);return{content:i,text:u.text,attachments:l}}function hl(e){const t=[],n=new Set,r=e.details?.serverMessageId;if(typeof r=="number"){const s=String(r);t.push(s),n.add(s)}return e.id&&!n.has(e.id)&&t.push(e.id),t}function Ev(e,t,n,r,s){const o={model:e.selectedModel,session_id:e.sessionId??void 0,messages:[{role:"user",content:t,client_message_id:r}],metadata:{client_assistant_message_id:s,client_parent_message_id:r}};if(n.enabled){const i={id:"web"};n.engine&&(i.engine=n.engine),n.maxResults!==null&&n.maxResults!==void 0&&(i.max_results=n.maxResults);const u=n.searchPrompt.trim();u&&(i.search_prompt=u),o.plugins=[i],n.contextSize&&(o.web_search_options={search_context_size:n.contextSize})}return o}function Cv(){const e=rn({...li});let t=null;function n(...A){for(const E of A)if(typeof E=="string"&&E)return E;return null}async function r(A){const E=A.text??"",C=(A.attachments??[]).map($=>({...$})),k=E.trim(),w=rt(e);if(w.isStreaming&&t?.abort(),!k&&C.length===0)return;const S=Ma("user"),y=Ma("assistant"),D=hv(k,C),z=Wi(D),R=C,P=pr.current,I=Ev(w,D,P,S,y),Q=new Date().toISOString();e.update($=>({...$,messages:[...$.messages,{id:S,role:"user",content:D,text:z.text,attachments:R,createdAt:Q,createdAtUtc:Q},{id:y,role:"assistant",content:"",text:"",attachments:[],pending:!0,createdAt:null,createdAtUtc:null,details:P.enabled?{webSearchConfig:{engine:P.engine,maxResults:P.maxResults,contextSize:P.contextSize,searchPrompt:P.searchPrompt}}:void 0}],isStreaming:!0,error:null}));const Y=new AbortController;t=Y;const he=new Map;try{await bv(I,{signal:Y.signal,onSession($){e.update(ne=>({...ne,sessionId:$}))},onNotice($){if(console.log("[NOTICE] Received notice:",$),!$||typeof $!="object"){console.warn("[NOTICE] Invalid payload:",$);return}const ne=$.type;console.log("[NOTICE] Notice type:",ne),console.log("[NOTICE] No handler for notice type:",ne)},onMessageDelta({text:$,fragments:ne,reasoningSegments:ae,hasReasoningPayload:re,chunk:X}){e.update(oe=>{const le=oe.messages.map(xe=>{if(xe.id!==y)return xe;const Fe=Sv(xe.content,xe.text,$,ne,oe.sessionId),J=Fe.attachments.length>0?Fe.attachments:xe.attachments,V={...xe,content:Fe.content,text:Fe.text,attachments:J??[]};if(ae.length>0||re){const te=xe.details??{},G={...te,reasoningStatus:"streaming"};ae.length>0&&(G.reasoning=_v(te.reasoning,ae)),V.details=G}const fe=X?sa(X):[];if(fe.length>0){let te=V.details;te||(te=xe.details?{...xe.details}:{});const G=sa(te?.citations??null,fe);G.length>0&&(te.citations=G,V.details=te)}return V});return{...oe,messages:le}})},onMetadata($){e.update(ne=>{const ae=ne.messages.map(re=>{if(re.id!==y)return re;const X=re.details??{},oe=Co($.reasoning),le=oe.length>0;let xe=X.reasoning;le&&(xe=ml(oe)>=ml(X.reasoning)?oe:X.reasoning??oe);const Fe=le?re.pending?"streaming":"complete":X.reasoningStatus??null,J=typeof $.message_id=="number"?$.message_id:X.serverMessageId??null;let V=X.meta??null,fe=X.citations??null;if($.meta===null)V=null,fe=null;else if(wv($.meta)){V=$.meta;const ve=sa($.meta,$);ve.length>0&&(fe=ve)}else{const ve=sa($);ve.length>0&&(fe=ve)}const te=n($.created_at,$.created_at_utc,re.createdAt??null),G=n($.created_at_utc,re.createdAtUtc??null);return{...re,details:{...X,model:typeof $.model=="string"?$.model:X.model??null,finishReason:typeof $.finish_reason=="string"?$.finish_reason:X.finishReason??null,reasoning:xe,reasoningStatus:Fe,usage:$.usage&&typeof $.usage=="object"?$.usage:X.usage??null,routing:$.routing&&typeof $.routing=="object"?$.routing:X.routing??null,toolCalls:Array.isArray($.tool_calls)?$.tool_calls:X.toolCalls??null,generationId:typeof $.generation_id=="string"?$.generation_id:X.generationId??null,serverMessageId:J,meta:V,citations:fe},createdAt:te,createdAtUtc:G}});return{...ne,messages:ae}})},onToolEvent($){const ne=typeof $.call_id=="string"?$.call_id:Ma("tool"),ae=typeof $.status=="string"?$.status:"started",re=typeof $.name=="string"?$.name:"tool",X=$.result,oe=typeof X=="string"?X:X&&typeof X=="object"?JSON.stringify(X):null,le=typeof $.message_id=="number"?$.message_id:null,xe=$.content,Fe=rt(e);let J,V,fe=[];if(Array.isArray(xe)){const G=Wi(xe);fe=vd(G.parts,Fe.sessionId),J=xe,V=G.text}else ae==="started"?(J=`Running ${re}â¦`,V=`Running ${re}â¦`):(J=oe??`Tool ${re} responded.`,V=oe??`Tool ${re} responded.`);let te=he.get(ne);if(te)e.update(G=>{const ve=G.messages.map(Z=>{if(Z.id!==te)return Z;const Oe={...Z.details??{},toolName:re,toolStatus:ae,toolResult:oe??Z.details?.toolResult??null,serverMessageId:le??Z.details?.serverMessageId??null},$e=n($.created_at,$.created_at_utc,Z.createdAt??null),Ke=n($.created_at_utc,Z.createdAtUtc??null);return{...Z,content:J,text:V,attachments:fe.length>0?fe:Z.attachments??[],pending:ae==="started",details:Oe,createdAt:$e,createdAtUtc:Ke??$e??Z.createdAtUtc??null}});return{...G,messages:ve}});else{te=Ma("tool"),he.set(ne,te);const G=new Date().toISOString(),ve=n($.created_at,$.created_at_utc,G),Z=n($.created_at_utc,ve??G);e.update(Oe=>({...Oe,messages:[...Oe.messages,{id:te,role:"tool",content:J,text:V,attachments:fe,pending:ae==="started",details:{toolName:re,toolStatus:ae,toolResult:oe??null,serverMessageId:le},createdAt:ve,createdAtUtc:Z}]}))}},onDone(){e.update($=>{const ne=$.messages.map(ae=>{if(ae.id!==y)return ae;const re=ae.details?{...ae.details,reasoningStatus:ae.details.reasoning?"complete":ae.details.reasoningStatus??null}:void 0,X=new Date().toISOString(),oe=ae.createdAt??X;return{...ae,pending:!1,details:re,createdAt:oe,createdAtUtc:ae.createdAtUtc??oe}});return{...$,isStreaming:!1,messages:ne}})},onError($){console.error("Chat stream error",$),e.update(ne=>({...ne,isStreaming:!1,error:$.message??"Unknown error",messages:ne.messages.filter(ae=>ae.id!==y&&!(ae.role==="tool"&&ae.pending))}))}})}catch($){if($ instanceof DOMException&&$.name==="AbortError")return;const ne=$ instanceof Error?$.message:String($);e.update(ae=>({...ae,isStreaming:!1,error:ne,messages:ae.messages.filter(re=>re.id!==y&&!(re.role==="tool"&&re.pending))}))}finally{t=null}}function s(){t&&(t.abort(),t=null,e.update(A=>{const E=A.messages.filter(C=>!(C.role==="assistant"&&C.pending&&!C.text||C.role==="tool"&&C.pending));return{...A,isStreaming:!1,messages:E}}))}function o(){t?.abort(),t=null,e.update(A=>({...li,selectedModel:A.selectedModel,sessionPresetName:A.sessionPresetName}))}async function i(A){const E=rt(e),C=A?.presetName!==void 0?A.presetName:E.sessionPresetName,k={model:E.selectedModel,preset_name:C};if(!E.sessionId){const S=Ma("session");e.update(y=>({...y,sessionId:S,isSaved:!0}));try{await rl(S,{llmSettings:k})}catch(y){console.error("Failed to save conversation",y),e.update(D=>({...D,isSaved:!1}))}return}const w=!E.isSaved;e.update(S=>({...S,isSaved:w}));try{w?await rl(E.sessionId,{llmSettings:k}):await xp(E.sessionId)}catch(S){console.error("Failed to toggle save state",S),e.update(y=>({...y,isSaved:!w}))}}async function u(A){t?.abort(),t=null;try{const E=await yp(A),C=E.messages.filter(y=>y.role!=="system").map(y=>{const D=y.content??"",z=typeof D=="string"?D:"";return{id:y.client_message_id||`db-${y.message_id??Math.random()}`,role:y.role,content:D,text:z,attachments:[],pending:!1,createdAt:y.created_at??null,createdAtUtc:y.created_at_utc??null,details:y.tool_call_id?{toolName:y.name??void 0}:void 0}}),k=E.metadata.llm_settings,w=k?.model,S=typeof k?.preset_name=="string"?k.preset_name:null;if(e.update(y=>({...li,selectedModel:w??y.selectedModel,sessionPresetName:S,sessionId:A,messages:C,isSaved:E.metadata.saved})),w)try{await dn.load(w)}catch(y){console.warn("Failed to load model settings for restored model",y)}return{model:w??null,presetName:S}}catch(E){return console.error("Failed to load session",E),e.update(C=>({...C,error:E instanceof Error?E.message:"Failed to load conversation"})),null}}function l(A,E){const C=A.messages.findIndex(y=>y.id===E);if(C===-1)return A;const k=A.messages.slice(),w=[],[S]=k.splice(C,1);if(!S)return A;if(S.role==="assistant")for(w.push(S.id);C<k.length&&k[C].role==="tool";)k.splice(C,1);else if(S.role==="user")for(;C<k.length&&k[C].role!=="user"&&k[C].role!=="system";){const[y]=k.splice(C,1);y?.role==="assistant"&&y.id&&w.push(y.id)}return{...A,messages:k}}async function d(A,E){let C=null;const k=new Set;for(const w of E){if(w.role==="assistant"||w.role==="tool")continue;const S=hl(w);let y=!1;for(const D of S)if(!(!D||k.has(D))){k.add(D);try{await Qu(A,D),y=!0;break}catch(z){if(z instanceof gr&&z.status===404)continue;C||(C=z instanceof Error?z.message:"Failed to delete previous message.");break}}}return C}async function f(A){const E=rt(e);if(E.isStreaming)return;const C=E.messages.find(k=>k.id===A);if(C){if(E.sessionId){const k=hl(C);let w=null;for(const S of k)try{await Qu(E.sessionId,S),w=null;break}catch(y){if(y instanceof gr&&y.status===404)continue;w=y instanceof Error?y.message:"Failed to delete message.";break}w&&e.update(S=>({...S,error:w}))}e.update(k=>l(k,A))}}async function c(A){const E=rt(e),C=E.messages.findIndex(y=>y.id===A);if(C===-1)return;const k=E.messages[C];if(k.role!=="user")return;E.isStreaming&&(t?.abort(),t=null);const w=E.messages.slice(C),S=E.messages.slice(0,C);if(e.update(y=>({...y,messages:S,isStreaming:!1,error:null})),E.sessionId){const y=await d(E.sessionId,w);y&&e.update(D=>({...D,error:y}))}await r({text:k.text,attachments:(k.attachments??[]).map(y=>({...y}))})}async function g(A,E){const C=E.trim();if(!C)return;const k=rt(e),w=k.messages.findIndex(z=>z.id===A);if(w===-1)return;const S=k.messages[w];if(S.role!=="user")return;k.isStreaming&&(t?.abort(),t=null);const y=k.messages.slice(w),D=k.messages.slice(0,w);if(e.update(z=>({...z,messages:D,isStreaming:!1,error:null})),k.sessionId){const z=await d(k.sessionId,y);z&&e.update(R=>({...R,error:z}))}await r({text:C,attachments:(S.attachments??[]).map(z=>({...z}))})}function m(){e.update(A=>({...A,error:null}))}function h(A,E){const C=rt(e),k=E!==void 0?E:C.sessionPresetName;e.update(w=>({...w,selectedModel:A,sessionPresetName:k}));try{dn.clearErrors(),dn.load(A)}catch{}C.isSaved&&C.sessionId&&wp(C.sessionId,{model:A,preset_name:k}).catch(w=>{console.warn("Failed to persist model change for saved session",w)})}function T(){const A=rt(e);if(A.sessionId)return A.sessionId;const E=Ma("session");return e.update(C=>({...C,sessionId:E})),E}return{subscribe:e.subscribe,sendMessage:r,cancelStream:s,clearConversation:o,deleteMessage:f,retryMessage:c,editMessage:g,clearError:m,setModel:h,ensureSessionId:T,toggleSaved:i,loadSession:u}}const fr=Cv();var Av=F('<span class="chip-status svelte-1ct3ltt">Uploadingâ¦</span>'),Tv=F('<span class="chip-status svelte-1ct3ltt"> </span>'),Dv=F('<div><img alt="Attachment preview" loading="lazy" class="svelte-1ct3ltt"/> <!> <!> <button type="button" class="remove-attachment svelte-1ct3ltt" aria-label="Remove image">Ã</button></div>'),Mv=F('<div class="attachment-strip svelte-1ct3ltt"></div>'),Fv=F('<div class="composer-error svelte-1ct3ltt" role="alert"> </div>'),Pv=F('<div class="composer-error voice svelte-1ct3ltt" role="alert"> </div>'),Iv=F('<button type="button" class="icon-button leading svelte-1ct3ltt" aria-label="Attach image"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 2v14M2 9h14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>'),Nv=F('<button type="button" class="stop-inline svelte-1ct3ltt"><span aria-hidden="true" class="stop-indicator svelte-1ct3ltt"></span> Stop</button>'),Lv=F('<button type="button" class="icon-button leading svelte-1ct3ltt" aria-label="Attach image"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 2v14M2 9h14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button>'),Ov=F('<form class="composer svelte-1ct3ltt"><div class="composer-content svelte-1ct3ltt"><!> <!> <!> <div><!> <input class="sr-only svelte-1ct3ltt" type="file" accept="image/png,image/jpeg,image/webp,image/gif" multiple/> <textarea rows="1" class="svelte-1ct3ltt"></textarea> <div class="composer-actions svelte-1ct3ltt"><!> <!> <button type="button" class="icon-button svelte-1ct3ltt" aria-label="Start dictation" title="Start dictation"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 3a2 2 0 0 1 2 2v4a2 2 0 1 1-4 0V5a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="1.5"></path><path d="M5 8.5a4 4 0 0 0 8 0M9 12.5V15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg></button> <button type="submit" class="send-button svelte-1ct3ltt" title="Send message"><span class="send-label svelte-1ct3ltt">Send</span> <!></button></div></div></div></form>');function $v(e,t){Pt(t,!1);const n=()=>Mt(pd,"$speechState",r),[r,s]=lr(),o=O(),i=O(),u=O(),l=O(),d=O(),f=O(),c=O(),g=O();let m=ie(t,"prompt",12,""),h=ie(t,"isStreaming",8,!1),T=ie(t,"presetAttachments",24,()=>[]),A=ie(t,"pwaMode",8,!1);const E=an(),C=new Set(["image/png","image/jpeg","image/webp","image/gif"]),k=10*1024*1024,w=4;let S=O([]),y=O(null),D=O(null),z=O(null),R=O(null);function P(){return globalThis.crypto?.randomUUID?`attachment_${globalThis.crypto.randomUUID().replace(/-/g,"")}`:`attachment_${Date.now().toString(36)}${Math.random().toString(36).slice(2,10)}`}function I(q){if(!(!q||typeof q!="string")&&q.startsWith("blob:"))try{URL.revokeObjectURL(q)}catch{}}function Q(q){if(le(),!q||q.length===0){_(y,null);return}const ge=[];for(const _e of q){if(!_e)continue;const ke=_e.displayUrl??_e.deliveryUrl??null;ke&&ge.push({id:_e.id??P(),file:null,previewUrl:ke,status:"ready",resource:{..._e,metadata:_e.metadata?{..._e.metadata}:null}})}_(S,ge),_(y,null)}function Y(){if(h())return;const q=m().trim();if(a(S).some(Ne=>Ne.status==="uploading")){_(y,"Please wait for uploads to finish.");return}if(a(S).some(Ne=>Ne.status==="error")){_(y,"Remove failed uploads before sending.");return}const ke=a(S).filter(Ne=>Ne.status==="ready"&&Ne.resource).map(Ne=>Ne.resource);!q&&ke.length===0||(E("submit",{text:q,attachments:ke}),m(""),_(y,null),le())}function he(q){q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),Y())}function $(){E("cancel")}function ne(){h()&&n().mode!=="dictation"||n().connecting&&!n().recording&&n().mode!=="dictation"||E("startDictation")}function ae(){h()||(_(y,null),a(D)?.click())}function re(q){const ge=q.target,_e=ge.files?Array.from(ge.files):[];if(ge.value="",!_e.length)return;const ke=w-a(S).length;if(ke<=0){_(y,`You can attach up to ${w} images.`);return}const Ne=fr.ensureSessionId(),Le=_e.slice(0,ke);_e.length>ke&&_(y,`Only ${w} images allowed per message.`);for(const Ye of Le){if(!C.has(Ye.type)){_(y,"Unsupported image format.");continue}if(Ye.size>k){_(y,"Images must be 10 MB or less.");continue}const Je=URL.createObjectURL(Ye),et={id:P(),file:Ye,previewUrl:Je,status:"uploading"};_(S,[...a(S),et]),X(et,Ne)}}async function X(q,ge){if(q.file)try{const{attachment:_e}=await up(q.file,ge);_(S,a(S).map(ke=>ke.id===q.id?{...ke,status:"ready",resource:_e}:ke))}catch(_e){const ke=_e instanceof Error?_e.message:"Failed to upload image.";_(S,a(S).map(Ne=>Ne.id===q.id?{...Ne,status:"error",error:ke}:Ne))}}function oe(q){_(S,a(S).filter(ge=>ge.id===q?(I(ge.previewUrl),!1):!0)),a(S).length||_(y,null)}function le(){a(S).forEach(q=>{I(q.previewUrl)}),_(S,[])}Ga(()=>{le()}),ye(()=>B(m()),()=>{_(o,m().trim())}),ye(()=>a(S),()=>{_(i,a(S).some(q=>q.status==="uploading"))}),ye(()=>a(S),()=>{_(u,a(S).some(q=>q.status==="error"))}),ye(()=>a(S),()=>{_(l,a(S).some(q=>q.status==="ready"))}),ye(()=>(B(h()),a(i),a(u),a(o),a(l)),()=>{_(d,h()||a(i)||a(u)||!a(o)&&!a(l))}),ye(()=>(B(T()),a(R)),()=>{T()!==a(R)&&(Q(T()),_(R,T()))}),ye(()=>n(),()=>{_(f,n().mode==="dictation"&&(n().recording||n().connecting))}),ye(()=>n(),()=>{_(c,n().connecting&&!n().recording)}),ye(()=>n(),()=>{_(g,n().error)}),cn(),Ot();var xe=Ov(),Fe=v(xe),J=v(Fe);{var V=q=>{var ge=Mv();Lt(ge,5,()=>a(S),_e=>_e.id,(_e,ke)=>{var Ne=Dv();let Le;var Ye=v(Ne),Je=b(Ye,2);{var et=ft=>{var Rt=Av();x(ft,Rt)};N(Je,ft=>{a(ke),p(()=>a(ke).status==="uploading")&&ft(et)})}var dt=b(Je,2);{var Qe=ft=>{var Rt=Tv(),hn=v(Rt);U(()=>W(hn,(a(ke),p(()=>a(ke).error??"Upload failed.")))),x(ft,Rt)};N(dt,ft=>{a(ke),p(()=>a(ke).status==="error")&&ft(Qe)})}var Ft=b(dt,2);U(ft=>{Le=kt(Ne,1,"attachment-chip svelte-1ct3ltt",null,Le,ft),de(Ye,"src",(a(ke),p(()=>a(ke).previewUrl??a(ke).resource?.displayUrl??a(ke).resource?.deliveryUrl??"")))},[()=>({uploading:a(ke).status==="uploading",error:a(ke).status==="error"})]),L("click",Ft,()=>oe(a(ke).id)),x(_e,Ne)}),x(q,ge)};N(J,q=>{a(S),p(()=>a(S).length)&&q(V)})}var fe=b(J,2);{var te=q=>{var ge=Fv(),_e=v(ge);U(()=>W(_e,a(y))),x(q,ge)};N(fe,q=>{a(y)&&q(te)})}var G=b(fe,2);{var ve=q=>{var ge=Pv(),_e=v(ge);U(()=>W(_e,a(g))),x(q,ge)};N(G,q=>{a(g)&&q(ve)})}var Z=b(G,2);let Oe;var $e=v(Z);{var Ke=q=>{var ge=Iv();U(()=>ge.disabled=(B(h()),a(S),p(()=>h()||a(S).length>=w))),L("click",ge,ae),x(q,ge)};N($e,q=>{A()||q(Ke)})}var Ze=b($e,2);Yn(Ze,q=>_(D,q),()=>a(D));var Pe=b(Ze,2);Yn(Pe,q=>_(z,q),()=>a(z)),rr(()=>tr(Pe,m)),rr(()=>L("keydown",Pe,he)),rr(()=>L("focus",Pe,()=>{E("inputFocus")})),ma(Pe,(q,ge)=>G1?.(q,ge),m);var He=b(Pe,2),ce=v(He);{var Ce=q=>{var ge=Nv();L("click",ge,$),x(q,ge)};N(ce,q=>{h()&&q(Ce)})}var Ue=b(ce,2);{var Ve=q=>{var ge=Lv();U(()=>ge.disabled=(B(h()),a(S),p(()=>h()||a(S).length>=w))),L("click",ge,ae),x(q,ge)};N(Ue,q=>{A()&&q(Ve)})}var st=b(Ue,2),bt=b(st,2),pe=b(v(bt),2);H1(pe,{size:16,"aria-hidden":"true","stroke-width":2}),U(q=>{Oe=kt(Z,1,"input-shell svelte-1ct3ltt",null,Oe,q),de(Pe,"placeholder",h()?"Waiting for responseâ¦":"Type hereâ¦"),de(Pe,"aria-disabled",h()),st.disabled=h()&&!a(f)||a(c)&&!a(f),de(st,"aria-pressed",a(f)?"true":"false"),de(st,"data-active",a(f)?"true":"false"),bt.disabled=a(d)},[()=>({"pwa-layout":A()})]),L("change",Ze,re),L("click",st,ne),L("submit",xe,Gc(Y)),x(e,xe),It(),s()}var Rv=F('<div><button type="button" class="model-settings-backdrop"></button> <div role="dialog" aria-modal="true" tabindex="-1"><header class="model-settings-header"><div class="model-settings-heading"><!></div> <div class="model-settings-actions"><!> <button type="button" class="btn btn-ghost btn-small">Close</button></div></header> <section><!></section> <!></div></div>');function Fr(e,t){Pt(t,!1);let n=ie(t,"open",8,!1),r=ie(t,"labelledBy",8,null),s=ie(t,"modalClass",8,""),o=ie(t,"bodyClass",8,""),i=ie(t,"layerClass",8,""),u=ie(t,"closeLabel",8,"Close modal"),l=ie(t,"closeOnBackdrop",8,!0),d=ie(t,"focusOnOpen",8,!0),f=ie(t,"closeDisabled",8,!1),c=ie(t,"onclose",8,void 0);const g=an();let m=O(null),h=O(!1);function T(){c()?c()():g("close")}function A(y){!l()||f()||y.target===y.currentTarget&&T()}function E(){f()||T()}function C(y){!n()||f()||y.key==="Escape"&&(y.preventDefault(),T())}ye(()=>(B(n()),a(h),B(d()),a(m)),()=>{n()&&!a(h)?(_(h,!0),d()&&a(m)&&a(m).focus()):!n()&&a(h)&&_(h,!1)}),cn(),Ot();var k=Me();L("keydown",xo,C);var w=me(k);{var S=y=>{var D=Rv(),z=v(D),R=b(z,2),P=v(R),I=v(P),Q=v(I);Nn(Q,t,"heading",{});var Y=b(I,2),he=v(Y);Nn(he,t,"actions",{});var $=b(he,2),ne=b(P,2),ae=v(ne);Nn(ae,t,"default",{});var re=b(ne,2);Nn(re,t,"footer",{}),Yn(R,X=>_(m,X),()=>a(m)),U((X,oe,le)=>{kt(D,1,X),de(z,"aria-label",u()),kt(R,1,oe),de(R,"aria-labelledby",r()||void 0),de($,"aria-label",u()),$.disabled=f(),kt(ne,1,le)},[()=>Cs((B(i()),p(()=>`model-settings-layer ${i()}`.trim()))),()=>Cs((B(s()),p(()=>`model-settings-modal ${s()}`.trim()))),()=>Cs((B(o()),p(()=>`model-settings-body ${o()}`.trim())))]),L("click",z,A),L("click",$,E),x(y,D)};N(w,y=>{n()&&y(S)})}x(e,k),It()}var zv=F('<p class="status">Loadingâ¦</p>'),Bv=F('<p class="status error"> </p>'),Uv=F('<pre class="svelte-1uwhn5q"> </pre>'),jv=F('<div class="generation-detail-row svelte-1uwhn5q"><dt class="svelte-1uwhn5q"> </dt> <dd class="svelte-1uwhn5q"><!></dd></div>'),qv=F('<dl class="generation-modal-details svelte-1uwhn5q"></dl>'),Hv=F('<p class="status">No details available.</p>'),Wv=F('<p class="model-settings-subtitle"> </p>'),Vv=F('<h2 id="generation-modal-title">Generation details</h2> <!>',1);function Gv(e,t){Pt(t,!1);const n=an();let r=ie(t,"open",8,!1),s=ie(t,"generationId",8,null),o=ie(t,"loading",8,!1),i=ie(t,"error",8,null),u=ie(t,"data",8,null),l=ie(t,"fields",8,Qc),d=O([]);function f(){n("close")}ye(()=>(B(u()),B(l()),al),()=>{_(d,u()?l().map(h=>({field:h,display:al(u()?.[h.key])})):[])}),cn(),Ot();var c=Me(),g=me(c);{var m=h=>{Fr(h,{get open(){return r()},labelledBy:"generation-modal-title",modalClass:"generation-modal",closeLabel:"Close generation details",$$events:{close:f},children:(T,A)=>{var E=Me(),C=me(E);{var k=S=>{var y=zv();x(S,y)},w=S=>{var y=Me(),D=me(y);{var z=P=>{var I=Bv(),Q=v(I);U(()=>W(Q,i())),x(P,I)},R=P=>{var I=Me(),Q=me(I);{var Y=$=>{var ne=qv();Lt(ne,5,()=>a(d),ae=>ae.field.key,(ae,re)=>{var X=jv(),oe=v(X),le=v(oe),xe=b(oe,2),Fe=v(xe);{var J=fe=>{var te=Uv(),G=v(te);U(()=>W(G,(a(re),p(()=>a(re).display.text)))),x(fe,te)},V=fe=>{var te=Gt();U(()=>W(te,(a(re),p(()=>a(re).display.text)))),x(fe,te)};N(Fe,fe=>{a(re),p(()=>a(re).display.isMultiline)?fe(J):fe(V,!1)})}U(()=>W(le,(a(re),p(()=>a(re).field.label)))),x(ae,X)}),x($,ne)},he=$=>{var ne=Hv();x($,ne)};N(Q,$=>{u()?$(Y):$(he,!1)},!0)}x(P,I)};N(D,P=>{i()?P(z):P(R,!1)},!0)}x(S,y)};N(C,S=>{o()?S(k):S(w,!1)})}x(T,E)},$$slots:{default:!0,heading:(T,A)=>{var E=Vv(),C=b(me(E),2);{var k=w=>{var S=Wv(),y=v(S);U(()=>W(y,`ID: ${s()??""}`)),x(w,S)};N(C,w=>{s()&&w(k)})}x(T,E)}}})};N(g,h=>{r()&&h(m)})}x(e,c),It()}var Zv=F('<span class="editor-status svelte-hszu4t">Updated</span>'),Kv=F('<form class="message-editor svelte-hszu4t"><div class="editor-shell svelte-hszu4t"><div class="editor-header svelte-hszu4t"><span>Edit message</span> <!></div> <textarea rows="3" placeholder="Update your message..." class="svelte-hszu4t"></textarea> <div class="editor-actions svelte-hszu4t"><button type="button" class="button secondary svelte-hszu4t">Cancel</button> <button type="submit" class="button primary svelte-hszu4t"><!></button></div></div></form>');function Yv(e,t){Pt(t,!1);const n=O(),r=O(),s=O();let o=ie(t,"value",12,""),i=ie(t,"originalValue",8,""),u=ie(t,"saving",8,!1),l=ie(t,"disabled",8,!1);const d=an();let f=O(null);qs(()=>{a(f)&&(a(f).focus(),a(f).setSelectionRange(0,a(f).value.length))});function c(){a(r)&&d("submit",{text:a(n)})}function g(){u()||d("cancel")}function m(P){P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),c())}ye(()=>B(o()),()=>{_(n,o().trim())}),ye(()=>(a(n),B(u()),B(l())),()=>{_(r,!!a(n)&&!u()&&!l())}),ye(()=>(a(n),B(i())),()=>{_(s,a(n)!==i().trim())}),cn(),Ot();var h=Kv(),T=v(h),A=v(T),E=b(v(A),2);{var C=P=>{var I=Zv();x(P,I)};N(E,P=>{a(s)&&P(C)})}var k=b(A,2);Yn(k,P=>_(f,P),()=>a(f));var w=b(k,2),S=v(w),y=b(S,2),D=v(y);{var z=P=>{var I=Gt("Sendingâ¦");x(P,I)},R=P=>{var I=Gt("Save & Send");x(P,I)};N(D,P=>{u()?P(z):P(R,!1)})}U(()=>{k.disabled=u()||l(),S.disabled=u(),y.disabled=!a(r)}),tr(k,o),L("keydown",k,m),L("click",S,g),L("submit",h,Gc(c)),x(e,h),It()}const gl={open:!1,messageId:null,citations:[]};function md(){const{subscribe:e,set:t,update:n}=rn(gl);function r(o,i){t({open:!0,messageId:o,citations:i})}function s(){t(gl)}return{subscribe:e,openWithCitations:r,close:s}}md();const ci={open:!1,messageId:null,segments:[],status:null};function Jv(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const r=e[n],s=t[n];if(r.text!==s.text||r.type!==s.type)return!1}return!0}function Xv(){const{subscribe:e,set:t,update:n}=rn(ci);function r(u,l,d){t({open:!0,messageId:u,segments:l??[],status:d??null})}function s(u){r(u.id,u.details?.reasoning,u.details?.reasoningStatus)}function o(){t(ci)}function i(u){n(l=>{if(!l.open||!l.messageId)return l;const d=u.find(g=>g.id===l.messageId);if(!d)return ci;const f=d.details?.reasoning??[],c=d.details?.reasoningStatus??null;return Jv(f,l.segments)&&c===l.status?l:{...l,segments:f,status:c}})}return{subscribe:e,openWithDetails:r,openForMessage:s,close:o,syncFromMessages:i}}const hd="tool",Qv=["prompt_tokens","input_tokens","prompt","input","promptTokens","inputTokens"],em=["completion_tokens","output_tokens","completion","output","completionTokens","outputTokens"],tm=["total_tokens","total","totalTokens"];function nm(e,t=hd){const n=[],r={},s={};for(let o=0;o<e.length;o+=1){const i=e[o];if(s[i.id]=o,i.role==="assistant"){const u=i.details?.toolCalls,l=Array.isArray(u)&&u.length>0;let d=0,f=o+1;for(;gd(e[f],t);)d+=1,f+=1;const c=l?u.length:0,g=Math.max(c,d),m=g>0,h=rm(i.details?.usage);r[i.id]={used:m,count:g,tokens:h}}i.role!==t&&n.push(i)}return{visibleMessages:n,assistantToolUsage:r,messageIndexMap:s}}function _l(e,t,n,r=hd){const s=t[n];if(typeof s!="number")return[];const o=e[s];if(!o||o.role!=="assistant")return[];const i=[],u=Array.isArray(o.details?.toolCalls)?o.details?.toolCalls:[];let l=s+1;for(;gd(e[l],r);){const d=e[l],f=d.details??{},c=u[i.length],m=(typeof f?.toolName=="string"?f.toolName:null)??di(c)??"Tool",h=typeof f?.toolStatus=="string"?f.toolStatus:null,T=typeof f?.toolResult=="string"?f.toolResult:null,A=typeof d.content=="string"?d.content:null,E=T??A??fi(c),C=pi(c);i.push({id:d.id,name:m,status:h,input:C,result:E}),l+=1}return i.length===0&&u.length>0?u.forEach((d,f)=>{i.push({id:`${o.id}-metadata-${f}`,name:di(d)??`Tool ${f+1}`,status:null,input:pi(d),result:fi(d)})}):i.length>0&&u.length>0&&i.forEach((d,f)=>{const c=u[f];c&&((!d.name||d.name==="Tool")&&(d.name=di(c)??d.name),d.input||(d.input=pi(c)),d.result||(d.result=fi(c)))}),i}function gd(e,t){return e?.role===t}function di(e){if(!e)return null;const t=e.name;if(typeof t=="string"&&t.trim().length>0)return t;const n=e.function;if(n&&typeof n=="object"){const r=n.name;if(typeof r=="string"&&r.trim().length>0)return r}return null}function fi(e){if(!e)return null;const t=e.result;if(typeof t=="string")return t;if(t&&typeof t=="object")try{return JSON.stringify(t,null,2)}catch(r){console.warn("Failed to stringify tool result",r)}const n=e.function;if(n&&typeof n=="object"){const r=n.arguments;if(typeof r=="string")return r;if(r&&typeof r=="object")try{return JSON.stringify(r,null,2)}catch(s){console.warn("Failed to stringify tool arguments",s)}}return null}function pi(e){if(!e)return null;const t=e.arguments,n=bl(t);if(n)return n;const r=e.function;if(r&&typeof r=="object"){const s=bl(r.arguments);if(s)return s}return null}function rm(e){if(!e||typeof e!="object")return null;const t=e,n=vi(t,Qv),r=vi(t,em);let s=vi(t,tm);return s==null&&(n!=null||r!=null)&&(s=(n??0)+(r??0)),n==null&&r==null&&s==null?null:{inputTokens:n,outputTokens:r,totalTokens:s}}function vi(e,t){for(const n of t){if(!(n in e))continue;const r=am(e[n]);if(r!=null)return r}return null}function am(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()){const t=Number(e);return Number.isFinite(t)?t:null}return null}function bl(e){if(typeof e=="string"){const t=e.trim();if(!t)return null;try{const n=JSON.parse(t);return typeof n=="string"?n:JSON.stringify(n,null,2)}catch{return t}}if(e&&typeof e=="object")try{return JSON.stringify(e,null,2)}catch(t){console.warn("Failed to stringify tool arguments",t,e)}return null}const yl={open:!1,messageId:null,tools:[]};function sm(){const{subscribe:e,set:t,update:n}=rn(yl);function r(u,l){t({open:!0,messageId:u,tools:l})}function s(u,l,d,f){const c=_l(u,l,d,f);r(d,c)}function o(){t(yl)}function i(u,l,d){n(f=>{if(!f.open||!f.messageId)return f;const c=_l(u,l,f.messageId,d);return c.length===f.tools.length&&c.every((m,h)=>{const T=f.tools[h];return T?.id===m.id&&T?.name===m.name&&T?.status===m.status&&T?.input===m.input&&T?.result===m.result})?f:{...f,tools:c}})}return{subscribe:e,openWithEntries:r,openForMessage:s,close:o,syncEntries:i}}const xl={open:!1,messageId:null,details:null};function om(){const{subscribe:e,set:t,update:n}=rn(xl);function r(i,u){t({open:!0,messageId:i,details:u??{engine:null,maxResults:null,contextSize:null,searchPrompt:null}})}function s(i){const u=i.details?.webSearchConfig;if(u&&typeof u=="object"){const l={engine:u.engine??null,maxResults:u.maxResults??null,contextSize:u.contextSize??null,searchPrompt:u.searchPrompt??null};r(i.id,l)}else r(i.id,null)}function o(){t(xl)}return{subscribe:e,openWithDetails:r,openForMessage:s,close:o}}var im=F('<p class="status modal-empty-state">No web citations found.</p>'),um=F('<h3 class="citations-modal-title svelte-15rpl30"> </h3>'),lm=F('<p class="citations-modal-content svelte-15rpl30"> </p>'),cm=F("<span> </span>"),dm=F("<span> </span>"),fm=F('<div class="citations-modal-meta svelte-15rpl30"><!> <!></div>'),pm=F('<li class="citations-modal-item svelte-15rpl30"><div class="citations-modal-header svelte-15rpl30"><span class="citations-modal-number svelte-15rpl30"></span> <a class="citations-modal-link svelte-15rpl30" target="_blank" rel="noreferrer">Visit source</a></div> <!> <div class="citations-modal-url svelte-15rpl30"> </div> <!> <!></li>'),vm=F('<ul class="citations-modal-list svelte-15rpl30"></ul>'),mm=F('<p class="model-settings-subtitle"> </p>'),hm=F('<h2 id="citations-modal-title">Web Citations</h2> <!>',1);function gm(e,t){Pt(t,!1);const n=an();let r=ie(t,"open",8,!1),s=ie(t,"messageId",8,null),o=ie(t,"citations",24,()=>[]);function i(){n("close")}Ot();var u=Me(),l=me(u);{var d=f=>{Fr(f,{get open(){return r()},labelledBy:"citations-modal-title",modalClass:"citations-modal",bodyClass:"citations-modal-body",closeLabel:"Close web citations",$$events:{close:i},children:(c,g)=>{var m=Me(),h=me(m);{var T=E=>{var C=im();x(E,C)},A=E=>{var C=vm();Lt(C,5,o,Vn,(k,w,S)=>{var y=pm(),D=v(y),z=v(D);z.textContent=`Citation ${S+1}`;var R=b(z,2),P=b(D,2);{var I=re=>{var X=um(),oe=v(X);U(()=>W(oe,(a(w),p(()=>a(w).title)))),x(re,X)};N(P,re=>{a(w),p(()=>a(w).title)&&re(I)})}var Q=b(P,2),Y=v(Q),he=b(Q,2);{var $=re=>{var X=lm(),oe=v(X);U(()=>W(oe,(a(w),p(()=>a(w).content)))),x(re,X)};N(he,re=>{a(w),p(()=>a(w).content)&&re($)})}var ne=b(he,2);{var ae=re=>{var X=fm(),oe=v(X);{var le=J=>{var V=cm(),fe=v(V);U(()=>W(fe,`Start: ${a(w),p(()=>a(w).startIndex)??""}`)),x(J,V)};N(oe,J=>{a(w),p(()=>a(w).startIndex!==void 0)&&J(le)})}var xe=b(oe,2);{var Fe=J=>{var V=dm(),fe=v(V);U(()=>W(fe,`End: ${a(w),p(()=>a(w).endIndex)??""}`)),x(J,V)};N(xe,J=>{a(w),p(()=>a(w).endIndex!==void 0)&&J(Fe)})}x(re,X)};N(ne,re=>{a(w),p(()=>a(w).startIndex!==void 0||a(w).endIndex!==void 0)&&re(ae)})}U(()=>{de(R,"href",(a(w),p(()=>a(w).url))),W(Y,(a(w),p(()=>a(w).url)))}),x(k,y)}),x(E,C)};N(h,E=>{B(o()),p(()=>o().length===0)?E(T):E(A,!1)})}x(c,m)},$$slots:{default:!0,heading:(c,g)=>{var m=hm(),h=b(me(m),2);{var T=A=>{var E=mm(),C=v(E);U(()=>W(C,`Message ID: ${s()??""}`)),x(A,E)};N(h,A=>{s()&&A(T)})}x(c,m)}}})};N(l,f=>{r()&&f(d)})}x(e,u),It()}const kl='<svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"></path><path d="M16 4h2a2 2 0 0 1 2 2v4"></path><path d="M21 14H11"></path><path d="m15 10-4 4 4 4"></path></svg>',_m='<svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"></path></svg>',bm=2e3,ym="copy-code-button",wl="copy-code-block";function xm(e){e.classList.add(wl);const t=document.createElement("button");t.type="button",t.className=ym,t.setAttribute("aria-label","Copy code"),t.setAttribute("title","Copy code"),t.innerHTML=kl;let n=null;const r=async()=>{const o=e.querySelector("code")?.textContent??e.textContent??"";if(o){if(!navigator?.clipboard?.writeText){console.warn("Clipboard API unavailable; cannot copy code block");return}try{await navigator.clipboard.writeText(o)}catch(i){console.error("Failed to copy code block",i);return}n!==null&&window.clearTimeout(n),t.classList.add("copied"),t.setAttribute("aria-label","Code copied"),t.innerHTML=_m,n=window.setTimeout(()=>{e.isConnected&&(t.classList.remove("copied"),t.setAttribute("aria-label","Copy code"),t.innerHTML=kl,n=null)},bm)}};return t.addEventListener("click",r),e.appendChild(t),{cleanup:()=>{t.removeEventListener("click",r),n!==null&&window.clearTimeout(n),t.remove(),e.classList.remove(wl)}}}function Sl(e,t){e.querySelectorAll("pre").forEach(r=>{t.has(r)||t.set(r,xm(r))}),Array.from(t.keys()).forEach(r=>{if(!e.contains(r)){const s=t.get(r);s&&(s.cleanup(),t.delete(r))}})}function Vi(e){const t=new Map,n=new MutationObserver(()=>{Sl(e,t)});return n.observe(e,{childList:!0,subtree:!0}),Sl(e,t),{destroy:()=>{n.disconnect(),Array.from(t.values()).forEach(r=>r.cleanup()),t.clear()}}}const El={};function km(e){let t=El[e];if(t)return t;t=El[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);t.push(r)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}function Za(e,t){typeof t!="string"&&(t=Za.defaultChars);const n=km(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(r){let s="";for(let o=0,i=r.length;o<i;o+=3){const u=parseInt(r.slice(o+1,o+3),16);if(u<128){s+=n[u];continue}if((u&224)===192&&o+3<i){const l=parseInt(r.slice(o+4,o+6),16);if((l&192)===128){const d=u<<6&1984|l&63;d<128?s+="ï¿½ï¿½":s+=String.fromCharCode(d),o+=3;continue}}if((u&240)===224&&o+6<i){const l=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16);if((l&192)===128&&(d&192)===128){const f=u<<12&61440|l<<6&4032|d&63;f<2048||f>=55296&&f<=57343?s+="ï¿½ï¿½ï¿½":s+=String.fromCharCode(f),o+=6;continue}}if((u&248)===240&&o+9<i){const l=parseInt(r.slice(o+4,o+6),16),d=parseInt(r.slice(o+7,o+9),16),f=parseInt(r.slice(o+10,o+12),16);if((l&192)===128&&(d&192)===128&&(f&192)===128){let c=u<<18&1835008|l<<12&258048|d<<6&4032|f&63;c<65536||c>1114111?s+="ï¿½ï¿½ï¿½ï¿½":(c-=65536,s+=String.fromCharCode(55296+(c>>10),56320+(c&1023))),o+=9;continue}}s+="ï¿½"}return s})}Za.defaultChars=";/?:@&=+$,#";Za.componentChars="";const Cl={};function wm(e){let t=Cl[e];if(t)return t;t=Cl[e]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?t.push(r):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function Vs(e,t,n){typeof t!="string"&&(n=t,t=Vs.defaultChars),typeof n>"u"&&(n=!0);const r=wm(t);let s="";for(let o=0,i=e.length;o<i;o++){const u=e.charCodeAt(o);if(n&&u===37&&o+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3))){s+=e.slice(o,o+3),o+=2;continue}if(u<128){s+=r[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&o+1<i){const l=e.charCodeAt(o+1);if(l>=56320&&l<=57343){s+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}s+="%EF%BF%BD";continue}s+=encodeURIComponent(e[o])}return s}Vs.defaultChars=";/?:@&=+$,-_.!~*'()#";Vs.componentChars="-_.!~*'()";function xu(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Ao(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Sm=/^([a-z0-9.+-]+:)/i,Em=/:[0-9]*$/,Cm=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Am=["<",">",'"',"`"," ","\r",`
`,"	"],Tm=["{","}","|","\\","^","`"].concat(Am),Dm=["'"].concat(Tm),Al=["%","/","?",";","#"].concat(Dm),Tl=["/","?","#"],Mm=255,Dl=/^[+a-z0-9A-Z_-]{0,63}$/,Fm=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ml={javascript:!0,"javascript:":!0},Fl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ku(e,t){if(e&&e instanceof Ao)return e;const n=new Ao;return n.parse(e,t),n}Ao.prototype.parse=function(e,t){let n,r,s,o=e;if(o=o.trim(),!t&&e.split("#").length===1){const d=Cm.exec(o);if(d)return this.pathname=d[1],d[2]&&(this.search=d[2]),this}let i=Sm.exec(o);if(i&&(i=i[0],n=i.toLowerCase(),this.protocol=i,o=o.substr(i.length)),(t||i||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=o.substr(0,2)==="//",s&&!(i&&Ml[i])&&(o=o.substr(2),this.slashes=!0)),!Ml[i]&&(s||i&&!Fl[i])){let d=-1;for(let h=0;h<Tl.length;h++)r=o.indexOf(Tl[h]),r!==-1&&(d===-1||r<d)&&(d=r);let f,c;d===-1?c=o.lastIndexOf("@"):c=o.lastIndexOf("@",d),c!==-1&&(f=o.slice(0,c),o=o.slice(c+1),this.auth=f),d=-1;for(let h=0;h<Al.length;h++)r=o.indexOf(Al[h]),r!==-1&&(d===-1||r<d)&&(d=r);d===-1&&(d=o.length),o[d-1]===":"&&d--;const g=o.slice(0,d);o=o.slice(d),this.parseHost(g),this.hostname=this.hostname||"";const m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m){const h=this.hostname.split(/\./);for(let T=0,A=h.length;T<A;T++){const E=h[T];if(E&&!E.match(Dl)){let C="";for(let k=0,w=E.length;k<w;k++)E.charCodeAt(k)>127?C+="x":C+=E[k];if(!C.match(Dl)){const k=h.slice(0,T),w=h.slice(T+1),S=E.match(Fm);S&&(k.push(S[1]),w.unshift(S[2])),w.length&&(o=w.join(".")+o),this.hostname=k.join(".");break}}}}this.hostname.length>Mm&&(this.hostname=""),m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const u=o.indexOf("#");u!==-1&&(this.hash=o.substr(u),o=o.slice(0,u));const l=o.indexOf("?");return l!==-1&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),Fl[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Ao.prototype.parseHost=function(e){let t=Em.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Pm=Object.freeze(Object.defineProperty({__proto__:null,decode:Za,encode:Vs,format:xu,parse:ku},Symbol.toStringTag,{value:"Module"})),_d=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,bd=/[\0-\x1F\x7F-\x9F]/,Im=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,wu=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,yd=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,xd=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Nm=Object.freeze(Object.defineProperty({__proto__:null,Any:_d,Cc:bd,Cf:Im,P:wu,S:yd,Z:xd},Symbol.toStringTag,{value:"Module"})),Lm=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(e=>e.charCodeAt(0))),Om=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(e=>e.charCodeAt(0)));var mi;const $m=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Rm=(mi=String.fromCodePoint)!==null&&mi!==void 0?mi:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function zm(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=$m.get(e))!==null&&t!==void 0?t:e}var An;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(An||(An={}));const Bm=32;var Yr;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Yr||(Yr={}));function Gi(e){return e>=An.ZERO&&e<=An.NINE}function Um(e){return e>=An.UPPER_A&&e<=An.UPPER_F||e>=An.LOWER_A&&e<=An.LOWER_F}function jm(e){return e>=An.UPPER_A&&e<=An.UPPER_Z||e>=An.LOWER_A&&e<=An.LOWER_Z||Gi(e)}function qm(e){return e===An.EQUALS||jm(e)}var En;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(En||(En={}));var Gr;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Gr||(Gr={}));class Hm{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=En.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Gr.Strict}startEntity(t){this.decodeMode=t,this.state=En.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case En.EntityStart:return t.charCodeAt(n)===An.NUM?(this.state=En.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=En.NamedEntity,this.stateNamedEntity(t,n));case En.NumericStart:return this.stateNumericStart(t,n);case En.NumericDecimal:return this.stateNumericDecimal(t,n);case En.NumericHex:return this.stateNumericHex(t,n);case En.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|Bm)===An.LOWER_X?(this.state=En.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=En.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,s){if(n!==r){const o=r-n;this.result=this.result*Math.pow(s,o)+parseInt(t.substr(n,o),s),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Gi(s)||Um(s))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const s=t.charCodeAt(n);if(Gi(s))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===An.SEMI)this.consumed+=1;else if(this.decodeMode===Gr.Strict)return 0;return this.emitCodePoint(zm(this.result),this.consumed),this.errors&&(t!==An.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let s=r[this.treeIndex],o=(s&Yr.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const i=t.charCodeAt(n);if(this.treeIndex=Wm(r,s,this.treeIndex+Math.max(1,o),i),this.treeIndex<0)return this.result===0||this.decodeMode===Gr.Attribute&&(o===0||qm(i))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],o=(s&Yr.VALUE_LENGTH)>>14,o!==0){if(i===An.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Gr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,s=(r[n]&Yr.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[t]&~Yr.VALUE_LENGTH:s[t+1],r),n===3&&this.emitCodePoint(s[t+2],r),r}end(){var t;switch(this.state){case En.NamedEntity:return this.result!==0&&(this.decodeMode!==Gr.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case En.NumericDecimal:return this.emitNumericEntity(0,2);case En.NumericHex:return this.emitNumericEntity(0,3);case En.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case En.EntityStart:return 0}}}function kd(e){let t="";const n=new Hm(e,r=>t+=Rm(r));return function(s,o){let i=0,u=0;for(;(u=s.indexOf("&",u))>=0;){t+=s.slice(i,u),n.startEntity(o);const d=n.write(s,u+1);if(d<0){i=u+n.end();break}i=u+d,u=d===0?i+1:i}const l=t+s.slice(i);return t="",l}}function Wm(e,t,n,r){const s=(t&Yr.BRANCH_LENGTH)>>7,o=t&Yr.JUMP_TABLE;if(s===0)return o!==0&&r===o?n:-1;if(o){const l=r-o;return l<0||l>=s?-1:e[n+l]-1}let i=n,u=i+s-1;for(;i<=u;){const l=i+u>>>1,d=e[l];if(d<r)i=l+1;else if(d>r)u=l-1;else return e[l+s]}return-1}const Vm=kd(Lm);kd(Om);function wd(e,t=Gr.Legacy){return Vm(e,t)}function Gm(e){return Object.prototype.toString.call(e)}function Su(e){return Gm(e)==="[object String]"}const Zm=Object.prototype.hasOwnProperty;function Km(e,t){return Zm.call(e,t)}function jo(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){e[r]=n[r]})}}),e}function Sd(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Eu(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function To(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const Ed=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Ym=/&([a-z#][a-z0-9]{1,31});/gi,Jm=new RegExp(Ed.source+"|"+Ym.source,"gi"),Xm=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Qm(e,t){if(t.charCodeAt(0)===35&&Xm.test(t)){const r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Eu(r)?To(r):e}const n=wd(e);return n!==e?n:e}function eh(e){return e.indexOf("\\")<0?e:e.replace(Ed,"$1")}function Ka(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(Jm,function(t,n,r){return n||Qm(t,r)})}const th=/[&<>"]/,nh=/[&<>"]/g,rh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ah(e){return rh[e]}function ta(e){return th.test(e)?e.replace(nh,ah):e}const sh=/[.?*+^$[\]\\(){}|-]/g;function oh(e){return e.replace(sh,"\\$&")}function Qt(e){switch(e){case 9:case 32:return!0}return!1}function Ns(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Ls(e){return wu.test(e)||yd.test(e)}function Os(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function qo(e){return e=e.trim().replace(/\s+/g," "),"áº".toLowerCase()==="á¹¾"&&(e=e.replace(/áº/g,"Ã")),e.toLowerCase().toUpperCase()}const ih={mdurl:Pm,ucmicro:Nm},uh=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Sd,assign:jo,escapeHtml:ta,escapeRE:oh,fromCodePoint:To,has:Km,isMdAsciiPunct:Os,isPunctChar:Ls,isSpace:Qt,isString:Su,isValidEntityCode:Eu,isWhiteSpace:Ns,lib:ih,normalizeReference:qo,unescapeAll:Ka,unescapeMd:eh},Symbol.toStringTag,{value:"Module"}));function lh(e,t,n){let r,s,o,i;const u=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<u;){if(o=e.src.charCodeAt(e.pos),o===93&&(r--,r===0)){s=!0;break}if(i=e.pos,e.md.inline.skipToken(e),o===91){if(i===e.pos-1)r++;else if(n)return e.pos=l,-1}}let d=-1;return s&&(d=e.pos),e.pos=l,d}function ch(e,t,n){let r,s=t;const o={ok:!1,pos:0,str:""};if(e.charCodeAt(s)===60){for(s++;s<n;){if(r=e.charCodeAt(s),r===10||r===60)return o;if(r===62)return o.pos=s+1,o.str=Ka(e.slice(t+1,s)),o.ok=!0,o;if(r===92&&s+1<n){s+=2;continue}s++}return o}let i=0;for(;s<n&&(r=e.charCodeAt(s),!(r===32||r<32||r===127));){if(r===92&&s+1<n){if(e.charCodeAt(s+1)===32)break;s+=2;continue}if(r===40&&(i++,i>32))return o;if(r===41){if(i===0)break;i--}s++}return t===s||i!==0||(o.str=Ka(e.slice(t,s)),o.pos=s,o.ok=!0),o}function dh(e,t,n,r){let s,o=t;const i={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)i.str=r.str,i.marker=r.marker;else{if(o>=n)return i;let u=e.charCodeAt(o);if(u!==34&&u!==39&&u!==40)return i;t++,o++,u===40&&(u=41),i.marker=u}for(;o<n;){if(s=e.charCodeAt(o),s===i.marker)return i.pos=o+1,i.str+=Ka(e.slice(t,o)),i.ok=!0,i;if(s===40&&i.marker===41)return i;s===92&&o+1<n&&o++,o++}return i.can_continue=!0,i.str+=Ka(e.slice(t,o)),i}const fh=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:ch,parseLinkLabel:lh,parseLinkTitle:dh},Symbol.toStringTag,{value:"Module"})),Pr={};Pr.code_inline=function(e,t,n,r,s){const o=e[t];return"<code"+s.renderAttrs(o)+">"+ta(o.content)+"</code>"};Pr.code_block=function(e,t,n,r,s){const o=e[t];return"<pre"+s.renderAttrs(o)+"><code>"+ta(e[t].content)+`</code></pre>
`};Pr.fence=function(e,t,n,r,s){const o=e[t],i=o.info?Ka(o.info).trim():"";let u="",l="";if(i){const f=i.split(/(\s+)/g);u=f[0],l=f.slice(2).join("")}let d;if(n.highlight?d=n.highlight(o.content,u,l)||ta(o.content):d=ta(o.content),d.indexOf("<pre")===0)return d+`
`;if(i){const f=o.attrIndex("class"),c=o.attrs?o.attrs.slice():[];f<0?c.push(["class",n.langPrefix+u]):(c[f]=c[f].slice(),c[f][1]+=" "+n.langPrefix+u);const g={attrs:c};return`<pre><code${s.renderAttrs(g)}>${d}</code></pre>
`}return`<pre><code${s.renderAttrs(o)}>${d}</code></pre>
`};Pr.image=function(e,t,n,r,s){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=s.renderInlineAsText(o.children,n,r),s.renderToken(e,t,n)};Pr.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};Pr.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Pr.text=function(e,t){return ta(e[t].content)};Pr.html_block=function(e,t){return e[t].content};Pr.html_inline=function(e,t){return e[t].content};function rs(){this.rules=jo({},Pr)}rs.prototype.renderAttrs=function(t){let n,r,s;if(!t.attrs)return"";for(s="",n=0,r=t.attrs.length;n<r;n++)s+=" "+ta(t.attrs[n][0])+'="'+ta(t.attrs[n][1])+'"';return s};rs.prototype.renderToken=function(t,n,r){const s=t[n];let o="";if(s.hidden)return"";s.block&&s.nesting!==-1&&n&&t[n-1].hidden&&(o+=`
`),o+=(s.nesting===-1?"</":"<")+s.tag,o+=this.renderAttrs(s),s.nesting===0&&r.xhtmlOut&&(o+=" /");let i=!1;if(s.block&&(i=!0,s.nesting===1&&n+1<t.length)){const u=t[n+1];(u.type==="inline"||u.hidden||u.nesting===-1&&u.tag===s.tag)&&(i=!1)}return o+=i?`>
`:">",o};rs.prototype.renderInline=function(e,t,n){let r="";const s=this.rules;for(let o=0,i=e.length;o<i;o++){const u=e[o].type;typeof s[u]<"u"?r+=s[u](e,o,t,n,this):r+=this.renderToken(e,o,t)}return r};rs.prototype.renderInlineAsText=function(e,t,n){let r="";for(let s=0,o=e.length;s<o;s++)switch(e[s].type){case"text":r+=e[s].content;break;case"image":r+=this.renderInlineAsText(e[s].children,t,n);break;case"html_inline":case"html_block":r+=e[s].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};rs.prototype.render=function(e,t,n){let r="";const s=this.rules;for(let o=0,i=e.length;o<i;o++){const u=e[o].type;u==="inline"?r+=this.renderInline(e[o].children,t,n):typeof s[u]<"u"?r+=s[u](e,o,t,n,this):r+=this.renderToken(e,o,t,n)}return r};function Gn(){this.__rules__=[],this.__cache__=null}Gn.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};Gn.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};Gn.prototype.at=function(e,t,n){const r=this.__find__(e),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=s.alt||[],this.__cache__=null};Gn.prototype.before=function(e,t,n,r){const s=this.__find__(e),o=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};Gn.prototype.after=function(e,t,n,r){const s=this.__find__(e),o=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};Gn.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};Gn.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};Gn.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};Gn.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(r){const s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};Gn.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function _r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}_r.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,s=n.length;r<s;r++)if(n[r][0]===t)return r;return-1};_r.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};_r.prototype.attrSet=function(t,n){const r=this.attrIndex(t),s=[t,n];r<0?this.attrPush(s):this.attrs[r]=s};_r.prototype.attrGet=function(t){const n=this.attrIndex(t);let r=null;return n>=0&&(r=this.attrs[n][1]),r};_r.prototype.attrJoin=function(t,n){const r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function Cd(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}Cd.prototype.Token=_r;const ph=/\r\n?|\n/g,vh=/\0/g;function mh(e){let t;t=e.src.replace(ph,`
`),t=t.replace(vh,"ï¿½"),e.src=t}function hh(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function gh(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const s=t[n];s.type==="inline"&&e.md.inline.parse(s.content,e.md,e.env,s.children)}}function _h(e){return/^<a[>\s]/i.test(e)}function bh(e){return/^<\/a\s*>/i.test(e)}function yh(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let s=t[n].children,o=0;for(let i=s.length-1;i>=0;i--){const u=s[i];if(u.type==="link_close"){for(i--;s[i].level!==u.level&&s[i].type!=="link_open";)i--;continue}if(u.type==="html_inline"&&(_h(u.content)&&o>0&&o--,bh(u.content)&&o++),!(o>0)&&u.type==="text"&&e.md.linkify.test(u.content)){const l=u.content;let d=e.md.linkify.match(l);const f=[];let c=u.level,g=0;d.length>0&&d[0].index===0&&i>0&&s[i-1].type==="text_special"&&(d=d.slice(1));for(let m=0;m<d.length;m++){const h=d[m].url,T=e.md.normalizeLink(h);if(!e.md.validateLink(T))continue;let A=d[m].text;d[m].schema?d[m].schema==="mailto:"&&!/^mailto:/i.test(A)?A=e.md.normalizeLinkText("mailto:"+A).replace(/^mailto:/,""):A=e.md.normalizeLinkText(A):A=e.md.normalizeLinkText("http://"+A).replace(/^http:\/\//,"");const E=d[m].index;if(E>g){const S=new e.Token("text","",0);S.content=l.slice(g,E),S.level=c,f.push(S)}const C=new e.Token("link_open","a",1);C.attrs=[["href",T]],C.level=c++,C.markup="linkify",C.info="auto",f.push(C);const k=new e.Token("text","",0);k.content=A,k.level=c,f.push(k);const w=new e.Token("link_close","a",-1);w.level=--c,w.markup="linkify",w.info="auto",f.push(w),g=d[m].lastIndex}if(g<l.length){const m=new e.Token("text","",0);m.content=l.slice(g),m.level=c,f.push(m)}t[n].children=s=Sd(s,i,f)}}}}const Ad=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,xh=/\((c|tm|r)\)/i,kh=/\((c|tm|r)\)/ig,wh={c:"Â©",r:"Â®",tm:"â¢"};function Sh(e,t){return wh[t.toLowerCase()]}function Eh(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&(r.content=r.content.replace(kh,Sh)),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function Ch(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];r.type==="text"&&!t&&Ad.test(r.content)&&(r.content=r.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1â").replace(/(^|\s)--(?=\s|$)/mg,"$1â").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1â")),r.type==="link_open"&&r.info==="auto"&&t--,r.type==="link_close"&&r.info==="auto"&&t++}}function Ah(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(xh.test(e.tokens[t].content)&&Eh(e.tokens[t].children),Ad.test(e.tokens[t].content)&&Ch(e.tokens[t].children))}const Th=/['"]/,Pl=/['"]/g,Il="â";function no(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function Dh(e,t){let n;const r=[];for(let s=0;s<e.length;s++){const o=e[s],i=e[s].level;for(n=r.length-1;n>=0&&!(r[n].level<=i);n--);if(r.length=n+1,o.type!=="text")continue;let u=o.content,l=0,d=u.length;e:for(;l<d;){Pl.lastIndex=l;const f=Pl.exec(u);if(!f)break;let c=!0,g=!0;l=f.index+1;const m=f[0]==="'";let h=32;if(f.index-1>=0)h=u.charCodeAt(f.index-1);else for(n=s-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){h=e[n].content.charCodeAt(e[n].content.length-1);break}let T=32;if(l<d)T=u.charCodeAt(l);else for(n=s+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){T=e[n].content.charCodeAt(0);break}const A=Os(h)||Ls(String.fromCharCode(h)),E=Os(T)||Ls(String.fromCharCode(T)),C=Ns(h),k=Ns(T);if(k?c=!1:E&&(C||A||(c=!1)),C?g=!1:A&&(k||E||(g=!1)),T===34&&f[0]==='"'&&h>=48&&h<=57&&(g=c=!1),c&&g&&(c=A,g=E),!c&&!g){m&&(o.content=no(o.content,f.index,Il));continue}if(g)for(n=r.length-1;n>=0;n--){let w=r[n];if(r[n].level<i)break;if(w.single===m&&r[n].level===i){w=r[n];let S,y;m?(S=t.md.options.quotes[2],y=t.md.options.quotes[3]):(S=t.md.options.quotes[0],y=t.md.options.quotes[1]),o.content=no(o.content,f.index,y),e[w.token].content=no(e[w.token].content,w.pos,S),l+=y.length-1,w.token===s&&(l+=S.length-1),u=o.content,d=u.length,r.length=n;continue e}}c?r.push({token:s,pos:f.index,single:m,level:i}):g&&m&&(o.content=no(o.content,f.index,Il))}}}function Mh(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!Th.test(e.tokens[t].content)||Dh(e.tokens[t].children,e)}function Fh(e){let t,n;const r=e.tokens,s=r.length;for(let o=0;o<s;o++){if(r[o].type!=="inline")continue;const i=r[o].children,u=i.length;for(t=0;t<u;t++)i[t].type==="text_special"&&(i[t].type="text");for(t=n=0;t<u;t++)i[t].type==="text"&&t+1<u&&i[t+1].type==="text"?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}}const hi=[["normalize",mh],["block",hh],["inline",gh],["linkify",yh],["replacements",Ah],["smartquotes",Mh],["text_join",Fh]];function Cu(){this.ruler=new Gn;for(let e=0;e<hi.length;e++)this.ruler.push(hi[e][0],hi[e][1])}Cu.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)};Cu.prototype.State=Cd;function Ir(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let o=0,i=0,u=0,l=0,d=s.length,f=!1;i<d;i++){const c=s.charCodeAt(i);if(!f)if(Qt(c)){u++,c===9?l+=4-l%4:l++;continue}else f=!0;(c===10||i===d-1)&&(c!==10&&i++,this.bMarks.push(o),this.eMarks.push(i),this.tShift.push(u),this.sCount.push(l),this.bsCount.push(0),f=!1,u=0,l=0,o=i+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Ir.prototype.push=function(e,t,n){const r=new _r(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Ir.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Ir.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Ir.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const r=this.src.charCodeAt(t);if(!Qt(r))break}return t};Ir.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Qt(this.src.charCodeAt(--t)))return t+1;return t};Ir.prototype.skipChars=function(t,n){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Ir.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Ir.prototype.getLines=function(t,n,r,s){if(t>=n)return"";const o=new Array(n-t);for(let i=0,u=t;u<n;u++,i++){let l=0;const d=this.bMarks[u];let f=d,c;for(u+1<n||s?c=this.eMarks[u]+1:c=this.eMarks[u];f<c&&l<r;){const g=this.src.charCodeAt(f);if(Qt(g))g===9?l+=4-(l+this.bsCount[u])%4:l++;else if(f-d<this.tShift[u])l++;else break;f++}l>r?o[i]=new Array(l-r+1).join(" ")+this.src.slice(f,c):o[i]=this.src.slice(f,c)}return o.join("")};Ir.prototype.Token=_r;const Ph=65536;function gi(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function Nl(e){const t=[],n=e.length;let r=0,s=e.charCodeAt(r),o=!1,i=0,u="";for(;r<n;)s===124&&(o?(u+=e.substring(i,r-1),i=r):(t.push(u+e.substring(i,r)),u="",i=r+1)),o=s===92,r++,s=e.charCodeAt(r);return t.push(u+e.substring(i)),t}function Ih(e,t,n,r){if(t+2>n)return!1;let s=t+1;if(e.sCount[s]<e.blkIndent||e.sCount[s]-e.blkIndent>=4)return!1;let o=e.bMarks[s]+e.tShift[s];if(o>=e.eMarks[s])return!1;const i=e.src.charCodeAt(o++);if(i!==124&&i!==45&&i!==58||o>=e.eMarks[s])return!1;const u=e.src.charCodeAt(o++);if(u!==124&&u!==45&&u!==58&&!Qt(u)||i===45&&Qt(u))return!1;for(;o<e.eMarks[s];){const w=e.src.charCodeAt(o);if(w!==124&&w!==45&&w!==58&&!Qt(w))return!1;o++}let l=gi(e,t+1),d=l.split("|");const f=[];for(let w=0;w<d.length;w++){const S=d[w].trim();if(!S){if(w===0||w===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(S))return!1;S.charCodeAt(S.length-1)===58?f.push(S.charCodeAt(0)===58?"center":"right"):S.charCodeAt(0)===58?f.push("left"):f.push("")}if(l=gi(e,t).trim(),l.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;d=Nl(l),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop();const c=d.length;if(c===0||c!==f.length)return!1;if(r)return!0;const g=e.parentType;e.parentType="table";const m=e.md.block.ruler.getRules("blockquote"),h=e.push("table_open","table",1),T=[t,0];h.map=T;const A=e.push("thead_open","thead",1);A.map=[t,t+1];const E=e.push("tr_open","tr",1);E.map=[t,t+1];for(let w=0;w<d.length;w++){const S=e.push("th_open","th",1);f[w]&&(S.attrs=[["style","text-align:"+f[w]]]);const y=e.push("inline","",0);y.content=d[w].trim(),y.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let C,k=0;for(s=t+2;s<n&&!(e.sCount[s]<e.blkIndent);s++){let w=!1;for(let y=0,D=m.length;y<D;y++)if(m[y](e,s,n,!0)){w=!0;break}if(w||(l=gi(e,s).trim(),!l)||e.sCount[s]-e.blkIndent>=4||(d=Nl(l),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),k+=c-d.length,k>Ph))break;if(s===t+2){const y=e.push("tbody_open","tbody",1);y.map=C=[t+2,0]}const S=e.push("tr_open","tr",1);S.map=[s,s+1];for(let y=0;y<c;y++){const D=e.push("td_open","td",1);f[y]&&(D.attrs=[["style","text-align:"+f[y]]]);const z=e.push("inline","",0);z.content=d[y]?d[y].trim():"",z.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return C&&(e.push("tbody_close","tbody",-1),C[1]=s),e.push("table_close","table",-1),T[1]=s,e.parentType=g,e.line=s,!0}function Nh(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,s=r;for(;r<n;){if(e.isEmpty(r)){r++;continue}if(e.sCount[r]-e.blkIndent>=4){r++,s=r;continue}break}e.line=s;const o=e.push("code_block","code",0);return o.content=e.getLines(t,s,4+e.blkIndent,!1)+`
`,o.map=[t,e.line],!0}function Lh(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||s+3>o)return!1;const i=e.src.charCodeAt(s);if(i!==126&&i!==96)return!1;let u=s;s=e.skipChars(s,i);let l=s-u;if(l<3)return!1;const d=e.src.slice(u,s),f=e.src.slice(s,o);if(i===96&&f.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;let c=t,g=!1;for(;c++,!(c>=n||(s=u=e.bMarks[c]+e.tShift[c],o=e.eMarks[c],s<o&&e.sCount[c]<e.blkIndent));)if(e.src.charCodeAt(s)===i&&!(e.sCount[c]-e.blkIndent>=4)&&(s=e.skipChars(s,i),!(s-u<l)&&(s=e.skipSpaces(s),!(s<o)))){g=!0;break}l=e.sCount[t],e.line=c+(g?1:0);const m=e.push("fence","code",0);return m.info=f,m.content=e.getLines(t+1,c,l,!0),m.markup=d,m.map=[t,e.line],!0}function Oh(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const i=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(s)!==62)return!1;if(r)return!0;const u=[],l=[],d=[],f=[],c=e.md.block.ruler.getRules("blockquote"),g=e.parentType;e.parentType="blockquote";let m=!1,h;for(h=t;h<n;h++){const k=e.sCount[h]<e.blkIndent;if(s=e.bMarks[h]+e.tShift[h],o=e.eMarks[h],s>=o)break;if(e.src.charCodeAt(s++)===62&&!k){let S=e.sCount[h]+1,y,D;e.src.charCodeAt(s)===32?(s++,S++,D=!1,y=!0):e.src.charCodeAt(s)===9?(y=!0,(e.bsCount[h]+S)%4===3?(s++,S++,D=!1):D=!0):y=!1;let z=S;for(u.push(e.bMarks[h]),e.bMarks[h]=s;s<o;){const R=e.src.charCodeAt(s);if(Qt(R))R===9?z+=4-(z+e.bsCount[h]+(D?1:0))%4:z++;else break;s++}m=s>=o,l.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(y?1:0),d.push(e.sCount[h]),e.sCount[h]=z-S,f.push(e.tShift[h]),e.tShift[h]=s-e.bMarks[h];continue}if(m)break;let w=!1;for(let S=0,y=c.length;S<y;S++)if(c[S](e,h,n,!0)){w=!0;break}if(w){e.lineMax=h,e.blkIndent!==0&&(u.push(e.bMarks[h]),l.push(e.bsCount[h]),f.push(e.tShift[h]),d.push(e.sCount[h]),e.sCount[h]-=e.blkIndent);break}u.push(e.bMarks[h]),l.push(e.bsCount[h]),f.push(e.tShift[h]),d.push(e.sCount[h]),e.sCount[h]=-1}const T=e.blkIndent;e.blkIndent=0;const A=e.push("blockquote_open","blockquote",1);A.markup=">";const E=[t,0];A.map=E,e.md.block.tokenize(e,t,h);const C=e.push("blockquote_close","blockquote",-1);C.markup=">",e.lineMax=i,e.parentType=g,E[1]=e.line;for(let k=0;k<f.length;k++)e.bMarks[k+t]=u[k],e.tShift[k+t]=f[k],e.sCount[k+t]=d[k],e.bsCount[k+t]=l[k];return e.blkIndent=T,!0}function $h(e,t,n,r){const s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(o++);if(i!==42&&i!==45&&i!==95)return!1;let u=1;for(;o<s;){const d=e.src.charCodeAt(o++);if(d!==i&&!Qt(d))return!1;d===i&&u++}if(u<3)return!1;if(r)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(u+1).join(String.fromCharCode(i)),!0}function Ll(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(r++);if(s!==42&&s!==45&&s!==43)return-1;if(r<n){const o=e.src.charCodeAt(r);if(!Qt(o))return-1}return r}function Ol(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let s=n;if(s+1>=r)return-1;let o=e.src.charCodeAt(s++);if(o<48||o>57)return-1;for(;;){if(s>=r)return-1;if(o=e.src.charCodeAt(s++),o>=48&&o<=57){if(s-n>=10)return-1;continue}if(o===41||o===46)break;return-1}return s<r&&(o=e.src.charCodeAt(s),!Qt(o))?-1:s}function Rh(e,t){const n=e.level+2;for(let r=t+2,s=e.tokens.length-2;r<s;r++)e.tokens[r].level===n&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}function zh(e,t,n,r){let s,o,i,u,l=t,d=!0;if(e.sCount[l]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let f=!1;r&&e.parentType==="paragraph"&&e.sCount[l]>=e.blkIndent&&(f=!0);let c,g,m;if((m=Ol(e,l))>=0){if(c=!0,i=e.bMarks[l]+e.tShift[l],g=Number(e.src.slice(i,m-1)),f&&g!==1)return!1}else if((m=Ll(e,l))>=0)c=!1;else return!1;if(f&&e.skipSpaces(m)>=e.eMarks[l])return!1;if(r)return!0;const h=e.src.charCodeAt(m-1),T=e.tokens.length;c?(u=e.push("ordered_list_open","ol",1),g!==1&&(u.attrs=[["start",g]])):u=e.push("bullet_list_open","ul",1);const A=[l,0];u.map=A,u.markup=String.fromCharCode(h);let E=!1;const C=e.md.block.ruler.getRules("list"),k=e.parentType;for(e.parentType="list";l<n;){o=m,s=e.eMarks[l];const w=e.sCount[l]+m-(e.bMarks[l]+e.tShift[l]);let S=w;for(;o<s;){const $=e.src.charCodeAt(o);if($===9)S+=4-(S+e.bsCount[l])%4;else if($===32)S++;else break;o++}const y=o;let D;y>=s?D=1:D=S-w,D>4&&(D=1);const z=w+D;u=e.push("list_item_open","li",1),u.markup=String.fromCharCode(h);const R=[l,0];u.map=R,c&&(u.info=e.src.slice(i,m-1));const P=e.tight,I=e.tShift[l],Q=e.sCount[l],Y=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=z,e.tight=!0,e.tShift[l]=y-e.bMarks[l],e.sCount[l]=S,y>=s&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),(!e.tight||E)&&(d=!1),E=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=Y,e.tShift[l]=I,e.sCount[l]=Q,e.tight=P,u=e.push("list_item_close","li",-1),u.markup=String.fromCharCode(h),l=e.line,R[1]=l,l>=n||e.sCount[l]<e.blkIndent||e.sCount[l]-e.blkIndent>=4)break;let he=!1;for(let $=0,ne=C.length;$<ne;$++)if(C[$](e,l,n,!0)){he=!0;break}if(he)break;if(c){if(m=Ol(e,l),m<0)break;i=e.bMarks[l]+e.tShift[l]}else if(m=Ll(e,l),m<0)break;if(h!==e.src.charCodeAt(m-1))break}return c?u=e.push("ordered_list_close","ol",-1):u=e.push("bullet_list_close","ul",-1),u.markup=String.fromCharCode(h),A[1]=l,e.line=l,e.parentType=k,d&&Rh(e,T),!0}function Bh(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],i=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(s)!==91)return!1;function u(C){const k=e.lineMax;if(C>=k||e.isEmpty(C))return null;let w=!1;if(e.sCount[C]-e.blkIndent>3&&(w=!0),e.sCount[C]<0&&(w=!0),!w){const D=e.md.block.ruler.getRules("reference"),z=e.parentType;e.parentType="reference";let R=!1;for(let P=0,I=D.length;P<I;P++)if(D[P](e,C,k,!0)){R=!0;break}if(e.parentType=z,R)return null}const S=e.bMarks[C]+e.tShift[C],y=e.eMarks[C];return e.src.slice(S,y+1)}let l=e.src.slice(s,o+1);o=l.length;let d=-1;for(s=1;s<o;s++){const C=l.charCodeAt(s);if(C===91)return!1;if(C===93){d=s;break}else if(C===10){const k=u(i);k!==null&&(l+=k,o=l.length,i++)}else if(C===92&&(s++,s<o&&l.charCodeAt(s)===10)){const k=u(i);k!==null&&(l+=k,o=l.length,i++)}}if(d<0||l.charCodeAt(d+1)!==58)return!1;for(s=d+2;s<o;s++){const C=l.charCodeAt(s);if(C===10){const k=u(i);k!==null&&(l+=k,o=l.length,i++)}else if(!Qt(C))break}const f=e.md.helpers.parseLinkDestination(l,s,o);if(!f.ok)return!1;const c=e.md.normalizeLink(f.str);if(!e.md.validateLink(c))return!1;s=f.pos;const g=s,m=i,h=s;for(;s<o;s++){const C=l.charCodeAt(s);if(C===10){const k=u(i);k!==null&&(l+=k,o=l.length,i++)}else if(!Qt(C))break}let T=e.md.helpers.parseLinkTitle(l,s,o);for(;T.can_continue;){const C=u(i);if(C===null)break;l+=C,s=o,o=l.length,i++,T=e.md.helpers.parseLinkTitle(l,s,o,T)}let A;for(s<o&&h!==s&&T.ok?(A=T.str,s=T.pos):(A="",s=g,i=m);s<o;){const C=l.charCodeAt(s);if(!Qt(C))break;s++}if(s<o&&l.charCodeAt(s)!==10&&A)for(A="",s=g,i=m;s<o;){const C=l.charCodeAt(s);if(!Qt(C))break;s++}if(s<o&&l.charCodeAt(s)!==10)return!1;const E=qo(l.slice(1,d));return E?(r||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[E]>"u"&&(e.env.references[E]={title:A,href:c}),e.line=i),!0):!1}const Uh=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jh="[a-zA-Z_:][a-zA-Z0-9:._-]*",qh="[^\"'=<>`\\x00-\\x20]+",Hh="'[^']*'",Wh='"[^"]*"',Vh="(?:"+qh+"|"+Hh+"|"+Wh+")",Gh="(?:\\s+"+jh+"(?:\\s*=\\s*"+Vh+")?)",Td="<[A-Za-z][A-Za-z0-9\\-]*"+Gh+"*\\s*\\/?>",Dd="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Zh="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Kh="<[?][\\s\\S]*?[?]>",Yh="<![A-Za-z][^>]*>",Jh="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Xh=new RegExp("^(?:"+Td+"|"+Dd+"|"+Zh+"|"+Kh+"|"+Yh+"|"+Jh+")"),Qh=new RegExp("^(?:"+Td+"|"+Dd+")"),Fa=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Uh.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Qh.source+"\\s*$"),/^$/,!1]];function eg(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(s)!==60)return!1;let i=e.src.slice(s,o),u=0;for(;u<Fa.length&&!Fa[u][0].test(i);u++);if(u===Fa.length)return!1;if(r)return Fa[u][2];let l=t+1;if(!Fa[u][1].test(i)){for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(s=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],i=e.src.slice(s,o),Fa[u][1].test(i)){i.length!==0&&l++;break}}e.line=l;const d=e.push("html_block","",0);return d.map=[t,l],d.content=e.getLines(t,l,e.blkIndent,!0),!0}function tg(e,t,n,r){let s=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.src.charCodeAt(s);if(i!==35||s>=o)return!1;let u=1;for(i=e.src.charCodeAt(++s);i===35&&s<o&&u<=6;)u++,i=e.src.charCodeAt(++s);if(u>6||s<o&&!Qt(i))return!1;if(r)return!0;o=e.skipSpacesBack(o,s);const l=e.skipCharsBack(o,35,s);l>s&&Qt(e.src.charCodeAt(l-1))&&(o=l),e.line=t+1;const d=e.push("heading_open","h"+String(u),1);d.markup="########".slice(0,u),d.map=[t,e.line];const f=e.push("inline","",0);f.content=e.src.slice(s,o).trim(),f.map=[t,e.line],f.children=[];const c=e.push("heading_close","h"+String(u),-1);return c.markup="########".slice(0,u),!0}function ng(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const s=e.parentType;e.parentType="paragraph";let o=0,i,u=t+1;for(;u<n&&!e.isEmpty(u);u++){if(e.sCount[u]-e.blkIndent>3)continue;if(e.sCount[u]>=e.blkIndent){let m=e.bMarks[u]+e.tShift[u];const h=e.eMarks[u];if(m<h&&(i=e.src.charCodeAt(m),(i===45||i===61)&&(m=e.skipChars(m,i),m=e.skipSpaces(m),m>=h))){o=i===61?1:2;break}}if(e.sCount[u]<0)continue;let g=!1;for(let m=0,h=r.length;m<h;m++)if(r[m](e,u,n,!0)){g=!0;break}if(g)break}if(!o)return!1;const l=e.getLines(t,u,e.blkIndent,!1).trim();e.line=u+1;const d=e.push("heading_open","h"+String(o),1);d.markup=String.fromCharCode(i),d.map=[t,e.line];const f=e.push("inline","",0);f.content=l,f.map=[t,e.line-1],f.children=[];const c=e.push("heading_close","h"+String(o),-1);return c.markup=String.fromCharCode(i),e.parentType=s,!0}function rg(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),s=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3||e.sCount[o]<0)continue;let d=!1;for(let f=0,c=r.length;f<c;f++)if(r[f](e,o,n,!0)){d=!0;break}if(d)break}const i=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o;const u=e.push("paragraph_open","p",1);u.map=[t,e.line];const l=e.push("inline","",0);return l.content=i,l.map=[t,e.line],l.children=[],e.push("paragraph_close","p",-1),e.parentType=s,!0}const ro=[["table",Ih,["paragraph","reference"]],["code",Nh],["fence",Lh,["paragraph","reference","blockquote","list"]],["blockquote",Oh,["paragraph","reference","blockquote","list"]],["hr",$h,["paragraph","reference","blockquote","list"]],["list",zh,["paragraph","reference","blockquote"]],["reference",Bh],["html_block",eg,["paragraph","reference","blockquote"]],["heading",tg,["paragraph","reference","blockquote"]],["lheading",ng],["paragraph",rg]];function Ho(){this.ruler=new Gn;for(let e=0;e<ro.length;e++)this.ruler.push(ro[e][0],ro[e][1],{alt:(ro[e][2]||[]).slice()})}Ho.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),s=r.length,o=e.md.options.maxNesting;let i=t,u=!1;for(;i<n&&(e.line=i=e.skipEmptyLines(i),!(i>=n||e.sCount[i]<e.blkIndent));){if(e.level>=o){e.line=n;break}const l=e.line;let d=!1;for(let f=0;f<s;f++)if(d=r[f](e,i,n,!1),d){if(l>=e.line)throw new Error("block rule didn't increment state.line");break}if(!d)throw new Error("none of the block rules matched");e.tight=!u,e.isEmpty(e.line-1)&&(u=!0),i=e.line,i<n&&e.isEmpty(i)&&(u=!0,i++,e.line=i)}};Ho.prototype.parse=function(e,t,n,r){if(!e)return;const s=new this.State(e,t,n,r);this.tokenize(s,s.line,s.lineMax)};Ho.prototype.State=Ir;function Gs(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Gs.prototype.pushPending=function(){const e=new _r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Gs.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new _r(e,t,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};Gs.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),s=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===r;)o++;const i=o-e,u=o<n?this.src.charCodeAt(o):32,l=Os(s)||Ls(String.fromCharCode(s)),d=Os(u)||Ls(String.fromCharCode(u)),f=Ns(s),c=Ns(u),g=!c&&(!d||f||l),m=!f&&(!l||c||d);return{can_open:g&&(t||!m||l),can_close:m&&(t||!g||d),length:i}};Gs.prototype.Token=_r;function ag(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function sg(e,t){let n=e.pos;for(;n<e.posMax&&!ag(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const og=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function ig(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,r=e.posMax;if(n+3>r||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const s=e.pending.match(og);if(!s)return!1;const o=s[1],i=e.md.linkify.matchAtStart(e.src.slice(n-o.length));if(!i)return!1;let u=i.url;if(u.length<=o.length)return!1;u=u.replace(/\*+$/,"");const l=e.md.normalizeLink(u);if(!e.md.validateLink(l))return!1;if(!t){e.pending=e.pending.slice(0,-o.length);const d=e.push("link_open","a",1);d.attrs=[["href",l]],d.markup="linkify",d.info="auto";const f=e.push("text","",0);f.content=e.md.normalizeLinkText(u);const c=e.push("link_close","a",-1);c.markup="linkify",c.info="auto"}return e.pos+=u.length-o.length,!0}function ug(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const r=e.pending.length-1,s=e.posMax;if(!t)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){let o=r-1;for(;o>=1&&e.pending.charCodeAt(o-1)===32;)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<s&&Qt(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Au=[];for(let e=0;e<256;e++)Au.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Au[e.charCodeAt(0)]=1});function lg(e,t){let n=e.pos;const r=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let s=e.src.charCodeAt(n);if(s===10){for(t||e.push("hardbreak","br",0),n++;n<r&&(s=e.src.charCodeAt(n),!!Qt(s));)n++;return e.pos=n,!0}let o=e.src[n];if(s>=55296&&s<=56319&&n+1<r){const u=e.src.charCodeAt(n+1);u>=56320&&u<=57343&&(o+=e.src[n+1],n++)}const i="\\"+o;if(!t){const u=e.push("text_special","",0);s<256&&Au[s]!==0?u.content=o:u.content=i,u.markup=i,u.info="escape"}return e.pos=n+1,!0}function cg(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const s=n;n++;const o=e.posMax;for(;n<o&&e.src.charCodeAt(n)===96;)n++;const i=e.src.slice(s,n),u=i.length;if(e.backticksScanned&&(e.backticks[u]||0)<=s)return t||(e.pending+=i),e.pos+=u,!0;let l=n,d;for(;(d=e.src.indexOf("`",l))!==-1;){for(l=d+1;l<o&&e.src.charCodeAt(l)===96;)l++;const f=l-d;if(f===u){if(!t){const c=e.push("code_inline","code",0);c.markup=i,c.content=e.src.slice(n,d).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[f]=d}return e.backticksScanned=!0,t||(e.pending+=i),e.pos+=u,!0}function dg(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==126)return!1;const s=e.scanDelims(e.pos,!0);let o=s.length;const i=String.fromCharCode(r);if(o<2)return!1;let u;o%2&&(u=e.push("text","",0),u.content=i,o--);for(let l=0;l<o;l+=2)u=e.push("text","",0),u.content=i+i,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return e.pos+=s.length,!0}function $l(e,t){let n;const r=[],s=t.length;for(let o=0;o<s;o++){const i=t[o];if(i.marker!==126||i.end===-1)continue;const u=t[i.end];n=e.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[u.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&r.push(u.token-1)}for(;r.length;){const o=r.pop();let i=o+1;for(;i<e.tokens.length&&e.tokens[i].type==="s_close";)i++;i--,o!==i&&(n=e.tokens[i],e.tokens[i]=e.tokens[o],e.tokens[o]=n)}}function fg(e){const t=e.tokens_meta,n=e.tokens_meta.length;$l(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&$l(e,t[r].delimiters)}const Md={tokenize:dg,postProcess:fg};function pg(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t||r!==95&&r!==42)return!1;const s=e.scanDelims(e.pos,r===42);for(let o=0;o<s.length;o++){const i=e.push("text","",0);i.content=String.fromCharCode(r),e.delimiters.push({marker:r,length:s.length,token:e.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return e.pos+=s.length,!0}function Rl(e,t){const n=t.length;for(let r=n-1;r>=0;r--){const s=t[r];if(s.marker!==95&&s.marker!==42||s.end===-1)continue;const o=t[s.end],i=r>0&&t[r-1].end===s.end+1&&t[r-1].marker===s.marker&&t[r-1].token===s.token-1&&t[s.end+1].token===o.token+1,u=String.fromCharCode(s.marker),l=e.tokens[s.token];l.type=i?"strong_open":"em_open",l.tag=i?"strong":"em",l.nesting=1,l.markup=i?u+u:u,l.content="";const d=e.tokens[o.token];d.type=i?"strong_close":"em_close",d.tag=i?"strong":"em",d.nesting=-1,d.markup=i?u+u:u,d.content="",i&&(e.tokens[t[r-1].token].content="",e.tokens[t[s.end+1].token].content="",r--)}}function vg(e){const t=e.tokens_meta,n=e.tokens_meta.length;Rl(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Rl(e,t[r].delimiters)}const Fd={tokenize:pg,postProcess:vg};function mg(e,t){let n,r,s,o,i="",u="",l=e.pos,d=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const f=e.pos,c=e.posMax,g=e.pos+1,m=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(m<0)return!1;let h=m+1;if(h<c&&e.src.charCodeAt(h)===40){for(d=!1,h++;h<c&&(n=e.src.charCodeAt(h),!(!Qt(n)&&n!==10));h++);if(h>=c)return!1;if(l=h,s=e.md.helpers.parseLinkDestination(e.src,h,e.posMax),s.ok){for(i=e.md.normalizeLink(s.str),e.md.validateLink(i)?h=s.pos:i="",l=h;h<c&&(n=e.src.charCodeAt(h),!(!Qt(n)&&n!==10));h++);if(s=e.md.helpers.parseLinkTitle(e.src,h,e.posMax),h<c&&l!==h&&s.ok)for(u=s.str,h=s.pos;h<c&&(n=e.src.charCodeAt(h),!(!Qt(n)&&n!==10));h++);}(h>=c||e.src.charCodeAt(h)!==41)&&(d=!0),h++}if(d){if(typeof e.env.references>"u")return!1;if(h<c&&e.src.charCodeAt(h)===91?(l=h+1,h=e.md.helpers.parseLinkLabel(e,h),h>=0?r=e.src.slice(l,h++):h=m+1):h=m+1,r||(r=e.src.slice(g,m)),o=e.env.references[qo(r)],!o)return e.pos=f,!1;i=o.href,u=o.title}if(!t){e.pos=g,e.posMax=m;const T=e.push("link_open","a",1),A=[["href",i]];T.attrs=A,u&&A.push(["title",u]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=h,e.posMax=c,!0}function hg(e,t){let n,r,s,o,i,u,l,d,f="";const c=e.pos,g=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const m=e.pos+2,h=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(h<0)return!1;if(o=h+1,o<g&&e.src.charCodeAt(o)===40){for(o++;o<g&&(n=e.src.charCodeAt(o),!(!Qt(n)&&n!==10));o++);if(o>=g)return!1;for(d=o,u=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),u.ok&&(f=e.md.normalizeLink(u.str),e.md.validateLink(f)?o=u.pos:f=""),d=o;o<g&&(n=e.src.charCodeAt(o),!(!Qt(n)&&n!==10));o++);if(u=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<g&&d!==o&&u.ok)for(l=u.str,o=u.pos;o<g&&(n=e.src.charCodeAt(o),!(!Qt(n)&&n!==10));o++);else l="";if(o>=g||e.src.charCodeAt(o)!==41)return e.pos=c,!1;o++}else{if(typeof e.env.references>"u")return!1;if(o<g&&e.src.charCodeAt(o)===91?(d=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?s=e.src.slice(d,o++):o=h+1):o=h+1,s||(s=e.src.slice(m,h)),i=e.env.references[qo(s)],!i)return e.pos=c,!1;f=i.href,l=i.title}if(!t){r=e.src.slice(m,h);const T=[];e.md.inline.parse(r,e.md,e.env,T);const A=e.push("image","img",0),E=[["src",f],["alt",""]];A.attrs=E,A.children=T,A.content=r,l&&E.push(["title",l])}return e.pos=o,e.posMax=g,!0}const gg=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,_g=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function bg(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const r=e.pos,s=e.posMax;for(;;){if(++n>=s)return!1;const i=e.src.charCodeAt(n);if(i===60)return!1;if(i===62)break}const o=e.src.slice(r+1,n);if(_g.test(o)){const i=e.md.normalizeLink(o);if(!e.md.validateLink(i))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",i]],u.markup="autolink",u.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(o);const d=e.push("link_close","a",-1);d.markup="autolink",d.info="auto"}return e.pos+=o.length+2,!0}if(gg.test(o)){const i=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(i))return!1;if(!t){const u=e.push("link_open","a",1);u.attrs=[["href",i]],u.markup="autolink",u.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(o);const d=e.push("link_close","a",-1);d.markup="autolink",d.info="auto"}return e.pos+=o.length+2,!0}return!1}function yg(e){return/^<a[>\s]/i.test(e)}function xg(e){return/^<\/a\s*>/i.test(e)}function kg(e){const t=e|32;return t>=97&&t<=122}function wg(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(e.src.charCodeAt(r)!==60||r+2>=n)return!1;const s=e.src.charCodeAt(r+1);if(s!==33&&s!==63&&s!==47&&!kg(s))return!1;const o=e.src.slice(r).match(Xh);if(!o)return!1;if(!t){const i=e.push("html_inline","",0);i.content=o[0],yg(i.content)&&e.linkLevel++,xg(i.content)&&e.linkLevel--}return e.pos+=o[0].length,!0}const Sg=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Eg=/^&([a-z][a-z0-9]{1,31});/i;function Cg(e,t){const n=e.pos,r=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=r)return!1;if(e.src.charCodeAt(n+1)===35){const o=e.src.slice(n).match(Sg);if(o){if(!t){const i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),u=e.push("text_special","",0);u.content=Eu(i)?To(i):To(65533),u.markup=o[0],u.info="entity"}return e.pos+=o[0].length,!0}}else{const o=e.src.slice(n).match(Eg);if(o){const i=wd(o[0]);if(i!==o[0]){if(!t){const u=e.push("text_special","",0);u.content=i,u.markup=o[0],u.info="entity"}return e.pos+=o[0].length,!0}}}return!1}function zl(e){const t={},n=e.length;if(!n)return;let r=0,s=-2;const o=[];for(let i=0;i<n;i++){const u=e[i];if(o.push(0),(e[r].marker!==u.marker||s!==u.token-1)&&(r=i),s=u.token,u.length=u.length||0,!u.close)continue;t.hasOwnProperty(u.marker)||(t[u.marker]=[-1,-1,-1,-1,-1,-1]);const l=t[u.marker][(u.open?3:0)+u.length%3];let d=r-o[r]-1,f=d;for(;d>l;d-=o[d]+1){const c=e[d];if(c.marker===u.marker&&c.open&&c.end<0){let g=!1;if((c.close||u.open)&&(c.length+u.length)%3===0&&(c.length%3!==0||u.length%3!==0)&&(g=!0),!g){const m=d>0&&!e[d-1].open?o[d-1]+1:0;o[i]=i-d+m,o[d]=m,u.open=!1,c.end=i,c.close=!1,f=-1,s=-2;break}}}f!==-1&&(t[u.marker][(u.open?3:0)+(u.length||0)%3]=f)}}function Ag(e){const t=e.tokens_meta,n=e.tokens_meta.length;zl(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&zl(t[r].delimiters)}function Tg(e){let t,n,r=0;const s=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)s[t].nesting<0&&r--,s[t].level=r,s[t].nesting>0&&r++,s[t].type==="text"&&t+1<o&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}const _i=[["text",sg],["linkify",ig],["newline",ug],["escape",lg],["backticks",cg],["strikethrough",Md.tokenize],["emphasis",Fd.tokenize],["link",mg],["image",hg],["autolink",bg],["html_inline",wg],["entity",Cg]],bi=[["balance_pairs",Ag],["strikethrough",Md.postProcess],["emphasis",Fd.postProcess],["fragments_join",Tg]];function Zs(){this.ruler=new Gn;for(let e=0;e<_i.length;e++)this.ruler.push(_i[e][0],_i[e][1]);this.ruler2=new Gn;for(let e=0;e<bi.length;e++)this.ruler2.push(bi[e][0],bi[e][1])}Zs.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,s=e.md.options.maxNesting,o=e.cache;if(typeof o[t]<"u"){e.pos=o[t];return}let i=!1;if(e.level<s){for(let u=0;u<r;u++)if(e.level++,i=n[u](e,!0),e.level--,i){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;i||e.pos++,o[t]=e.pos};Zs.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,s=e.md.options.maxNesting;for(;e.pos<r;){const o=e.pos;let i=!1;if(e.level<s){for(let u=0;u<n;u++)if(i=t[u](e,!1),i){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(i){if(e.pos>=r)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Zs.prototype.parse=function(e,t,n,r){const s=new this.State(e,t,n,r);this.tokenize(s);const o=this.ruler2.getRules(""),i=o.length;for(let u=0;u<i;u++)o[u](s)};Zs.prototype.State=Gs;function Dg(e){const t={};e=e||{},t.src_Any=_d.source,t.src_Cc=bd.source,t.src_Z=xd.source,t.src_P=wu.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><ï½]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+t.src_ZPCc+"))((?![$+<=>^`|ï½])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function Zi(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function Wo(e){return Object.prototype.toString.call(e)}function Mg(e){return Wo(e)==="[object String]"}function Fg(e){return Wo(e)==="[object Object]"}function Pg(e){return Wo(e)==="[object RegExp]"}function Bl(e){return Wo(e)==="[object Function]"}function Ig(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Pd={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Ng(e){return Object.keys(e||{}).reduce(function(t,n){return t||Pd.hasOwnProperty(n)},!1)}const Lg={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Og="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",$g="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|ÑÑ".split("|");function Rg(e){e.__index__=-1,e.__text_cache__=""}function zg(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function Ul(){return function(e,t){t.normalize(e)}}function Do(e){const t=e.re=Dg(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Og),n.push(t.src_xn),t.src_tlds=n.join("|");function r(u){return u.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const s=[];e.__compiled__={};function o(u,l){throw new Error('(LinkifyIt) Invalid schema "'+u+'": '+l)}Object.keys(e.__schemas__).forEach(function(u){const l=e.__schemas__[u];if(l===null)return;const d={validate:null,link:null};if(e.__compiled__[u]=d,Fg(l)){Pg(l.validate)?d.validate=zg(l.validate):Bl(l.validate)?d.validate=l.validate:o(u,l),Bl(l.normalize)?d.normalize=l.normalize:l.normalize?o(u,l):d.normalize=Ul();return}if(Mg(l)){s.push(u);return}o(u,l)}),s.forEach(function(u){e.__compiled__[e.__schemas__[u]]&&(e.__compiled__[u].validate=e.__compiled__[e.__schemas__[u]].validate,e.__compiled__[u].normalize=e.__compiled__[e.__schemas__[u]].normalize)}),e.__compiled__[""]={validate:null,normalize:Ul()};const i=Object.keys(e.__compiled__).filter(function(u){return u.length>0&&e.__compiled__[u]}).map(Ig).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><ï½]|"+t.src_ZPCc+"))("+i+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><ï½]|"+t.src_ZPCc+"))("+i+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Rg(e)}function Bg(e,t){const n=e.__index__,r=e.__last_index__,s=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=s,this.text=s,this.url=s}function Ki(e,t){const n=new Bg(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Xn(e,t){if(!(this instanceof Xn))return new Xn(e,t);t||Ng(e)&&(t=e,e={}),this.__opts__=Zi({},Pd,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Zi({},Lg,e),this.__compiled__={},this.__tlds__=$g,this.__tlds_replaced__=!1,this.re={},Do(this)}Xn.prototype.add=function(t,n){return this.__schemas__[t]=n,Do(this),this};Xn.prototype.set=function(t){return this.__opts__=Zi(this.__opts__,t),this};Xn.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,r,s,o,i,u,l,d,f;if(this.re.schema_test.test(t)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(t))!==null;)if(o=this.testSchemaAt(t,n[2],l.lastIndex),o){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(d=t.search(this.re.host_fuzzy_test),d>=0&&(this.__index__<0||d<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=t.indexOf("@"),f>=0&&(s=t.match(this.re.email_fuzzy))!==null&&(i=s.index+s[1].length,u=s.index+s[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&u>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=u))),this.__index__>=0};Xn.prototype.pretest=function(t){return this.re.pretest.test(t)};Xn.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};Xn.prototype.match=function(t){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(Ki(this,r)),r=this.__last_index__);let s=r?t.slice(r):t;for(;this.test(s);)n.push(Ki(this,r)),s=s.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Xn.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Ki(this,0)):null};Xn.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,s,o){return r!==o[s-1]}).reverse(),Do(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Do(this),this)};Xn.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Xn.prototype.onCompile=function(){};const qa=2147483647,Er=36,Tu=1,$s=26,Ug=38,jg=700,Id=72,Nd=128,Ld="-",qg=/^xn--/,Hg=/[^\0-\x7F]/,Wg=/[\x2E\u3002\uFF0E\uFF61]/g,Vg={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},yi=Er-Tu,Cr=Math.floor,xi=String.fromCharCode;function Vr(e){throw new RangeError(Vg[e])}function Gg(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function Od(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(Wg,".");const s=e.split("."),o=Gg(s,t).join(".");return r+o}function $d(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const o=e.charCodeAt(n++);(o&64512)==56320?t.push(((s&1023)<<10)+(o&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}const Zg=e=>String.fromCodePoint(...e),Kg=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Er},jl=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Rd=function(e,t,n){let r=0;for(e=n?Cr(e/jg):e>>1,e+=Cr(e/t);e>yi*$s>>1;r+=Er)e=Cr(e/yi);return Cr(r+(yi+1)*e/(e+Ug))},zd=function(e){const t=[],n=e.length;let r=0,s=Nd,o=Id,i=e.lastIndexOf(Ld);i<0&&(i=0);for(let u=0;u<i;++u)e.charCodeAt(u)>=128&&Vr("not-basic"),t.push(e.charCodeAt(u));for(let u=i>0?i+1:0;u<n;){const l=r;for(let f=1,c=Er;;c+=Er){u>=n&&Vr("invalid-input");const g=Kg(e.charCodeAt(u++));g>=Er&&Vr("invalid-input"),g>Cr((qa-r)/f)&&Vr("overflow"),r+=g*f;const m=c<=o?Tu:c>=o+$s?$s:c-o;if(g<m)break;const h=Er-m;f>Cr(qa/h)&&Vr("overflow"),f*=h}const d=t.length+1;o=Rd(r-l,d,l==0),Cr(r/d)>qa-s&&Vr("overflow"),s+=Cr(r/d),r%=d,t.splice(r++,0,s)}return String.fromCodePoint(...t)},Bd=function(e){const t=[];e=$d(e);const n=e.length;let r=Nd,s=0,o=Id;for(const l of e)l<128&&t.push(xi(l));const i=t.length;let u=i;for(i&&t.push(Ld);u<n;){let l=qa;for(const f of e)f>=r&&f<l&&(l=f);const d=u+1;l-r>Cr((qa-s)/d)&&Vr("overflow"),s+=(l-r)*d,r=l;for(const f of e)if(f<r&&++s>qa&&Vr("overflow"),f===r){let c=s;for(let g=Er;;g+=Er){const m=g<=o?Tu:g>=o+$s?$s:g-o;if(c<m)break;const h=c-m,T=Er-m;t.push(xi(jl(m+h%T,0))),c=Cr(h/T)}t.push(xi(jl(c,0))),o=Rd(s,d,u===i),s=0,++u}++s,++r}return t.join("")},Yg=function(e){return Od(e,function(t){return qg.test(t)?zd(t.slice(4).toLowerCase()):t})},Jg=function(e){return Od(e,function(t){return Hg.test(t)?"xn--"+Bd(t):t})},Ud={version:"2.3.1",ucs2:{decode:$d,encode:Zg},decode:zd,encode:Bd,toASCII:Jg,toUnicode:Yg},Xg={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Qg={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},e_={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},t_={default:Xg,zero:Qg,commonmark:e_},n_=/^(vbscript|javascript|file|data):/,r_=/^data:image\/(gif|png|jpeg|webp);/;function a_(e){const t=e.trim().toLowerCase();return n_.test(t)?r_.test(t):!0}const jd=["http:","https:","mailto:"];function s_(e){const t=ku(e,!0);if(t.hostname&&(!t.protocol||jd.indexOf(t.protocol)>=0))try{t.hostname=Ud.toASCII(t.hostname)}catch{}return Vs(xu(t))}function o_(e){const t=ku(e,!0);if(t.hostname&&(!t.protocol||jd.indexOf(t.protocol)>=0))try{t.hostname=Ud.toUnicode(t.hostname)}catch{}return Za(xu(t),Za.defaultChars+"%")}function ir(e,t){if(!(this instanceof ir))return new ir(e,t);t||Su(e)||(t=e||{},e="default"),this.inline=new Zs,this.block=new Ho,this.core=new Cu,this.renderer=new rs,this.linkify=new Xn,this.validateLink=a_,this.normalizeLink=s_,this.normalizeLinkText=o_,this.utils=uh,this.helpers=jo({},fh),this.options={},this.configure(e),t&&this.set(t)}ir.prototype.set=function(e){return jo(this.options,e),this};ir.prototype.configure=function(e){const t=this;if(Su(e)){const n=e;if(e=t_[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};ir.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};ir.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};ir.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};ir.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};ir.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};ir.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};ir.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:qd,setPrototypeOf:ql,isFrozen:i_,getPrototypeOf:u_,getOwnPropertyDescriptor:l_}=Object;let{freeze:jn,seal:ur,create:Hd}=Object,{apply:Yi,construct:Ji}=typeof Reflect<"u"&&Reflect;jn||(jn=function(t){return t});ur||(ur=function(t){return t});Yi||(Yi=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];return t.apply(n,s)});Ji||(Ji=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new t(...r)});const ao=qn(Array.prototype.forEach),c_=qn(Array.prototype.lastIndexOf),Hl=qn(Array.prototype.pop),ps=qn(Array.prototype.push),d_=qn(Array.prototype.splice),ho=qn(String.prototype.toLowerCase),ki=qn(String.prototype.toString),wi=qn(String.prototype.match),vs=qn(String.prototype.replace),f_=qn(String.prototype.indexOf),p_=qn(String.prototype.trim),dr=qn(Object.prototype.hasOwnProperty),Rn=qn(RegExp.prototype.test),ms=v_(TypeError);function qn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Yi(e,t,r)}}function v_(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ji(e,n)}}function xt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ho;ql&&ql(e,null);let r=t.length;for(;r--;){let s=t[r];if(typeof s=="string"){const o=n(s);o!==s&&(i_(t)||(t[r]=o),s=o)}e[s]=!0}return e}function m_(e){for(let t=0;t<e.length;t++)dr(e,t)||(e[t]=null);return e}function Lr(e){const t=Hd(null);for(const[n,r]of qd(e))dr(e,n)&&(Array.isArray(r)?t[n]=m_(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=Lr(r):t[n]=r);return t}function hs(e,t){for(;e!==null;){const r=l_(e,t);if(r){if(r.get)return qn(r.get);if(typeof r.value=="function")return qn(r.value)}e=u_(e)}function n(){return null}return n}const Wl=jn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Si=jn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ei=jn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),h_=jn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ci=jn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),g_=jn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Vl=jn(["#text"]),Gl=jn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ai=jn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zl=jn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),so=jn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),__=ur(/\{\{[\w\W]*|[\w\W]*\}\}/gm),b_=ur(/<%[\w\W]*|[\w\W]*%>/gm),y_=ur(/\$\{[\w\W]*/gm),x_=ur(/^data-[\-\w.\u00B7-\uFFFF]+$/),k_=ur(/^aria-[\-\w]+$/),Wd=ur(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),w_=ur(/^(?:\w+script|data):/i),S_=ur(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Vd=ur(/^html$/i),E_=ur(/^[a-z][.\w]*(-[.\w]+)+$/i);var Kl=Object.freeze({__proto__:null,ARIA_ATTR:k_,ATTR_WHITESPACE:S_,CUSTOM_ELEMENT:E_,DATA_ATTR:x_,DOCTYPE_NAME:Vd,ERB_EXPR:b_,IS_ALLOWED_URI:Wd,IS_SCRIPT_OR_DATA:w_,MUSTACHE_EXPR:__,TMPLIT_EXPR:y_});const gs={element:1,text:3,progressingInstruction:7,comment:8,document:9},C_=function(){return typeof window>"u"?null:window},A_=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Yl=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Gd(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C_();const t=ee=>Gd(ee);if(t.version="3.2.7",t.removed=[],!e||!e.document||e.document.nodeType!==gs.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,s=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:i,Node:u,Element:l,NodeFilter:d,NamedNodeMap:f=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:c,DOMParser:g,trustedTypes:m}=e,h=l.prototype,T=hs(h,"cloneNode"),A=hs(h,"remove"),E=hs(h,"nextSibling"),C=hs(h,"childNodes"),k=hs(h,"parentNode");if(typeof i=="function"){const ee=n.createElement("template");ee.content&&ee.content.ownerDocument&&(n=ee.content.ownerDocument)}let w,S="";const{implementation:y,createNodeIterator:D,createDocumentFragment:z,getElementsByTagName:R}=n,{importNode:P}=r;let I=Yl();t.isSupported=typeof qd=="function"&&typeof k=="function"&&y&&y.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Q,ERB_EXPR:Y,TMPLIT_EXPR:he,DATA_ATTR:$,ARIA_ATTR:ne,IS_SCRIPT_OR_DATA:ae,ATTR_WHITESPACE:re,CUSTOM_ELEMENT:X}=Kl;let{IS_ALLOWED_URI:oe}=Kl,le=null;const xe=xt({},[...Wl,...Si,...Ei,...Ci,...Vl]);let Fe=null;const J=xt({},[...Gl,...Ai,...Zl,...so]);let V=Object.seal(Hd(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fe=null,te=null,G=!0,ve=!0,Z=!1,Oe=!0,$e=!1,Ke=!0,Ze=!1,Pe=!1,He=!1,ce=!1,Ce=!1,Ue=!1,Ve=!0,st=!1;const bt="user-content-";let pe=!0,q=!1,ge={},_e=null;const ke=xt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ne=null;const Le=xt({},["audio","video","img","source","image","track"]);let Ye=null;const Je=xt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",dt="http://www.w3.org/2000/svg",Qe="http://www.w3.org/1999/xhtml";let Ft=Qe,ft=!1,Rt=null;const hn=xt({},[et,dt,Qe],ki);let tn=xt({},["mi","mo","mn","ms","mtext"]),fn=xt({},["annotation-xml"]);const wt=xt({},["title","style","font","a","script"]);let pt=null;const je=["application/xhtml+xml","text/html"],vt="text/html";let ot=null,Vt=null;const sn=n.createElement("form"),at=function(M){return M instanceof RegExp||M instanceof Function},gt=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Vt&&Vt===M)){if((!M||typeof M!="object")&&(M={}),M=Lr(M),pt=je.indexOf(M.PARSER_MEDIA_TYPE)===-1?vt:M.PARSER_MEDIA_TYPE,ot=pt==="application/xhtml+xml"?ki:ho,le=dr(M,"ALLOWED_TAGS")?xt({},M.ALLOWED_TAGS,ot):xe,Fe=dr(M,"ALLOWED_ATTR")?xt({},M.ALLOWED_ATTR,ot):J,Rt=dr(M,"ALLOWED_NAMESPACES")?xt({},M.ALLOWED_NAMESPACES,ki):hn,Ye=dr(M,"ADD_URI_SAFE_ATTR")?xt(Lr(Je),M.ADD_URI_SAFE_ATTR,ot):Je,Ne=dr(M,"ADD_DATA_URI_TAGS")?xt(Lr(Le),M.ADD_DATA_URI_TAGS,ot):Le,_e=dr(M,"FORBID_CONTENTS")?xt({},M.FORBID_CONTENTS,ot):ke,fe=dr(M,"FORBID_TAGS")?xt({},M.FORBID_TAGS,ot):Lr({}),te=dr(M,"FORBID_ATTR")?xt({},M.FORBID_ATTR,ot):Lr({}),ge=dr(M,"USE_PROFILES")?M.USE_PROFILES:!1,G=M.ALLOW_ARIA_ATTR!==!1,ve=M.ALLOW_DATA_ATTR!==!1,Z=M.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=M.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$e=M.SAFE_FOR_TEMPLATES||!1,Ke=M.SAFE_FOR_XML!==!1,Ze=M.WHOLE_DOCUMENT||!1,ce=M.RETURN_DOM||!1,Ce=M.RETURN_DOM_FRAGMENT||!1,Ue=M.RETURN_TRUSTED_TYPE||!1,He=M.FORCE_BODY||!1,Ve=M.SANITIZE_DOM!==!1,st=M.SANITIZE_NAMED_PROPS||!1,pe=M.KEEP_CONTENT!==!1,q=M.IN_PLACE||!1,oe=M.ALLOWED_URI_REGEXP||Wd,Ft=M.NAMESPACE||Qe,tn=M.MATHML_TEXT_INTEGRATION_POINTS||tn,fn=M.HTML_INTEGRATION_POINTS||fn,V=M.CUSTOM_ELEMENT_HANDLING||{},M.CUSTOM_ELEMENT_HANDLING&&at(M.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=M.CUSTOM_ELEMENT_HANDLING.tagNameCheck),M.CUSTOM_ELEMENT_HANDLING&&at(M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=M.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),M.CUSTOM_ELEMENT_HANDLING&&typeof M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=M.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$e&&(ve=!1),Ce&&(ce=!0),ge&&(le=xt({},Vl),Fe=[],ge.html===!0&&(xt(le,Wl),xt(Fe,Gl)),ge.svg===!0&&(xt(le,Si),xt(Fe,Ai),xt(Fe,so)),ge.svgFilters===!0&&(xt(le,Ei),xt(Fe,Ai),xt(Fe,so)),ge.mathMl===!0&&(xt(le,Ci),xt(Fe,Zl),xt(Fe,so))),M.ADD_TAGS&&(le===xe&&(le=Lr(le)),xt(le,M.ADD_TAGS,ot)),M.ADD_ATTR&&(Fe===J&&(Fe=Lr(Fe)),xt(Fe,M.ADD_ATTR,ot)),M.ADD_URI_SAFE_ATTR&&xt(Ye,M.ADD_URI_SAFE_ATTR,ot),M.FORBID_CONTENTS&&(_e===ke&&(_e=Lr(_e)),xt(_e,M.FORBID_CONTENTS,ot)),pe&&(le["#text"]=!0),Ze&&xt(le,["html","head","body"]),le.table&&(xt(le,["tbody"]),delete fe.tbody),M.TRUSTED_TYPES_POLICY){if(typeof M.TRUSTED_TYPES_POLICY.createHTML!="function")throw ms('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof M.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ms('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=M.TRUSTED_TYPES_POLICY,S=w.createHTML("")}else w===void 0&&(w=A_(m,s)),w!==null&&typeof S=="string"&&(S=w.createHTML(""));jn&&jn(M),Vt=M}},$t=xt({},[...Si,...Ei,...h_]),Be=xt({},[...Ci,...g_]),gn=function(M){let H=k(M);(!H||!H.tagName)&&(H={namespaceURI:Ft,tagName:"template"});const ue=ho(M.tagName),Se=ho(H.tagName);return Rt[M.namespaceURI]?M.namespaceURI===dt?H.namespaceURI===Qe?ue==="svg":H.namespaceURI===et?ue==="svg"&&(Se==="annotation-xml"||tn[Se]):!!$t[ue]:M.namespaceURI===et?H.namespaceURI===Qe?ue==="math":H.namespaceURI===dt?ue==="math"&&fn[Se]:!!Be[ue]:M.namespaceURI===Qe?H.namespaceURI===dt&&!fn[Se]||H.namespaceURI===et&&!tn[Se]?!1:!Be[ue]&&(wt[ue]||!$t[ue]):!!(pt==="application/xhtml+xml"&&Rt[M.namespaceURI]):!1},At=function(M){ps(t.removed,{element:M});try{k(M).removeChild(M)}catch{A(M)}},zt=function(M,H){try{ps(t.removed,{attribute:H.getAttributeNode(M),from:H})}catch{ps(t.removed,{attribute:null,from:H})}if(H.removeAttribute(M),M==="is")if(ce||Ce)try{At(H)}catch{}else try{H.setAttribute(M,"")}catch{}},_n=function(M){let H=null,ue=null;if(He)M="<remove></remove>"+M;else{const Ie=wi(M,/^[\r\n\t ]+/);ue=Ie&&Ie[0]}pt==="application/xhtml+xml"&&Ft===Qe&&(M='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+M+"</body></html>");const Se=w?w.createHTML(M):M;if(Ft===Qe)try{H=new g().parseFromString(Se,pt)}catch{}if(!H||!H.documentElement){H=y.createDocument(Ft,"template",null);try{H.documentElement.innerHTML=ft?S:Se}catch{}}const Ee=H.body||H.documentElement;return M&&ue&&Ee.insertBefore(n.createTextNode(ue),Ee.childNodes[0]||null),Ft===Qe?R.call(H,Ze?"html":"body")[0]:Ze?H.documentElement:Ee},In=function(M){return D.call(M.ownerDocument||M,M,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},be=function(M){return M instanceof c&&(typeof M.nodeName!="string"||typeof M.textContent!="string"||typeof M.removeChild!="function"||!(M.attributes instanceof f)||typeof M.removeAttribute!="function"||typeof M.setAttribute!="function"||typeof M.namespaceURI!="string"||typeof M.insertBefore!="function"||typeof M.hasChildNodes!="function")},Re=function(M){return typeof u=="function"&&M instanceof u};function K(ee,M,H){ao(ee,ue=>{ue.call(t,M,H,Vt)})}const j=function(M){let H=null;if(K(I.beforeSanitizeElements,M,null),be(M))return At(M),!0;const ue=ot(M.nodeName);if(K(I.uponSanitizeElement,M,{tagName:ue,allowedTags:le}),Ke&&M.hasChildNodes()&&!Re(M.firstElementChild)&&Rn(/<[/\w!]/g,M.innerHTML)&&Rn(/<[/\w!]/g,M.textContent)||M.nodeType===gs.progressingInstruction||Ke&&M.nodeType===gs.comment&&Rn(/<[/\w]/g,M.data))return At(M),!0;if(!le[ue]||fe[ue]){if(!fe[ue]&&we(ue)&&(V.tagNameCheck instanceof RegExp&&Rn(V.tagNameCheck,ue)||V.tagNameCheck instanceof Function&&V.tagNameCheck(ue)))return!1;if(pe&&!_e[ue]){const Se=k(M)||M.parentNode,Ee=C(M)||M.childNodes;if(Ee&&Se){const Ie=Ee.length;for(let Xe=Ie-1;Xe>=0;--Xe){const _t=T(Ee[Xe],!0);_t.__removalCount=(M.__removalCount||0)+1,Se.insertBefore(_t,E(M))}}}return At(M),!0}return M instanceof l&&!gn(M)||(ue==="noscript"||ue==="noembed"||ue==="noframes")&&Rn(/<\/no(script|embed|frames)/i,M.innerHTML)?(At(M),!0):($e&&M.nodeType===gs.text&&(H=M.textContent,ao([Q,Y,he],Se=>{H=vs(H,Se," ")}),M.textContent!==H&&(ps(t.removed,{element:M.cloneNode()}),M.textContent=H)),K(I.afterSanitizeElements,M,null),!1)},se=function(M,H,ue){if(Ve&&(H==="id"||H==="name")&&(ue in n||ue in sn))return!1;if(!(ve&&!te[H]&&Rn($,H))){if(!(G&&Rn(ne,H))){if(!Fe[H]||te[H]){if(!(we(M)&&(V.tagNameCheck instanceof RegExp&&Rn(V.tagNameCheck,M)||V.tagNameCheck instanceof Function&&V.tagNameCheck(M))&&(V.attributeNameCheck instanceof RegExp&&Rn(V.attributeNameCheck,H)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(H,M))||H==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Rn(V.tagNameCheck,ue)||V.tagNameCheck instanceof Function&&V.tagNameCheck(ue))))return!1}else if(!Ye[H]){if(!Rn(oe,vs(ue,re,""))){if(!((H==="src"||H==="xlink:href"||H==="href")&&M!=="script"&&f_(ue,"data:")===0&&Ne[M])){if(!(Z&&!Rn(ae,vs(ue,re,"")))){if(ue)return!1}}}}}}return!0},we=function(M){return M!=="annotation-xml"&&wi(M,X)},Te=function(M){K(I.beforeSanitizeAttributes,M,null);const{attributes:H}=M;if(!H||be(M))return;const ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Fe,forceKeepAttr:void 0};let Se=H.length;for(;Se--;){const Ee=H[Se],{name:Ie,namespaceURI:Xe,value:_t}=Ee,St=ot(Ie),Tt=_t;let qe=Ie==="value"?Tt:p_(Tt);if(ue.attrName=St,ue.attrValue=qe,ue.keepAttr=!0,ue.forceKeepAttr=void 0,K(I.uponSanitizeAttribute,M,ue),qe=ue.attrValue,st&&(St==="id"||St==="name")&&(zt(Ie,M),qe=bt+qe),Ke&&Rn(/((--!?|])>)|<\/(style|title|textarea)/i,qe)){zt(Ie,M);continue}if(St==="attributename"&&wi(qe,"href")){zt(Ie,M);continue}if(ue.forceKeepAttr)continue;if(!ue.keepAttr){zt(Ie,M);continue}if(!Oe&&Rn(/\/>/i,qe)){zt(Ie,M);continue}$e&&ao([Q,Y,he],nt=>{qe=vs(qe,nt," ")});const tt=ot(M.nodeName);if(!se(tt,St,qe)){zt(Ie,M);continue}if(w&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Xe)switch(m.getAttributeType(tt,St)){case"TrustedHTML":{qe=w.createHTML(qe);break}case"TrustedScriptURL":{qe=w.createScriptURL(qe);break}}if(qe!==Tt)try{Xe?M.setAttributeNS(Xe,Ie,qe):M.setAttribute(Ie,qe),be(M)?At(M):Hl(t.removed)}catch{zt(Ie,M)}}K(I.afterSanitizeAttributes,M,null)},Ge=function ee(M){let H=null;const ue=In(M);for(K(I.beforeSanitizeShadowDOM,M,null);H=ue.nextNode();)K(I.uponSanitizeShadowNode,H,null),j(H),Te(H),H.content instanceof o&&ee(H.content);K(I.afterSanitizeShadowDOM,M,null)};return t.sanitize=function(ee){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=null,ue=null,Se=null,Ee=null;if(ft=!ee,ft&&(ee="<!-->"),typeof ee!="string"&&!Re(ee))if(typeof ee.toString=="function"){if(ee=ee.toString(),typeof ee!="string")throw ms("dirty is not a string, aborting")}else throw ms("toString is not a function");if(!t.isSupported)return ee;if(Pe||gt(M),t.removed=[],typeof ee=="string"&&(q=!1),q){if(ee.nodeName){const _t=ot(ee.nodeName);if(!le[_t]||fe[_t])throw ms("root node is forbidden and cannot be sanitized in-place")}}else if(ee instanceof u)H=_n("<!---->"),ue=H.ownerDocument.importNode(ee,!0),ue.nodeType===gs.element&&ue.nodeName==="BODY"||ue.nodeName==="HTML"?H=ue:H.appendChild(ue);else{if(!ce&&!$e&&!Ze&&ee.indexOf("<")===-1)return w&&Ue?w.createHTML(ee):ee;if(H=_n(ee),!H)return ce?null:Ue?S:""}H&&He&&At(H.firstChild);const Ie=In(q?ee:H);for(;Se=Ie.nextNode();)j(Se),Te(Se),Se.content instanceof o&&Ge(Se.content);if(q)return ee;if(ce){if(Ce)for(Ee=z.call(H.ownerDocument);H.firstChild;)Ee.appendChild(H.firstChild);else Ee=H;return(Fe.shadowroot||Fe.shadowrootmode)&&(Ee=P.call(r,Ee,!0)),Ee}let Xe=Ze?H.outerHTML:H.innerHTML;return Ze&&le["!doctype"]&&H.ownerDocument&&H.ownerDocument.doctype&&H.ownerDocument.doctype.name&&Rn(Vd,H.ownerDocument.doctype.name)&&(Xe="<!DOCTYPE "+H.ownerDocument.doctype.name+`>
`+Xe),$e&&ao([Q,Y,he],_t=>{Xe=vs(Xe,_t," ")}),w&&Ue?w.createHTML(Xe):Xe},t.setConfig=function(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};gt(ee),Pe=!0},t.clearConfig=function(){Vt=null,Pe=!1},t.isValidAttribute=function(ee,M,H){Vt||gt({});const ue=ot(ee),Se=ot(M);return se(ue,Se,H)},t.addHook=function(ee,M){typeof M=="function"&&ps(I[ee],M)},t.removeHook=function(ee,M){if(M!==void 0){const H=c_(I[ee],M);return H===-1?void 0:d_(I[ee],H,1)[0]}return Hl(I[ee])},t.removeHooks=function(ee){I[ee]=[]},t.removeAllHooks=function(){I=Yl()},t}var Zd=Gd();const T_=new ir({html:!1,linkify:!0,typographer:!0,breaks:!0}),D_={USE_PROFILES:{html:!0},ADD_ATTR:["target","rel","class","colspan","rowspan","scope"],ADD_TAGS:["table","thead","tbody","tfoot","tr","th","td"]};Zd.addHook("afterSanitizeAttributes",e=>{const t=e;if(!t||typeof t.tagName!="string"||t.tagName.toUpperCase()!=="A")return;t.setAttribute("target","_blank");const n=(t.getAttribute("rel")||"").split(/\s+/).filter(Boolean),r=["noopener","noreferrer","nofollow","ugc"],s=Array.from(new Set([...n,...r]));t.setAttribute("rel",s.join(" "))});function Ba(e){if(!e)return"";const t=T_.render(e);return Zd.sanitize(t,D_)}var M_=F('<span class="sender-model-text svelte-1cnmaqf"> </span>'),F_=F('<span class="sender-token-count svelte-1cnmaqf" aria-label="Total tokens used" title="Total tokens used"> </span>'),P_=F('<button type="button" aria-label="View reasoning trace"><!></button>'),I_=F('<button type="button" class="sender-citation-indicator svelte-1cnmaqf" aria-label="View web search details" title="View web search details"><!></button>'),N_=F('<span class="sender-tool-count svelte-1cnmaqf"> </span>'),L_=F('<span class="sender-tool-tokens svelte-1cnmaqf"> </span>'),O_=F('<button type="button" class="sender-tool-indicator svelte-1cnmaqf"><!> <!> <!></button>'),$_=F('<span class="sender-model svelte-1cnmaqf"><!> <!> <!> <!> <!></span>'),R_=F('<span class="sender svelte-1cnmaqf"><span class="sender-label svelte-1cnmaqf"> <!></span></span>'),z_=F('<button type="button" class="attachment-edit svelte-1cnmaqf" aria-label="Edit and resend image" title="Edit and resend image"><!> <span class="attachment-edit-label svelte-1cnmaqf">Edit &amp; send</span></button>'),B_=F('<figure class="attachment-card svelte-1cnmaqf"><div class="attachment-shell svelte-1cnmaqf"><a class="attachment-link svelte-1cnmaqf" target="_blank" rel="noreferrer"><img loading="lazy" class="svelte-1cnmaqf"/></a> <!></div></figure>'),U_=F('<div class="message-attachments svelte-1cnmaqf"></div>'),j_=F('<div class="message-meta svelte-1cnmaqf"><time class="svelte-1cnmaqf"> </time></div>'),q_=F('<button type="button" class="message-action svelte-1cnmaqf" aria-label="Edit message"><!></button> <button type="button" class="message-action svelte-1cnmaqf" aria-label="Retry message"><!></button>',1),H_=F('<button type="button" class="message-action svelte-1cnmaqf" aria-label="View usage details"><!></button>'),W_=F('<article><div><!> <div class="message-content svelte-1cnmaqf"><!> <!></div> <!> <div class="message-actions svelte-1cnmaqf"><button type="button"><!></button> <!> <!> <button type="button" class="message-action svelte-1cnmaqf" aria-label="Delete message"><!></button></div></div></article>');function V_(e,t){Pt(t,!1);const n=O(),r=O(),s=O(),o=O();let i=ie(t,"message",8),u=ie(t,"toolSummary",8),l=ie(t,"copied",8,!1),d=ie(t,"disableDelete",8,!1);const f=an();let c=O(!1),g=O([]),m=O(!1),h=O(!1),T=O("View tool usage"),A=O(null),E=O(null),C=O(null);const k=new Intl.NumberFormat(void 0,{maximumFractionDigits:0});function w(){f("copy",{message:i()})}function S(){f("openReasoning",{message:i()})}function y(){f("openTool",{message:i()})}function D(){f("openWebSearchDetails",{message:i()})}function z(){const pe=i().details?.generationId;pe&&f("openUsage",{id:pe})}function R(){f("edit",{message:i()})}function P(){f("retry",{message:i()})}function I(){d()||f("delete",{message:i()})}function Q(pe){f("editAttachment",{message:i(),attachment:pe})}function Y(pe){const q=pe.metadata?.filename;return typeof q=="string"&&q.trim()?q:null}function he(pe){const q=Y(pe);return q?`Open attachment ${q}`:"Open attachment"}function $(pe){return Y(pe)??"Attachment preview"}const ne="America/New_York";function ae(pe){if(!pe)return null;const q=new Date(pe);if(Number.isNaN(q.getTime()))return null;const ge=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",weekday:"short",month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(q),_e=Qe=>ge.find(Ft=>Ft.type===Qe)?.value??"",ke=_e("weekday"),Ne=_e("month"),Le=_e("day"),Ye=_e("year"),Je=_e("hour"),et=_e("minute"),dt=_e("second");return`${ke} ${Ne} ${Le} ${Ye} ${Je}:${et}:${dt} UTC`.replace(/\s+/g," ")}function re(pe,q){if(!pe)return null;const ge=typeof pe=="string"&&pe?pe:String(pe),_e=new Date(ge);if(Number.isNaN(_e.getTime()))return{iso:ge,display:ge,tooltip:ge};try{const Ne=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:ne,timeZoneName:"short"}).formatToParts(_e),Le=wt=>Ne.find(pt=>pt.type===wt)?.value??"",Ye=Le("hour"),Je=Le("minute"),et=Le("second"),dt=Le("dayPeriod"),Qe=Le("timeZoneName"),Ft=`${Ye}:${Je} ${dt}${Qe?` ${Qe}`:""}`.trim(),ft=`${Ye}:${Je}:${et} ${dt}${Qe?` ${Qe}`:""}`.trim(),Rt=new Intl.DateTimeFormat(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:ne,timeZoneName:"short"}),hn=ae(q??pe),tn=`${Rt.format(_e)} (${ft})`,fn=hn?`${tn}
${hn}`:tn;return{iso:ge,display:Ft,tooltip:fn}}catch(ke){console.warn("Failed to format timestamp",ke);const Ne=ae(q??pe);return{iso:ge,display:_e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}),tooltip:Ne??ge}}}ye(()=>B(u()),()=>{_(n,u()?.tokens?.totalTokens??null)}),ye(()=>a(n),()=>{_(C,a(n)!=null?`${k.format(a(n))} tokens`:null)}),ye(()=>B(u()),()=>{_(A,u()?.count&&u().count>0?`Ã${u().count}`:null)}),ye(()=>B(u()),()=>{_(h,!!u()?.used)}),ye(()=>{},()=>{_(E,null)}),ye(()=>(B(u()),a(C)),()=>{_(T,(()=>{const pe=[];return u()?.count&&u().count>0&&pe.push(`${u().count} ${u().count===1?"hop":"hops"}`),a(C)&&pe.push(`${a(C)}`),pe.length===0?"View tool usage":`View tool usage â ${pe.join(", ")}`})())}),ye(()=>B(i()),()=>{_(c,(i().details?.reasoning?.length??0)>0||!!i().details?.reasoningStatus)}),ye(()=>(B(i()),a(g),sa),()=>{const pe=i().details?.meta?.web_search_results;i().role==="assistant"&&(console.log("=== FULL MESSAGE DEBUG ==="),console.log("Message ID:",i().id),console.log("Message role:",i().role),console.log("Message.details:",JSON.stringify(i().details,null,2)),console.log("webSearchResults:",pe),console.log("Is Array?",Array.isArray(pe)),console.log("Length:",Array.isArray(pe)?pe.length:0),console.log("========================")),Array.isArray(pe)&&pe.length>0?(_(g,pe.map(q=>({url:q.url||"",title:q.title||q.name||"",content:q.snippet||q.content||q.description||""})).filter(q=>q.url)),console.log("Citations extracted:",a(g))):(_(g,sa(i().details?.citations??null,i().details?.meta??null,i().details??null,i().content??null,{content:typeof i().content=="string"?i().content:null})),console.log("Citations from collectCitations:",a(g)))}),ye(()=>a(g),()=>{_(r,a(g).length>0)}),ye(()=>B(i()),()=>{_(m,!!i().details?.webSearchConfig)}),ye(()=>B(i()),()=>{_(s,(i().attachments?.length??0)>0)}),ye(()=>B(i()),()=>{_(o,re(i().createdAt,i().createdAtUtc))}),cn(),Ot();var X=W_(),oe=v(X);let le;var xe=v(oe);{var Fe=pe=>{var q=R_(),ge=v(q),_e=v(ge),ke=b(_e);{var Ne=Le=>{var Ye=$_(),Je=v(Ye);{var et=wt=>{var pt=M_(),je=v(pt);U(()=>W(je,`â ${B(i()),p(()=>i().details.model)??""}`)),x(wt,pt)};N(Je,wt=>{B(i()),p(()=>i().details?.model)&&wt(et)})}var dt=b(Je,2);{var Qe=wt=>{var pt=F_(),je=v(pt);U(()=>W(je,a(C))),x(wt,pt)};N(dt,wt=>{a(C)&&wt(Qe)})}var Ft=b(dt,2);{var ft=wt=>{var pt=P_();let je;var vt=v(pt);R1(vt,{size:14,strokeWidth:1.8,"aria-hidden":"true"}),U(ot=>{je=kt(pt,1,"sender-reasoning-indicator svelte-1cnmaqf",null,je,ot),de(pt,"title",(B(i()),p(()=>i().details?.reasoningStatus==="streaming"?"Reasoning stream in progress":"View reasoning trace")))},[()=>({streaming:i().details?.reasoningStatus==="streaming"})]),L("click",pt,S),x(wt,pt)};N(Ft,wt=>{a(c)&&wt(ft)})}var Rt=b(Ft,2);{var hn=wt=>{var pt=I_(),je=v(pt);j1(je,{size:14,strokeWidth:1.8,"aria-hidden":"true"}),L("click",pt,D),x(wt,pt)};N(Rt,wt=>{a(m)&&wt(hn)})}var tn=b(Rt,2);{var fn=wt=>{var pt=O_(),je=v(pt);V1(je,{size:14,strokeWidth:1.8,"aria-hidden":"true"});var vt=b(je,2);{var ot=at=>{var gt=N_(),$t=v(gt);U(()=>W($t,a(A))),x(at,gt)};N(vt,at=>{a(A)&&at(ot)})}var Vt=b(vt,2);{var sn=at=>{var gt=L_(),$t=v(gt);U(()=>W($t,a(E))),x(at,gt)};N(Vt,at=>{a(E)&&at(sn)})}U(()=>{de(pt,"aria-label",a(T)),de(pt,"title",a(T))}),L("click",pt,y),x(wt,pt)};N(tn,wt=>{a(h)&&wt(fn)})}x(Le,Ye)};N(ke,Le=>{B(i()),p(()=>i().role==="assistant")&&Le(Ne)})}U(()=>W(_e,`${B(i()),p(()=>i().role)??""} `)),x(pe,q)};N(xe,pe=>{B(i()),p(()=>i().role!=="user")&&pe(Fe)})}var J=b(xe,2),V=v(J);{var fe=pe=>{var q=Me(),ge=me(q);zi(ge,()=>(B(Ba),B(i()),p(()=>Ba(i().text)))),x(pe,q)};N(V,pe=>{B(i()),p(()=>i().text)&&pe(fe)})}var te=b(V,2);{var G=pe=>{var q=U_();Lt(q,5,()=>(B(i()),p(()=>i().attachments)),ge=>ge.id??ge.displayUrl??ge.deliveryUrl,(ge,_e)=>{var ke=B_(),Ne=v(ke),Le=v(Ne),Ye=v(Le),Je=b(Le,2);{var et=dt=>{var Qe=z_(),Ft=v(Qe);ll(Ft,{size:14,strokeWidth:1.8,"aria-hidden":"true"}),L("click",Qe,()=>Q(a(_e))),x(dt,Qe)};N(Je,dt=>{B(i()),p(()=>i().role==="assistant")&&dt(et)})}U((dt,Qe)=>{de(Le,"href",(a(_e),p(()=>a(_e).displayUrl||a(_e).deliveryUrl))),de(Le,"aria-label",dt),de(Ye,"src",(a(_e),p(()=>a(_e).displayUrl||a(_e).deliveryUrl))),de(Ye,"alt",Qe)},[()=>(a(_e),p(()=>he(a(_e)))),()=>(a(_e),p(()=>$(a(_e))))]),x(ge,ke)}),x(pe,q)};N(te,pe=>{B(i()),p(()=>i().attachments?.length)&&pe(G)})}ma(J,pe=>Vi?.(pe));var ve=b(J,2);{var Z=pe=>{var q=j_(),ge=v(q),_e=v(ge);U(()=>{de(ge,"datetime",(a(o),p(()=>a(o).iso))),de(ge,"title",(a(o),p(()=>a(o).tooltip))),W(_e,(a(o),p(()=>a(o).display)))}),x(pe,q)};N(ve,pe=>{a(o)&&pe(Z)})}var Oe=b(ve,2),$e=v(Oe);let Ke;var Ze=v($e);{var Pe=pe=>{B1(pe,{size:16,strokeWidth:1.6,"aria-hidden":"true"})},He=pe=>{U1(pe,{size:16,strokeWidth:1.6,"aria-hidden":"true"})};N(Ze,pe=>{l()?pe(Pe):pe(He,!1)})}var ce=b($e,2);{var Ce=pe=>{var q=q_(),ge=me(q),_e=v(ge);ll(_e,{size:16,strokeWidth:1.6,"aria-hidden":"true"});var ke=b(ge,2),Ne=v(ke);q1(Ne,{size:16,strokeWidth:1.6,"aria-hidden":"true"}),L("click",ge,R),L("click",ke,P),x(pe,q)};N(ce,pe=>{B(i()),p(()=>i().role==="user")&&pe(Ce)})}var Ue=b(ce,2);{var Ve=pe=>{var q=H_(),ge=v(q);z1(ge,{size:16,strokeWidth:1.6,"aria-hidden":"true"}),L("click",q,z),x(pe,q)};N(Ue,pe=>{B(i()),p(()=>i().role==="assistant"&&i().details?.generationId)&&pe(Ve)})}var st=b(Ue,2),bt=v(st);W1(bt,{size:16,strokeWidth:1.6,"aria-hidden":"true"}),U((pe,q)=>{kt(X,1,(B(i()),p(()=>`message ${i().role}`)),"svelte-1cnmaqf"),le=kt(oe,1,"bubble svelte-1cnmaqf",null,le,pe),Ke=kt($e,1,"message-action svelte-1cnmaqf",null,Ke,q),de($e,"aria-label",l()?"Message copied":"Copy message"),st.disabled=d()},[()=>({"has-attachments":a(s)}),()=>({copied:l()})]),L("click",$e,w),L("click",st,I),x(e,X),It()}var G_=F('<p class="reasoning-modal-status svelte-2cxve6">No reasoning data received yet.</p>'),Z_=F('<pre class="reasoning-modal-text svelte-2cxve6"> </pre>'),K_=F('<div class="reasoning-modal-scroll svelte-2cxve6"><!></div>'),Y_=F('<p class="model-settings-subtitle reasoning-modal-subtitle svelte-2cxve6"> </p>'),J_=F('<h2 id="reasoning-modal-title" class="svelte-2cxve6">Reasoning trace</h2> <!>',1),X_=F('<span aria-live="polite"><span class="reasoning-status-indicator svelte-2cxve6" aria-hidden="true"></span> </span>');function Q_(e,t){Pt(t,!1);const n=an();let r=ie(t,"open",8,!1),s=ie(t,"messageId",8,null),o=ie(t,"segments",24,()=>[]),i=ie(t,"status",8,null),u=O(null),l=O("");const d=12;let f=!0,c=!1;function g(C){if(!C||C.length===0)return"";let k="",w;for(const S of C){if(!S||typeof S.text!="string"||S.text.length===0)continue;const y=S.text;w&&S.type&&w!==S.type&&(k.endsWith(`
`)||(k+=`
`),k+=`
`),k.length>0&&!k.endsWith(" ")&&!k.endsWith(`
`)&&!k.endsWith("	")&&!k.endsWith("(")&&!k.endsWith("[")&&!k.endsWith("{")&&!k.endsWith("/")&&!k.endsWith("'")&&!k.endsWith("â")&&!/^[\s,.!?;:)/\]\}'"âºÂ»]/u.test(y)&&y[0]!=="'"&&y[0]!=="â"&&(k+=" "),k+=y,w=S.type??w}return k}Zc(()=>{r()&&!c&&(f=!0),c=r(),r()&&a(u)&&i()==="streaming"&&f&&cu(u,a(u).scrollTop=a(u).scrollHeight)});function m(){if(!a(u))return;const{scrollTop:C,scrollHeight:k,clientHeight:w}=a(u);f=k-(C+w)<=d}function h(){n("close")}ye(()=>B(o()),()=>{_(l,g(o()))}),cn(),Ot();var T=Me(),A=me(T);{var E=C=>{Fr(C,{get open(){return r()},labelledBy:"reasoning-modal-title",modalClass:"reasoning-modal",bodyClass:"reasoning-modal-body",closeLabel:"Close reasoning details",$$events:{close:h},children:(k,w)=>{var S=K_(),y=v(S);{var D=R=>{var P=G_();x(R,P)},z=R=>{var P=Z_(),I=v(P);U(()=>W(I,a(l))),x(R,P)};N(y,R=>{a(l),p(()=>a(l).length===0)?R(D):R(z,!1)})}Yn(S,R=>_(u,R),()=>a(u)),L("scroll",S,m),x(k,S)},$$slots:{default:!0,heading:(k,w)=>{var S=J_(),y=b(me(S),2);{var D=z=>{var R=Y_(),P=v(R);U(()=>W(P,`Message ID: ${s()??""}`)),x(z,R)};N(y,z=>{s()&&z(D)})}x(k,S)},actions:(k,w)=>{var S=Me(),y=me(S);{var D=z=>{var R=X_(),P=b(v(R));U(()=>{kt(R,1,`reasoning-status ${i()}`,"svelte-2cxve6"),W(P,` ${i()==="streaming"?"Streaming":"Complete"}`)}),x(z,R)};N(y,z=>{i()&&z(D)})}x(k,S)}}})};N(A,C=>{r()&&C(E)})}x(e,T),It()}var e2=F('<p class="status">No tool activity recorded.</p>'),t2=F('<span class="tool-usage-modal-status-pill svelte-12mixwl"> </span>'),n2=F('<div class="tool-usage-modal-section svelte-12mixwl"><span class="tool-usage-modal-section-label svelte-12mixwl">Input</span> <div class="tool-usage-modal-block svelte-12mixwl"><!></div></div>'),r2=F('<div class="tool-usage-modal-section svelte-12mixwl"><span class="tool-usage-modal-section-label svelte-12mixwl">Output</span> <div class="tool-usage-modal-block svelte-12mixwl"><!></div></div>'),a2=F('<p class="status tool-usage-status svelte-12mixwl">No details provided.</p>'),s2=F('<li class="tool-usage-modal-item svelte-12mixwl"><div class="tool-usage-modal-item-header svelte-12mixwl"><span class="tool-usage-modal-name svelte-12mixwl"> </span> <!></div> <details class="tool-usage-modal-details svelte-12mixwl"><summary class="tool-usage-modal-summary svelte-12mixwl">Show input &amp; output</summary> <!> <!> <!></details></li>'),o2=F('<ul class="tool-usage-modal-list svelte-12mixwl"></ul>'),i2=F('<p class="model-settings-subtitle"> </p>'),u2=F('<h2 id="tool-usage-modal-title">Tools used</h2> <!>',1);function l2(e,t){Pt(t,!1);const n=an();let r=ie(t,"open",8,!1),s=ie(t,"messageId",8,null),o=ie(t,"tools",24,()=>[]);function i(){n("close")}Ot();var u=Me(),l=me(u);{var d=f=>{Fr(f,{get open(){return r()},labelledBy:"tool-usage-modal-title",modalClass:"tool-usage-modal",bodyClass:"tool-usage-body",closeLabel:"Close tool usage details",$$events:{close:i},children:(c,g)=>{var m=Me(),h=me(m);{var T=E=>{var C=e2();x(E,C)},A=E=>{var C=o2();Lt(C,5,o,k=>k.id,(k,w)=>{var S=s2(),y=v(S),D=v(y),z=v(D),R=b(D,2);{var P=re=>{var X=t2(),oe=v(X);U(()=>W(oe,(a(w),p(()=>a(w).status)))),x(re,X)};N(R,re=>{a(w),p(()=>a(w).status)&&re(P)})}var I=b(y,2),Q=b(v(I),2);{var Y=re=>{var X=n2(),oe=b(v(X),2),le=v(oe);zi(le,()=>(B(Ba),a(w),p(()=>Ba(a(w).input)))),ma(oe,xe=>Vi?.(xe)),x(re,X)};N(Q,re=>{a(w),p(()=>a(w).input)&&re(Y)})}var he=b(Q,2);{var $=re=>{var X=r2(),oe=b(v(X),2),le=v(oe);zi(le,()=>(B(Ba),a(w),p(()=>Ba(a(w).result)))),ma(oe,xe=>Vi?.(xe)),x(re,X)};N(he,re=>{a(w),p(()=>a(w).result)&&re($)})}var ne=b(he,2);{var ae=re=>{var X=a2();x(re,X)};N(ne,re=>{a(w),p(()=>!a(w).input&&!a(w).result)&&re(ae)})}U(()=>W(z,(a(w),p(()=>a(w).name)))),x(k,S)}),x(E,C)};N(h,E=>{B(o()),p(()=>o().length===0)?E(T):E(A,!1)})}x(c,m)},$$slots:{default:!0,heading:(c,g)=>{var m=u2(),h=b(me(m),2);{var T=A=>{var E=i2(),C=v(E);U(()=>W(C,`Message ID: ${s()??""}`)),x(A,E)};N(h,A=>{s()&&A(T)})}x(c,m)}}})};N(l,f=>{r()&&f(d)})}x(e,u),It()}var c2=F('<p class="status modal-empty-state">No web search details available.</p>'),d2=F('<div class="detail-item svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Context Size</div> <div class="detail-value svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0">Amount of search context provided to the model</div></div>'),f2=F('<div class="detail-item full-width svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Custom Search Prompt</div> <div class="detail-value prompt svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0">Instructions for how to incorporate search results</div></div>'),p2=F('<div class="details-grid svelte-1oswcu0"><div class="detail-item svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Search Engine</div> <div class="detail-value engine svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0"><!></div></div> <div class="detail-item svelte-1oswcu0"><div class="detail-label svelte-1oswcu0">Max Results</div> <div class="detail-value svelte-1oswcu0"> </div> <div class="detail-description svelte-1oswcu0">Number of search results retrieved</div></div> <!> <!></div>'),v2=F('<p class="model-settings-subtitle"> </p>'),m2=F('<h2 id="web-search-details-modal-title">Web Search Details</h2> <!>',1);function h2(e,t){Pt(t,!1);const n=an();let r=ie(t,"open",8,!1),s=ie(t,"messageId",8,null),o=ie(t,"details",8,null);function i(){n("close")}function u(g){return g?g==="native"?"Native (OpenAI/Anthropic)":g==="exa"?"Exa":g:"Auto"}function l(g){return g?g.charAt(0).toUpperCase()+g.slice(1):"Default"}Ot();var d=Me(),f=me(d);{var c=g=>{Fr(g,{get open(){return r()},labelledBy:"web-search-details-modal-title",modalClass:"web-search-details-modal",bodyClass:"web-search-details-modal-body",closeLabel:"Close web search details",$$events:{close:i},children:(m,h)=>{var T=Me(),A=me(T);{var E=k=>{var w=c2();x(k,w)},C=k=>{var w=p2(),S=v(w),y=b(v(S),2),D=v(y),z=b(y,2),R=v(z);{var P=X=>{var oe=Gt("Automatic selection based on model provider");x(X,oe)},I=X=>{var oe=Me(),le=me(oe);{var xe=J=>{var V=Gt("Using provider's built-in web search");x(J,V)},Fe=J=>{var V=Me(),fe=me(V);{var te=G=>{var ve=Gt("Using Exa's AI-powered search API");x(G,ve)};N(fe,G=>{B(o()),p(()=>o().engine==="exa")&&G(te)},!0)}x(J,V)};N(le,J=>{B(o()),p(()=>o().engine==="native")?J(xe):J(Fe,!1)},!0)}x(X,oe)};N(R,X=>{B(o()),p(()=>!o().engine||o().engine===null)?X(P):X(I,!1)})}var Q=b(S,2),Y=b(v(Q),2),he=v(Y),$=b(Q,2);{var ne=X=>{var oe=d2(),le=b(v(oe),2),xe=v(le);U(Fe=>W(xe,Fe),[()=>(B(o()),p(()=>l(o().contextSize)))]),x(X,oe)};N($,X=>{B(o()),p(()=>o().contextSize)&&X(ne)})}var ae=b($,2);{var re=X=>{var oe=f2(),le=b(v(oe),2),xe=v(le);U(()=>W(xe,(B(o()),p(()=>o().searchPrompt)))),x(X,oe)};N(ae,X=>{B(o()),p(()=>o().searchPrompt&&o().searchPrompt.trim())&&X(re)})}U(X=>{W(D,X),W(he,(B(o()),p(()=>o().maxResults??5)))},[()=>(B(o()),p(()=>u(o().engine)))]),x(k,w)};N(A,k=>{o()?k(C,!1):k(E)})}x(m,T)},$$slots:{default:!0,heading:(m,h)=>{var T=m2(),A=b(me(T),2);{var E=C=>{var k=v2(),w=v(k);U(()=>W(w,`Message ID: ${s()??""}`)),x(C,k)};N(A,C=>{s()&&C(E)})}x(m,T)}}})};N(f,g=>{r()&&g(c)})}x(e,d),It()}var g2=F('<div class="conversation-item svelte-26wxji"><!></div>'),_2=F('<section class="conversation svelte-26wxji" aria-live="polite"></section> <!> <!> <!> <!>',1);function b2(e,t){Pt(t,!1);const n=()=>Mt(w,"$toolUsageModal",i),r=()=>Mt(S,"$reasoningModal",i),s=()=>Mt(y,"$citationsModal",i),o=()=>Mt(D,"$webSearchDetailsModal",i),[i,u]=lr();let l=ie(t,"messages",24,()=>[]),d=ie(t,"disableDelete",8,!1),f=O(null),c=O(null),g=null,m=O([]),h=O({}),T=O({});const A="tool";let E=!1;const C=12;let k=!0;const w=sm(),S=Xv(),y=md(),D=om(),z=an();Zc(()=>{if(a(f)){if(E){E=!1;return}k&&cu(f,a(f).scrollTop=a(f).scrollHeight)}});function R(){if(!a(f))return;const{scrollTop:Z,scrollHeight:Oe,clientHeight:$e}=a(f);k=Oe-(Z+$e)<=C}function P(Z){Z&&z("openGenerationDetails",{id:Z})}async function I(Z){try{await navigator.clipboard.writeText(Z.text??"")}catch(Oe){console.error("Failed to copy message",Oe);return}_(c,Z.id),E=!0,g&&clearTimeout(g),g=setTimeout(()=>{E=!0,_(c,null),g=null},2e3)}Ga(()=>{g&&clearTimeout(g)});function Q(Z){w.openForMessage(l(),a(T),Z.id,A)}function Y(){w.close()}function he(Z){S.openForMessage(Z)}function $(){S.close()}function ne(Z){const Oe=sa(Z.details?.citations??null,Z.details?.meta??null,Z.details??null);y.openWithCitations(Z.id,Oe)}function ae(){y.close()}function re(Z){D.openForMessage(Z)}function X(){D.close()}function oe(Z){Z&&z("deleteMessage",{id:Z.id})}function le(Z){Z&&z("retryMessage",{id:Z.id})}function xe(Z){Z&&z("editMessage",{id:Z.id})}function Fe(Z){!Z?.message||!Z?.attachment||z("editAssistantAttachment",Z)}ye(()=>B(l()),()=>{const Z=nm(l(),A);_(m,Z.visibleMessages),_(h,Z.assistantToolUsage),_(T,Z.messageIndexMap)}),ye(()=>(B(l()),a(T)),()=>{w.syncEntries(l(),a(T),A)}),ye(()=>B(l()),()=>{S.syncFromMessages(l())}),cn(),Ot();var J=_2(),V=me(J);Lt(V,5,()=>a(m),Z=>Z.id,(Z,Oe)=>{var $e=g2(),Ke=v($e);{let Ze=jt(()=>(a(c),a(Oe),p(()=>a(c)===a(Oe).id)));V_(Ke,{get message(){return a(Oe)},get toolSummary(){return a(h),a(Oe),p(()=>a(h)[a(Oe).id])},get copied(){return a(Ze)},get disableDelete(){return d()},$$events:{copy:Pe=>I(Pe.detail.message),openTool:Pe=>Q(Pe.detail.message),openReasoning:Pe=>he(Pe.detail.message),openCitations:Pe=>ne(Pe.detail.message),openWebSearchDetails:Pe=>re(Pe.detail.message),openUsage:Pe=>P(Pe.detail.id),delete:Pe=>oe(Pe.detail.message),retry:Pe=>le(Pe.detail.message),edit:Pe=>xe(Pe.detail.message),editAttachment:Pe=>Fe(Pe.detail)}})}x(Z,$e)}),Yn(V,Z=>_(f,Z),()=>a(f));var fe=b(V,2);l2(fe,{get open(){return n(),p(()=>n().open)},get messageId(){return n(),p(()=>n().messageId)},get tools(){return n(),p(()=>n().tools)},$$events:{close:Y}});var te=b(fe,2);Q_(te,{get open(){return r(),p(()=>r().open)},get messageId(){return r(),p(()=>r().messageId)},get segments(){return r(),p(()=>r().segments)},get status(){return r(),p(()=>r().status)},$$events:{close:$}});var G=b(te,2);gm(G,{get open(){return s(),p(()=>s().open)},get messageId(){return s(),p(()=>s().messageId)},get citations(){return s(),p(()=>s().citations)},$$events:{close:ae}});var ve=b(G,2);h2(ve,{get open(){return o(),p(()=>o().open)},get messageId(){return o(),p(()=>o().messageId)},get details(){return o(),p(()=>o().details)},$$events:{close:X}}),L("scroll",V,R),x(e,J),It(),u()}const y2=[{key:"temperature",aliases:["temperature"],label:"Temperature",description:"Higher values increase randomness.",fallback:{type:"number",min:0,max:2,step:.1}},{key:"top_p",aliases:["top_p"],label:"Top P",description:"Limits sampling to a cumulative probability mass.",fallback:{type:"number",min:0,max:1,step:.01}},{key:"top_k",aliases:["top_k"],label:"Top K",description:"Restrict sampling to the top K tokens.",fallback:{type:"integer",min:1,max:400,step:1}},{key:"min_p",aliases:["min_p"],label:"Min P",description:"Nucleus sampling floor; smaller values widen sampling.",fallback:{type:"number",min:0,max:1,step:.01}},{key:"top_a",aliases:["top_a"],label:"Top A",description:"Alternative nucleus control for certain models.",fallback:{type:"number",min:0,max:1,step:.01}},{key:"max_tokens",aliases:["max_tokens","max_output_tokens"],label:"Max completion tokens",description:"Upper bound on tokens generated in the response.",fallback:{type:"integer",min:1,max:32768,step:1}},{key:"frequency_penalty",aliases:["frequency_penalty"],label:"Frequency penalty",description:"Penalize frequent tokens; useful to reduce repetition.",fallback:{type:"number",min:-2,max:2,step:.05}},{key:"presence_penalty",aliases:["presence_penalty"],label:"Presence penalty",description:"Encourage introducing new topics by penalizing seen tokens.",fallback:{type:"number",min:-2,max:2,step:.05}},{key:"repetition_penalty",aliases:["repetition_penalty"],label:"Repetition penalty",description:"Higher values push the model away from repeating itself.",fallback:{type:"number",min:0,max:2,step:.05}},{key:"top_logprobs",aliases:["top_logprobs"],label:"Top logprobs",description:"Return log probabilities for the top N tokens per step.",fallback:{type:"integer",min:0,max:20,step:1}},{key:"seed",aliases:["seed"],label:"Seed",description:"Deterministic seed (when supported).",fallback:{type:"integer",min:0,step:1}},{key:"parallel_tool_calls",aliases:["parallel_tool_calls"],label:"Parallel tool calls",description:"Allow the model to invoke multiple tools simultaneously.",fallback:{type:"boolean"}},{key:"structured_outputs",aliases:["structured_outputs","json_schema","response_format"],label:"Structured outputs",description:"Favor structured responses when supported by the provider.",fallback:{type:"boolean"}},{key:"safe_prompt",aliases:["safe_prompt"],label:"Safe prompt",description:"Ask the provider to apply additional safety prompting.",fallback:{type:"boolean"}},{key:"raw_mode",aliases:["raw_mode"],label:"Raw mode",description:"Bypass guardrails when the provider allows it.",fallback:{type:"boolean"}}];function Ms(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t?t.replace(/[^a-z0-9_\-]/g,"_"):null}function Ti(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"&&e.trim()){const t=Number(e);if(Number.isFinite(t))return t}}function Kd(e){const t={};if(!e||!e.capabilities)return t;const r=e.capabilities.parameters;if(!r||typeof r!="object")return t;function s(o,i){const u=Ms(o);if(!u||!i||typeof i!="object")return;const l=i,d={},f=l.type??l.datatype??l.kind;typeof f=="string"&&(d.type=f.toLowerCase());const c=l.min??l.minimum??l.lower_bound??l.minimum_value,g=l.max??l.maximum??l.upper_bound??l.maximum_value,m=l.step??l.increment??l.resolution,h=Ti(c),T=Ti(g),A=Ti(m);h!==void 0&&(d.min=h),T!==void 0&&(d.max=T),A!==void 0&&(d.step=A),t[u]=d;const E=l.properties;if(E&&typeof E=="object")for(const[C,k]of Object.entries(E))s(`${o}.${C}`,k)}for(const[o,i]of Object.entries(r))s(o,i);return t}function Yd(e){const t=new Set;if(!e)return t;const n=e.supported_parameters_normalized;if(Array.isArray(n))for(const s of n){const o=Ms(s);o&&t.add(o)}const r=e.supported_parameters;if(Array.isArray(r))for(const s of r){const o=Ms(s);o&&t.add(o)}if(t.size===0)for(const s of _u(e)){const o=Ms(s);o&&t.add(o)}return t}function x2(e,t){const n=e.fallback;if(n.type==="boolean")return{key:e.key,label:e.label,description:e.description,type:"boolean"};const r={key:e.key,label:e.label,description:e.description,type:n.type,min:n.min,max:n.max,step:n.step};if(!t)return r.type==="integer"&&(!r.step||r.step<=0)&&(r.step=1),r;const s=t.type?.toLowerCase();return s==="boolean"?{key:e.key,label:e.label,description:e.description,type:"boolean"}:(s==="integer"||s==="int"?r.type="integer":(s==="number"||s==="float"||s==="double")&&(r.type="number"),t.min!==void 0&&(r.min=t.min),t.max!==void 0&&(r.max=t.max),t.step!==void 0&&(r.step=t.step),r.type==="integer"&&(!r.step||r.step<=0)&&(r.step=1),r)}function k2(e,t){const n=Yd(e),r=new Set(t?Object.keys(t):[]),s=Kd(e),o=[],i=new Set;for(const u of y2){if(!u.aliases.some(c=>n.has(c))&&!r.has(u.key)||i.has(u.key))continue;const d=u.aliases.map(c=>s[c]).find(c=>c!==void 0),f=x2(u,d);"min"in f&&"max"in f&&f.min!==void 0&&f.max!==void 0&&f.min>=f.max&&(f.min=void 0,f.max=void 0),o.push(f),i.add(u.key)}return o}function Jd(e,t){const n=e?.[t];return typeof n=="number"&&Number.isFinite(n)?n:void 0}function Mo(e,t){let n=e;return t.min!==void 0&&(n=Math.max(n,t.min)),t.max!==void 0&&(n=Math.min(n,t.max)),n}function Xd(e){const t=e.min??0,n=e.max??t;if(t<=0&&n>=0)return Mo(0,e);const r=t+(n-t)/2;return Mo(r,e)}function w2(e,t){const n=Jd(t,e.key);return n!==void 0?Mo(n,e):Xd(e)}function Jl(e){if(e.step&&e.step>0)return e.step;if(e.type==="integer")return 1;const t=e.min??0,r=(e.max??t+1)-t;if(!Number.isFinite(r)||r<=0)return .01;const s=r/100;return s>0?s:.01}function S2(e,t){const n=e.min??0,s=(e.max??n)-n;if(!Number.isFinite(s)||s===0)return"0%";const i=(Mo(t??Xd(e),e)-n)/s*100;return`${Math.min(100,Math.max(0,i))}%`}const E2=new Intl.NumberFormat(void 0,{maximumFractionDigits:4});function Fo(e){return typeof e=="number"&&Number.isFinite(e)?String(e):""}function _s(e,t){return t.type==="integer"?String(Math.round(e)):E2.format(e)}var C2=F('<div class="setting-range"><div class="setting-range-header"><span> </span> <button type="button" class="range-reset">Use default</button></div> <input class="range-input" type="range"/> <div class="range-extents"><span> </span> <span> </span></div></div>');function A2(e,t){Pt(t,!1);const n=O(),r=O(),s=O(),o=O(),i=O();let u=ie(t,"field",8),l=ie(t,"parameters",8),d=ie(t,"numericValue",8),f=ie(t,"hasCustom",8,!1),c=ie(t,"handlers",8);ye(()=>(B(u()),B(l())),()=>{_(n,w2(u(),l()))}),ye(()=>(B(u()),B(d())),()=>{_(r,S2(u(),d()))}),ye(()=>(B(d()),B(u())),()=>{_(s,d()!==void 0?_s(d(),u()):"Provider default")}),ye(()=>(B(u()),a(n)),()=>{_(o,u().min??a(n))}),ye(()=>(B(u()),a(n)),()=>{_(i,u().max??a(n))}),cn(),Ot();var g=C2(),m=v(g),h=v(m);let T;var A=v(h),E=b(h,2),C=b(m,2),k=b(C,2),w=v(k),S=v(w),y=b(w,2),D=v(y);U((z,R,P,I)=>{T=kt(h,1,"range-value",null,T,z),W(A,a(s)),E.disabled=!f(),de(C,"min",(B(u()),p(()=>u().min))),de(C,"max",(B(u()),p(()=>u().max))),de(C,"step",R),Et(C,a(n)),yn(C,`--slider-fill:${a(r)};`),de(C,"aria-valuemin",(B(u()),p(()=>u().min))),de(C,"aria-valuemax",(B(u()),p(()=>u().max))),de(C,"aria-valuenow",d()??void 0),de(C,"aria-valuetext",a(s)),W(S,P),W(D,I)},[()=>({default:!f()}),()=>(B(Jl),B(u()),p(()=>Jl(u()))),()=>(B(_s),a(o),B(u()),p(()=>_s(a(o),u()))),()=>(B(_s),a(i),B(u()),p(()=>_s(a(i),u())))]),L("click",E,()=>c().onRangeReset(u().key)),L("input",C,z=>c().onSliderInput(u().key,z)),x(e,g),It()}var T2=F('<span class="setting-hint"> </span>'),D2=F('<input class="input-control" type="number" placeholder="Default"/>'),M2=F('<div class="setting-boolean"><input type="checkbox"/> <span>Enabled</span></div>'),F2=F('<label class="setting"><div class="setting-header"><span class="setting-label"> </span> <!></div> <!></label>');function P2(e,t){Pt(t,!1);let n=ie(t,"field",8),r=ie(t,"parameters",8),s=ie(t,"handlers",8);const o=E=>E.type==="number"||E.type==="integer";let i=O(),u=O(!1);ye(()=>(B(n()),B(r())),()=>{o(n())?_(i,Jd(r(),n().key)):_(i,void 0)}),ye(()=>(B(r()),B(n())),()=>{_(u,r()?.[n().key]!=null)}),cn(),Ot();var l=F2(),d=v(l),f=v(d),c=v(f),g=b(f,2);{var m=E=>{var C=T2(),k=v(C);U(()=>W(k,(B(n()),p(()=>n().description)))),x(E,C)};N(g,E=>{B(n()),p(()=>n().description)&&E(m)})}var h=b(d,2);{var T=E=>{var C=Me(),k=me(C);{var w=y=>{A2(y,{get field(){return n()},get parameters(){return r()},get numericValue(){return a(i)},get hasCustom(){return a(u)},get handlers(){return s()}})},S=y=>{var D=D2();U(z=>{de(D,"inputmode",(B(n()),p(()=>n().type==="integer"?"numeric":"decimal"))),de(D,"step",(B(n()),p(()=>n().step??(n().type==="integer"?1:"any")))),de(D,"min",(B(n()),p(()=>n().min??void 0))),de(D,"max",(B(n()),p(()=>n().max??void 0))),Et(D,z)},[()=>(B(Fo),B(r()),B(n()),p(()=>Fo(r()?.[n().key])))]),L("change",D,z=>s().onNumberChange(n().key,z)),x(y,D)};N(k,y=>{B(n()),p(()=>n().min!==void 0&&n().max!==void 0)?y(w):y(S,!1)})}x(E,C)},A=E=>{var C=Me(),k=me(C);{var w=S=>{var y=M2(),D=v(y);U(()=>{de(D,"id",(B(n()),p(()=>`field-${n().key}`))),Mn(D,(B(r()),B(n()),p(()=>r()?.[n().key]===!0)))}),L("change",D,z=>s().onBooleanChange(n().key,z)),x(S,y)};N(k,S=>{B(n()),p(()=>n().type==="boolean")&&S(w)},!0)}x(E,C)};N(h,E=>{B(n()),p(()=>o(n()))?E(T):E(A,!1)})}U(()=>W(c,(B(n()),p(()=>n().label)))),x(e,l),It()}var I2=F("<option> </option>"),N2=F('<label class="reasoning-field"><span>Effort</span> <select class="select-control"><option>Provider default</option><!></select></label>'),L2=F('<label class="reasoning-field"><span>Max reasoning tokens</span> <input class="input-control" type="number" inputmode="numeric" placeholder="Default"/></label>'),O2=F('<section class="setting reasoning"><div class="setting-header"><span class="setting-label">Reasoning tokens</span> <span class="setting-hint">Adjust effort, budget, or output visibility when the provider supports reasoning traces.</span></div> <div class="reasoning-controls"><label class="reasoning-field"><span>Enabled behavior</span> <select class="select-control"><option>Use provider default</option><option>Force enabled</option><option>Disable reasoning</option></select></label> <!> <!> <label class="reasoning-toggle"><input type="checkbox"/> <span>Exclude reasoning from responses</span></label></div></section>');function $2(e,t){Pt(t,!1);let n=ie(t,"reasoning",8),r=ie(t,"handlers",8);Ot();var s=O2(),o=b(v(s),2),i=v(o),u=b(v(i),2),l=v(u);l.value=l.__value="default";var d=b(l);d.value=d.__value="on";var f=b(d);f.value=f.__value="off";var c;Fn(u);var g=b(i,2);{var m=C=>{var k=N2(),w=b(v(k),2),S=v(w);S.value=S.__value="";var y=b(S);Lt(y,1,()=>(B(n()),p(()=>n().options)),Vn,(z,R)=>{var P=I2(),I=v(P),Q={};U(Y=>{W(I,Y),Q!==(Q=a(R))&&(P.value=(P.__value=a(R))??"")},[()=>(a(R),p(()=>a(R).charAt(0).toUpperCase()+a(R).slice(1)))]),x(z,P)});var D;Fn(w),U(()=>{de(k,"aria-disabled",(B(n()),p(()=>!n().effort.supported))),w.disabled=(B(n()),p(()=>!n().effort.supported)),D!==(D=(B(n()),p(()=>n().effort.supported?n().effort.value??"":"")))&&(w.value=(w.__value=(B(n()),p(()=>n().effort.supported?n().effort.value??"":"")))??"",kn(w,(B(n()),p(()=>n().effort.supported?n().effort.value??"":""))))}),L("change",w,function(...z){r().onEffortChange?.apply(this,z)}),x(C,k)};N(g,C=>{B(n()),p(()=>n().effort.showField)&&C(m)})}var h=b(g,2);{var T=C=>{var k=L2(),w=b(v(k),2);U(S=>{de(k,"aria-disabled",(B(n()),p(()=>!n().maxTokens.supported))),de(w,"min",(B(n()),p(()=>n().schemas.maxTokens?.min??void 0))),de(w,"max",(B(n()),p(()=>n().schemas.maxTokens?.max??void 0))),de(w,"step",(B(n()),p(()=>n().schemas.maxTokens?.step??1))),w.disabled=(B(n()),p(()=>!n().maxTokens.supported)),Et(w,S)},[()=>(B(Fo),B(n()),p(()=>Fo(n().maxTokens.value)))]),L("change",w,function(...S){r().onMaxTokensChange?.apply(this,S)}),x(C,k)};N(h,C=>{B(n()),p(()=>n().maxTokens.showField)&&C(T)})}var A=b(h,2),E=v(A);U(()=>{c!==(c=(B(n()),p(()=>n().enabledSelection)))&&(u.value=(u.__value=(B(n()),p(()=>n().enabledSelection)))??"",kn(u,(B(n()),p(()=>n().enabledSelection)))),Mn(E,(B(n()),p(()=>n().exclude)))}),L("change",u,function(...C){r().onEnabledChange?.apply(this,C)}),L("change",E,function(...C){r().onExcludeChange?.apply(this,C)}),x(e,s),It()}const R2=["reasoning","reasoning_effort","reasoning_max_tokens","reasoning_exclude","reasoning_enabled","include_reasoning"],oo={effort:["reasoning.effort","reasoning_effort"],maxTokens:["reasoning.max_tokens","reasoning_max_tokens","thinking_budget"],exclude:["reasoning.exclude","reasoning_exclude","include_reasoning"],enabled:["reasoning.enabled","reasoning_enabled"]};function z2(e){if(!e)return!1;const t=["openai/o1","openai/o3","openai/gpt-5","gpt-5","/grok","grok-"],n=[],r=o=>{if(typeof o!="string")return;const i=o.trim().toLowerCase();i&&n.push(i)};if(r(e.id),r(e.name),Array.isArray(e.tags))for(const o of e.tags)r(o);const s=e;return r(s.series),r(s.family),n.some(o=>t.some(i=>o.includes(i)))}function B2(e){const t=[];for(const n of e){const r=Ms(n);r&&t.push(r)}return t}function U2(){return xn(dn,e=>e.data?.parameters??null)}function j2(e,t){return xn([e,t],([n,r])=>k2(n,r))}function q2(e){return xn(e,t=>!!(t&&Object.keys(t).length>0))}function H2(e){return xn(e,t=>Kd(t))}function W2(e){return xn(e,t=>Yd(t))}function V2(e){return xn(e,t=>{const n=r=>{for(const s of B2(r)){const o=t[s];if(o)return o}};return{effort:n(oo.effort),maxTokens:n(oo.maxTokens),exclude:n(oo.exclude),enabled:n(oo.enabled)}})}function G2(e){return xn(e,t=>t?.reasoning??null)}function Z2(e,t,n,r,s){const o=["low","medium","high"];return xn([e,t,n,r,s],([i,u,l,d,f])=>{const c=u?.effort??null,g=u?.max_tokens??null,m=u?.exclude===!0,h=u?u.enabled===!0?"on":u.enabled===!1?"off":"default":"default",T=(()=>{if(i?.reasoning&&Object.keys(i.reasoning).length>0)return!0;for(const z of R2)if(l.has(z))return!0;for(const z of Object.values(d))if(z)return!0;return!1})(),A=!!(d.effort||l.has("reasoning_effort")||z2(f)),E=!!(d.maxTokens||l.has("reasoning_max_tokens")),C=c!==null,k=g!==null;return{supported:T,schemas:d,enabledSelection:h,options:o,effort:{value:c,supported:T&&(A||C),showField:A||C},maxTokens:{value:g,supported:T&&(E||k),showField:E||k},exclude:m}})}function K2(){return rn(null)}function Y2(){const e=rn(!1),t=rn(""),n=K2(),r=U2(),s=j2(n,r),o=q2(r),i=H2(n),u=W2(n),l=V2(i),d=G2(r),f=Z2(r,d,u,l,n);let c=null;const m=xn([e,t,dn],([k,w,S])=>({open:k,selectedModel:w,settingsState:S})).subscribe(({open:k,selectedModel:w,settingsState:S})=>{!k||!w||(S.data&&S.data.model!==w&&dn.setModel(w),c!==w&&(c=w,dn.clearErrors(),dn.load(w)))});Ga(()=>{m()});const h={onSliderInput:(k,w)=>{const S=w.currentTarget;if(!S)return;const y=Number(S.value);Number.isFinite(y)&&dn.updateParameter(k,y)},onRangeReset:k=>{dn.updateParameter(k,null)},onNumberChange:(k,w)=>{const S=w.currentTarget;if(!S)return;const y=S.value.trim();if(!y){dn.updateParameter(k,null);return}const D=Number(y);if(!Number.isFinite(D)){dn.updateParameter(k,null);return}dn.updateParameter(k,D)},onBooleanChange:(k,w)=>{const S=w.currentTarget;S&&dn.updateParameter(k,S.checked)}};function T(k){const w=rt(d)?{...rt(d)}:{};k(w);for(const S of Object.keys(w)){const y=w[S];(y==null||typeof y=="string"&&y.trim()==="")&&delete w[S]}Object.keys(w).length===0?dn.updateParameter("reasoning",null):dn.updateParameter("reasoning",w)}const A={onEnabledChange:k=>{const w=k.currentTarget;if(!w)return;const S=w.value;T(y=>{S==="on"?y.enabled=!0:S==="off"?y.enabled=!1:delete y.enabled})},onEffortChange:k=>{const w=k.currentTarget;if(!w)return;const S=w.value;T(y=>{S?y.effort=S:delete y.effort})},onMaxTokensChange:k=>{const w=k.currentTarget;if(!w)return;const S=w.value.trim();if(!S){T(D=>{delete D.max_tokens});return}const y=Number(S);if(!Number.isFinite(y)||y<=0){T(D=>{delete D.max_tokens});return}T(D=>{D.max_tokens=y})},onExcludeChange:k=>{const w=k.currentTarget;if(!w)return;const S=w.checked;T(y=>{S?y.exclude=!0:delete y.exclude})}};let E={open:!1,selectedModel:"",model:null};function C(k){k.open!==E.open&&(e.set(k.open),E.open=k.open),k.selectedModel!==E.selectedModel&&(t.set(k.selectedModel),E.selectedModel=k.selectedModel),k.model!==E.model&&(n.set(k.model),E.model=k.model)}return{settingsState:dn,parameters:r,fields:s,hasCustomParameters:o,reasoning:f,parameterHandlers:h,reasoningHandlers:A,resetToDefaults:()=>dn.resetToDefaults(),flushSave:()=>dn.flushSave(),sync:C}}var J2=F('<p class="status">Loading settingsâ¦</p>'),X2=F('<p class="status error"> </p>'),Q2=F('<p class="status">This model does not expose configurable parameters.</p>'),eb=F('<form class="settings-grid"></form>'),tb=F('<div class="settings-stack" aria-live="polite"><!> <!></div>'),nb=F('<h2 id="model-settings-title">Model settings</h2> <p class="model-settings-subtitle"><!></p>',1),rb=F('<button slot="actions" type="button" class="btn btn-ghost btn-small">Reset to defaults</button>'),ab=F('<span class="status error"> </span>'),sb=F('<span class="status">Saving changesâ¦</span>'),ob=F('<span class="status">Pending changes; closing this modal will save.</span>'),ib=F('<span class="status">Changes save when you close this modal.</span>'),ub=F('<footer slot="footer" class="model-settings-footer"><!></footer>');function lb(e,t){Pt(t,!1);const n=()=>Mt(m,"$settingsState",u),r=()=>Mt(A,"$hasCustomParameters",u),s=()=>Mt(E,"$reasoning",u),o=()=>Mt(T,"$fields",u),i=()=>Mt(h,"$parameters",u),[u,l]=lr();let d=ie(t,"open",8,!1),f=ie(t,"selectedModel",8,""),c=ie(t,"model",8,null);const g=an(),{settingsState:m,parameters:h,fields:T,hasCustomParameters:A,reasoning:E,parameterHandlers:C,reasoningHandlers:k,resetToDefaults:w,flushSave:S,sync:y}=Y2();let D=!1;async function z(){if(D||n().saving)return;D=!0,await S()&&g("close"),D=!1}ye(()=>(B(d()),B(f()),B(c())),()=>{y({open:d(),selectedModel:f(),model:c()})}),cn(),Ot();var R=Me(),P=me(R);{var I=Q=>{Fr(Q,{get open(){return d()},labelledBy:"model-settings-title",closeLabel:"Close model settings",$$events:{close:()=>void z()},children:(Y,he)=>{var $=Me(),ne=me($);{var ae=X=>{var oe=J2();x(X,oe)},re=X=>{var oe=Me(),le=me(oe);{var xe=J=>{var V=X2(),fe=v(V);U(()=>W(fe,(n(),p(()=>n().error)))),x(J,V)},Fe=J=>{var V=Me(),fe=me(V);{var te=ve=>{var Z=Q2();x(ve,Z)},G=ve=>{var Z=tb(),Oe=v(Z);{var $e=Pe=>{$2(Pe,{get reasoning(){return s()},get handlers(){return k}})};N(Oe,Pe=>{s(),p(()=>s().supported)&&Pe($e)})}var Ke=b(Oe,2);{var Ze=Pe=>{var He=eb();Lt(He,5,o,ce=>ce.key,(ce,Ce)=>{P2(ce,{get field(){return a(Ce)},get parameters(){return i()},get handlers(){return C}})}),x(Pe,He)};N(Ke,Pe=>{o(),p(()=>o().length)&&Pe(Ze)})}x(ve,Z)};N(fe,ve=>{s(),o(),p(()=>!s().supported&&!o().length)?ve(te):ve(G,!1)})}x(J,V)};N(le,J=>{n(),p(()=>n().error)?J(xe):J(Fe,!1)},!0)}x(X,oe)};N(ne,X=>{n(),p(()=>n().loading)?X(ae):X(re,!1)})}x(Y,$)},$$slots:{default:!0,heading:(Y,he)=>{var $=nb(),ne=b(me($),2),ae=v(ne);{var re=oe=>{var le=Gt();U(()=>W(le,(B(c()),p(()=>c().name)))),x(oe,le)},X=oe=>{var le=Me(),xe=me(le);{var Fe=V=>{var fe=Gt();U(()=>W(fe,(B(c()),p(()=>c().id)))),x(V,fe)},J=V=>{var fe=Gt();U(()=>W(fe,f())),x(V,fe)};N(xe,V=>{B(c()),p(()=>c()?.id)?V(Fe):V(J,!1)},!0)}x(oe,le)};N(ae,oe=>{B(c()),p(()=>c()?.name)?oe(re):oe(X,!1)})}x(Y,$)},actions:(Y,he)=>{var $=rb();U(()=>$.disabled=(r(),n(),p(()=>!r()||n().saving))),L("click",$,w),x(Y,$)},footer:(Y,he)=>{var $=ub(),ne=v($);{var ae=X=>{var oe=ab(),le=v(oe);U(()=>W(le,(n(),p(()=>n().saveError)))),x(X,oe)},re=X=>{var oe=Me(),le=me(oe);{var xe=J=>{var V=sb();x(J,V)},Fe=J=>{var V=Me(),fe=me(V);{var te=ve=>{var Z=ob();x(ve,Z)},G=ve=>{var Z=ib();x(ve,Z)};N(fe,ve=>{n(),p(()=>n().dirty)?ve(te):ve(G,!1)},!0)}x(J,V)};N(le,J=>{n(),p(()=>n().saving)?J(xe):J(Fe,!1)},!0)}x(X,oe)};N(ne,X=>{n(),p(()=>n().saveError)?X(ae):X(re,!1)})}x(Y,$)}}})};N(P,Q=>{d()&&Q(I)})}x(e,R),It(),l()}var cb=F('<div class="suggestion-item svelte-1r3jne1"><button type="button" class="suggestion-btn svelte-1r3jne1"> </button> <button type="button" class="delete-btn svelte-1r3jne1" title="Delete suggestion">Ã</button></div>'),db=F('<div class="add-form svelte-1r3jne1"><input type="text" placeholder="Label" class="svelte-1r3jne1"/> <input type="text" placeholder="Prompt text" class="svelte-1r3jne1"/> <button type="button" class="add-submit-btn svelte-1r3jne1">Add</button> <button type="button" class="add-cancel-btn svelte-1r3jne1">Cancel</button></div>'),fb=F('<button type="button" class="add-btn svelte-1r3jne1" aria-label="Add suggested prompt">+</button>'),pb=F("<section><!> <!></section>");function vb(e,t){Pt(t,!1);const n=an();let r=ie(t,"suggestions",24,()=>[]),s=ie(t,"deleting",8,null),o=ie(t,"pwaMode",8,!1),i=O(!1),u=O(""),l=O("");function d(S){n("select",{text:S})}function f(S,y){y.stopPropagation(),n("delete",{index:S})}function c(){_(i,!0)}function g(){a(u).trim()&&a(l).trim()&&(n("add"),_(u,""),_(l,""),_(i,!1))}function m(){_(u,""),_(l,""),_(i,!1)}function h(){const S=a(u).trim(),y=a(l).trim();return S&&y?{label:S,text:y}:null}var T={getNewSuggestion:h};Ot();var A=pb();let E;var C=v(A);Lt(C,3,r,S=>S.text,(S,y,D)=>{var z=cb(),R=v(z),P=v(R),I=b(R,2);U(()=>{W(P,(a(y),p(()=>a(y).label))),I.disabled=s()===a(D)}),L("click",R,()=>d(a(y).text)),L("click",I,Q=>f(a(D),Q)),x(S,z)});var k=b(C,2);{var w=S=>{var y=Me(),D=me(y);{var z=P=>{var I=db(),Q=v(I),Y=b(Q,2),he=b(Y,2),$=b(he,2);tr(Q,()=>a(u),ne=>_(u,ne)),L("keydown",Q,ne=>ne.key==="Enter"&&g()),tr(Y,()=>a(l),ne=>_(l,ne)),L("keydown",Y,ne=>ne.key==="Enter"&&g()),L("click",he,g),L("click",$,m),x(P,I)},R=P=>{var I=fb();L("click",I,c),x(P,I)};N(D,P=>{a(i)?P(z):P(R,!1)})}x(S,y)};N(k,S=>{o()||S(w)})}return U(S=>E=kt(A,1,"suggestions svelte-1r3jne1",null,E,S),[()=>({"pwa-layout":o()})]),x(e,A),R0(t,"getNewSuggestion",h),It(T)}const Qd=[{id:"nova-3",name:"Nova 3 (Latest)"},{id:"nova-2",name:"Nova 2 (General)"},{id:"nova-2-medical",name:"Nova 2 Medical"},{id:"nova-2-phonecall",name:"Nova 2 Phone Call"},{id:"nova-2-meeting",name:"Nova 2 Meeting"},{id:"nova-2-finance",name:"Nova 2 Finance"},{id:"nova-2-conversationalai",name:"Nova 2 Conversational AI"},{id:"nova-2-drivethru",name:"Nova 2 Drive-Thru"}],mb={loading:!1,adding:!1,deleting:null,error:null,items:[]};function hb(){const e=rn({...mb});async function t(){e.update(o=>({...o,loading:!0,error:null}));try{const o=await fetch(`${Zt}/api/suggestions`);if(!o.ok)throw new Error(`HTTP ${o.status}`);const i=await o.json();e.update(u=>({...u,loading:!1,items:i.suggestions}))}catch(o){const i=o instanceof Error?o.message:"Failed to load suggestions.";e.update(u=>({...u,loading:!1,error:i}))}}async function n(o,i){e.update(u=>({...u,adding:!0,error:null}));try{const u=await fetch(`${Zt}/api/suggestions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({label:o,text:i})});if(!u.ok)throw new Error(`HTTP ${u.status}`);const l=await u.json();return e.update(d=>({...d,adding:!1,items:l.suggestions})),l.suggestions}catch(u){const l=u instanceof Error?u.message:"Failed to add suggestion.";return e.update(d=>({...d,adding:!1,error:l})),null}}async function r(o){e.update(i=>({...i,deleting:o,error:null}));try{const i=await fetch(`${Zt}/api/suggestions/${o}`,{method:"DELETE"});if(!i.ok)throw new Error(`HTTP ${i.status}`);const u=await i.json();return e.update(l=>({...l,deleting:null,items:u.suggestions})),u.suggestions}catch(i){const u=i instanceof Error?i.message:"Failed to delete suggestion.";return e.update(l=>({...l,deleting:null,error:u})),null}}function s(){e.update(o=>({...o,error:null}))}return{subscribe:e.subscribe,load:t,add:n,remove:r,clearError:s}}const Or=hb(),Di={loading:!1,saving:!1,error:null,saveError:null,value:"",initialValue:"",dirty:!1};function gb(){const e=rn({...Di});function t(u,l){return u.trim()!==l.trim()}function n(u){return u.system_prompt?.trim()??""}async function r(){e.set({...Di,loading:!0});try{const u=await Y0(),l=n(u);e.set({loading:!1,saving:!1,error:null,saveError:null,value:l,initialValue:l,dirty:!1})}catch(u){const l=u instanceof Error?u.message:"Failed to load system prompt.";e.set({...Di,loading:!1,error:l})}}function s(u){e.update(l=>{const d=u;return{...l,value:d,dirty:t(d,l.initialValue),saveError:null}})}async function o(){let u="";e.update(d=>(u=d.value,{...d,saving:!0,saveError:null}));const l={system_prompt:u.trim()||null};try{const d=await J0(l),f=n(d);e.set({loading:!1,saving:!1,error:null,saveError:null,value:f,initialValue:f,dirty:!1})}catch(d){const f=d instanceof Error?d.message:"Failed to save system prompt.";e.update(c=>({...c,saving:!1,saveError:f}))}}function i(){e.update(u=>({...u,value:u.initialValue,dirty:!1,saveError:null}))}return{subscribe:e.subscribe,load:r,save:o,reset:i,updateValue:s}}function Du(e,t){const n=()=>{e.style.height="auto",e.style.height=`${e.scrollHeight}px`},r=()=>n();return n(),e.addEventListener("input",r),{update:()=>n(),destroy:()=>{e.removeEventListener("input",r)}}}var _b=F('<p class="status">Loading system promptâ¦</p>'),bb=F('<p class="status error"> </p>'),yb=F('<p class="status error"> </p>'),xb=F('<textarea class="system-prompt textarea-control" rows="6" placeholder="Provide guidance for the assistant to follow at the start of new conversations."></textarea> <!>',1),kb=F('<p class="status error"> </p>'),wb=F('<p class="status">Loading presetsâ¦</p>'),Sb=F('<p class="status">No presets saved yet.</p>'),Eb=F('<span class="default-badge" title="Default preset">Default</span>'),Cb=F('<span class="filters-badge" title="Contains model explorer filters"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg> Filters</span>'),Ab=F('<button type="button" class="btn btn-ghost btn-small" title="Set as default preset to load on startup"> </button>'),Tb=F('<li class="preset-item"><div class="meta"><div class="name"> <!> <!></div> <div class="details"><span class="model"> </span> <span class="timestamps"><span title="Created at"> </span> <span aria-hidden="true">Â·</span> <span title="Updated at"> </span></span></div></div> <div class="actions"><button type="button" class="btn btn-ghost btn-small" title="Apply this preset (model, settings, system prompt, MCP servers)"> </button> <button type="button" class="btn btn-ghost btn-small" title="Overwrite preset with current configuration"> </button> <!> <button type="button" class="btn btn-danger btn-small"> </button></div></li>'),Db=F('<ul class="preset-list" aria-live="polite"></ul>'),Mb=F('<p class="status muted"> </p>'),Fb=F('<p class="status muted"> </p>'),Pb=F('<p class="status muted">Create, update, or apply a preset.</p>'),Ib=F('<p class="status error"> </p>'),Nb=F('<p class="status">Loading STT settingsâ¦</p>'),Lb=F("<option> </option>"),Ob=F('<div class="speech-field"><label class="field-label" for="auto-submit-delay-input">Submit delay (ms)</label> <div class="delay-row"><div class="delay-presets"><button class="btn btn-soft btn-small" type="button">Instant</button> <button class="btn btn-soft btn-small" type="button">Normal</button> <button class="btn btn-soft btn-small" type="button">Slow</button></div> <input id="auto-submit-delay-input" class="input-control delay-input" type="number" min="0" max="10000" step="50"/></div></div>'),$b=F('<div class="speech-field"><label class="field-label" for="stt-model-select">Model</label> <select id="stt-model-select" class="input-control"></select></div> <div class="speech-field-row"><div class="speech-field"><label class="field-label" for="stt-utterance-end">Utterance end (ms)</label> <input id="stt-utterance-end" class="input-control" type="number" min="500" max="5000" step="100"/> <p class="speech-hint">Silence duration to end utterance</p></div> <div class="speech-field"><label class="field-label" for="stt-endpointing">Endpointing (ms)</label> <input id="stt-endpointing" class="input-control" type="number" min="10" max="5000" step="50"/> <p class="speech-hint">Threshold for segment boundaries</p></div></div> <div class="speech-toggles"><label class="toggle"><input type="checkbox"/> <span>Smart format</span></label> <label class="toggle"><input type="checkbox"/> <span>Numbers as digits</span></label> <label class="toggle"><input type="checkbox"/> <span>Interim results</span></label></div> <div class="speech-field"><label class="inline-checkbox"><input class="input-control" type="checkbox"/> <span class="field-label">Auto-submit after speaking</span></label></div> <!>',1),Rb=F(`<div class="speech-field-row"><div class="speech-field"><label class="field-label" for="stt-eot-threshold">EOT threshold</label> <input id="stt-eot-threshold" class="input-control" type="number" min="0" max="1" step="0.05"/> <p class="speech-hint">End-of-turn confidence (0â1)</p></div> <div class="speech-field"><label class="field-label" for="stt-eot-timeout">EOT timeout (ms)</label> <input id="stt-eot-timeout" class="input-control" type="number" min="100" max="30000" step="100"/> <p class="speech-hint">Max wait for turn end</p></div></div> <p class="speech-hint">Flux uses AI-based turn detection. Speech auto-submits when Flux
              detects you've finished speaking.</p>`,1),zb=F('<div class="speech-field"><label class="field-label" for="stt-mode-select">Recognition mode</label> <select id="stt-mode-select" class="input-control"><option>Conversation (Flux)</option><option>Command (Nova)</option></select> <p class="speech-hint"><!></p></div> <!>',1),Bb=F(`<article class="system-card"><header class="system-card-header"><div><h3>System prompt</h3> <p class="system-card-caption">Applied to new chat sessions when no custom prompt is present.</p></div> <div class="system-card-actions"><button type="button" class="btn btn-ghost btn-small">Reset</button></div></header> <div class="system-card-body"><!></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Presets</h3> <p class="system-card-caption">Save and manage snapshots of the current configuration.</p></div></header> <div class="system-card-body"><div class="create-row"><input type="text" class="input-control" placeholder="Preset name" aria-label="Preset name"/> <button type="button" class="btn btn-primary"> </button></div> <!> <!> <!></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Speech recognition</h3> <p class="system-card-caption">Configure speech-to-text engine and behavior.</p></div> <div class="system-card-actions"><button type="button" class="btn btn-ghost btn-small">Reset to defaults</button></div></header> <div class="system-card-body"><!></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Account</h3> <p class="system-card-caption">Session and authentication settings.</p></div></header> <div class="system-card-body"><div class="account-actions"><a href="/cdn-cgi/access/logout" class="btn btn-danger" title="End your session and require re-authentication"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> Logout</a> <p class="speech-hint">Ends your Cloudflare Access session. You'll need to re-authenticate
            with your email.</p></div></div></article>`,1),Ub=F('<h2 id="system-settings-title">System settings</h2> <p class="model-settings-subtitle">Configure orchestration defaults, presets, and speech settings.</p>',1),jb=F('<p class="status error">Resolve the errors above before closing.</p>'),qb=F('<p class="status error"> </p>'),Hb=F('<p class="status error"> </p>'),Wb=F('<p class="status">Saving changesâ¦</p>'),Vb=F('<p class="status">Pending changes; closing this modal will save.</p>'),Gb=F('<p class="status">Changes save when you close this modal.</p>'),Zb=F('<footer slot="footer" class="model-settings-footer system-settings-footer"><!></footer>');function Kb(e,t){Pt(t,!1);const n=()=>Mt(d,"$systemPrompt",o),r=()=>Mt(fr,"$chatStore",o),s=()=>Mt(ln,"$presetsStore",o),[o,i]=lr();let u=ie(t,"open",8,!1);const l=an(),d=gb();let f=O(!1),c=!1;async function g(){await Promise.all([d.load(),ln.load(),m()])}async function m(){try{_(D,await Jc()),_(P,null)}catch(G){_(P,G instanceof Error?G.message:"Failed to load STT settings")}}async function h(){return rt(d).dirty?(await d.save(),!rt(d).saveError):!0}async function T(){if(c||n().saving||a(S)||a(R))return;c=!0;const G=await h(),ve=await Fe(),Z=await A(),Oe=rt(d);G&&ve&&Z&&!Oe.saveError&&l("close"),c=!1}async function A(){if(!a(z)||!a(D))return!0;_(R,!0);try{return _(D,await bp({mode:a(D).mode,command_model:a(D).command_model,command_utterance_end_ms:a(D).command_utterance_end_ms,command_endpointing:a(D).command_endpointing,command_interim_results:a(D).command_interim_results,command_smart_format:a(D).command_smart_format,command_numerals:a(D).command_numerals,eot_threshold:a(D).eot_threshold,eot_timeout_ms:a(D).eot_timeout_ms})),_(z,!1),_(P,null),!0}catch(G){return _(P,G instanceof Error?G.message:"Failed to save STT settings"),!1}finally{_(R,!1)}}let E=O(""),C=O(null),k=O(re()),w=O(!1),S=O(!1),y=O(null),D=O(null),z=O(!1),R=O(!1),P=O(null);function I(G){const ve=G.target;d.updateValue(ve?.value??"")}function Q(){_(E,""),_(C,null)}async function Y(){const G=a(E).trim();if(!G||!await h())return;await dn.load(r().selectedModel),await ln.create(G)&&_(E,"")}async function he(G){const ve=await ln.apply(G.name);ve?.model&&fr.setModel(ve.model),await Or.load(),l("close")}async function $(G){await h()&&(await dn.load(r().selectedModel),await ln.saveSnapshot(G.name))}async function ne(G){if(!G.is_default){if(a(C)===G.name){await ln.remove(G.name),_(C,null);return}_(C,G.name),setTimeout(()=>{a(C)===G.name&&_(C,null)},3e3)}}async function ae(G){await ln.setDefault(G.name)}function re(){const G=Ds.current??la();return{...G,stt:{...G.stt}}}function X(){Ds.refresh(),_(k,re()),_(w,!1),_(S,!1),_(y,null),_(D,null),_(z,!1),_(R,!1),_(P,null)}function oe(G,ve){_(k,{...a(k),stt:{...a(k).stt,[G]:ve}}),_(w,!0),_(y,null)}function le(G,ve){const Z=G.target;if(!Z)return;const Oe=Number(Z.value);Number.isFinite(Oe)&&ve(Oe)}function xe(G){const ve=Z1[G];_(k,{...a(k),stt:{...a(k).stt,autoSubmitDelayMs:ve.autoSubmitDelayMs}}),_(w,!0),_(y,null)}async function Fe(){if(!a(w))return!0;_(S,!0);try{const G=Ds.save(a(k));return _(k,{...G,stt:{...G.stt}}),_(w,!1),_(y,null),!0}catch(G){const ve=G instanceof Error?G.message:"Failed to save speech settings.";return _(y,ve),!1}finally{_(S,!1)}}function J(){_(k,la()),_(w,!0),_(y,null)}ye(()=>(B(u()),a(f)),()=>{u()&&!a(f)?(_(f,!0),g(),X(),Q()):!u()&&a(f)&&(_(f,!1),d.reset(),X(),Q())}),cn(),Ot();var V=Me(),fe=me(V);{var te=G=>{{let ve=jt(()=>(n(),a(S),p(()=>n().saving||a(S))));Fr(G,{get open(){return u()},labelledBy:"system-settings-title",modalClass:"system-settings-modal",bodyClass:"system-settings-body",layerClass:"system-settings-layer",closeLabel:"Close system settings",get closeDisabled(){return a(ve)},$$events:{close:()=>void T()},children:(Z,Oe)=>{var $e=Bb(),Ke=me($e),Ze=v(Ke),Pe=b(v(Ze),2),He=v(Pe),ce=b(Ze,2),Ce=v(ce);{var Ue=je=>{var vt=_b();x(je,vt)},Ve=je=>{var vt=Me(),ot=me(vt);{var Vt=at=>{var gt=bb(),$t=v(gt);U(()=>W($t,(n(),p(()=>n().error)))),x(at,gt)},sn=at=>{var gt=xb(),$t=me(gt);rr(()=>tr($t,()=>n().value,At=>B0(d,p(n).value=At,p(n)))),rr(()=>L("input",$t,I)),ma($t,(At,zt)=>Du?.(At),()=>n().value);var Be=b($t,2);{var gn=At=>{var zt=yb(),_n=v(zt);U(()=>W(_n,(n(),p(()=>n().saveError)))),x(At,zt)};N(Be,At=>{n(),p(()=>n().saveError)&&At(gn)})}U(()=>$t.disabled=(n(),p(()=>n().saving))),x(at,gt)};N(ot,at=>{n(),p(()=>n().error)?at(Vt):at(sn,!1)},!0)}x(je,vt)};N(Ce,je=>{n(),p(()=>n().loading)?je(Ue):je(Ve,!1)})}var st=b(Ke,2),bt=b(v(st),2),pe=v(bt),q=v(pe),ge=b(q,2),_e=v(ge),ke=b(pe,2);{var Ne=je=>{var vt=kb(),ot=v(vt);U(()=>W(ot,(s(),p(()=>s().error)))),x(je,vt)};N(ke,je=>{s(),p(()=>s().error)&&je(Ne)})}var Le=b(ke,2);{var Ye=je=>{var vt=wb();x(je,vt)},Je=je=>{var vt=Me(),ot=me(vt);{var Vt=at=>{var gt=Sb();x(at,gt)},sn=at=>{var gt=Db();Lt(gt,5,()=>(s(),p(()=>s().items)),$t=>$t.name,($t,Be)=>{var gn=Tb(),At=v(gn),zt=v(At),_n=v(zt),In=b(_n);{var be=tt=>{var nt=Eb();x(tt,nt)};N(In,tt=>{a(Be),p(()=>a(Be).is_default)&&tt(be)})}var Re=b(In,2);{var K=tt=>{var nt=Cb();x(tt,nt)};N(Re,tt=>{a(Be),p(()=>a(Be).has_filters)&&tt(K)})}var j=b(zt,2),se=v(j),we=v(se),Te=b(se,2),Ge=v(Te),ee=v(Ge),M=b(Ge,4),H=v(M),ue=b(At,2),Se=v(ue),Ee=v(Se),Ie=b(Se,2),Xe=v(Ie),_t=b(Ie,2);{var St=tt=>{var nt=Ab(),De=v(nt);U(()=>{nt.disabled=(s(),a(Be),p(()=>s().settingDefault===a(Be).name)),de(nt,"aria-busy",(s(),a(Be),p(()=>s().settingDefault===a(Be).name))),W(De,(s(),a(Be),p(()=>s().settingDefault===a(Be).name?"Settingâ¦":"Set as default")))}),L("click",nt,()=>ae(a(Be))),x(tt,nt)};N(_t,tt=>{a(Be),p(()=>!a(Be).is_default)&&tt(St)})}var Tt=b(_t,2),qe=v(Tt);U((tt,nt)=>{W(_n,`${a(Be),p(()=>a(Be).name)??""} `),W(we,(a(Be),p(()=>a(Be).model))),W(ee,tt),W(H,nt),Se.disabled=(s(),a(Be),p(()=>s().applying===a(Be).name)),de(Se,"aria-busy",(s(),a(Be),p(()=>s().applying===a(Be).name))),W(Ee,(s(),a(Be),p(()=>s().applying===a(Be).name?"Applyingâ¦":"Apply"))),Ie.disabled=(s(),p(()=>s().saving)),de(Ie,"aria-busy",(s(),p(()=>s().saving))),W(Xe,(s(),p(()=>s().saving?"Savingâ¦":"Save snapshot"))),Tt.disabled=(a(Be),s(),p(()=>a(Be).is_default||s().deleting===a(Be).name)),de(Tt,"aria-busy",(s(),a(Be),p(()=>s().deleting===a(Be).name))),de(Tt,"title",(a(Be),p(()=>a(Be).is_default?"Cannot delete default preset":"Delete preset"))),W(qe,(a(C),a(Be),s(),p(()=>a(C)===a(Be).name?"Confirm delete":s().deleting===a(Be).name?"Deletingâ¦":"Delete")))},[()=>(a(Be),p(()=>new Date(a(Be).created_at).toLocaleString())),()=>(a(Be),p(()=>new Date(a(Be).updated_at).toLocaleString()))]),L("click",Se,()=>he(a(Be))),L("click",Ie,()=>$(a(Be))),L("click",Tt,()=>ne(a(Be))),x($t,gn)}),x(at,gt)};N(ot,at=>{s(),p(()=>!s().items.length)?at(Vt):at(sn,!1)},!0)}x(je,vt)};N(Le,je=>{s(),p(()=>s().loading)?je(Ye):je(Je,!1)})}var et=b(Le,2);{var dt=je=>{var vt=Mb(),ot=v(vt);U(()=>W(ot,`Applied preset: ${s(),p(()=>s().lastApplied)??""}`)),x(je,vt)},Qe=je=>{var vt=Me(),ot=me(vt);{var Vt=at=>{var gt=Fb(),$t=v(gt);U(()=>W($t,`Saved: ${s(),p(()=>s().lastResult.name)??""}`)),x(at,gt)},sn=at=>{var gt=Pb();x(at,gt)};N(ot,at=>{s(),p(()=>s().lastResult)?at(Vt):at(sn,!1)},!0)}x(je,vt)};N(et,je=>{s(),p(()=>s().lastApplied)?je(dt):je(Qe,!1)})}var Ft=b(st,2),ft=v(Ft),Rt=b(v(ft),2),hn=v(Rt),tn=b(ft,2),fn=v(tn);{var wt=je=>{var vt=Ib(),ot=v(vt);U(()=>W(ot,a(P))),x(je,vt)},pt=je=>{var vt=Me(),ot=me(vt);{var Vt=at=>{var gt=Nb();x(at,gt)},sn=at=>{var gt=zb(),$t=me(gt),Be=b(v($t),2),gn=v(Be);gn.value=gn.__value="conversation";var At=b(gn);At.value=At.__value="command";var zt;Fn(Be);var _n=b(Be,2),In=v(_n);{var be=we=>{var Te=Gt(`AI-based turn detection for natural dialogue. Auto-submits when
                you finish speaking.`);x(we,Te)},Re=we=>{var Te=Gt("Silence-based detection with specialized vocabulary models.");x(we,Te)};N(In,we=>{a(D),p(()=>a(D).mode==="conversation")?we(be):we(Re,!1)})}var K=b($t,2);{var j=we=>{var Te=$b(),Ge=me(Te),ee=b(v(Ge),2);Lt(ee,5,()=>Qd,ze=>ze.id,(ze,We)=>{var it=Lb(),ut=v(it),Bt={};U(()=>{W(ut,(a(We),p(()=>a(We).name))),Bt!==(Bt=(a(We),p(()=>a(We).id)))&&(it.value=(it.__value=(a(We),p(()=>a(We).id)))??"")}),x(ze,it)});var M;Fn(ee);var H=b(Ge,2),ue=v(H),Se=b(v(ue),2),Ee=b(ue,2),Ie=b(v(Ee),2),Xe=b(H,2),_t=v(Xe),St=v(_t),Tt=b(_t,2),qe=v(Tt),tt=b(Tt,2),nt=v(tt),De=b(Xe,2),ct=v(De),qt=v(ct),Dt=b(De,2);{var Ae=ze=>{var We=Ob(),it=b(v(We),2),ut=v(it),Bt=v(ut),Ut=b(Bt,2),Ht=b(Ut,2),yt=b(ut,2);U(()=>Et(yt,(a(k),p(()=>a(k).stt.autoSubmitDelayMs)))),L("click",Bt,()=>xe("fast")),L("click",Ut,()=>xe("normal")),L("click",Ht,()=>xe("slow")),L("change",yt,en=>le(en,on=>oe("autoSubmitDelayMs",on))),x(ze,We)};N(Dt,ze=>{a(k),p(()=>a(k).stt.autoSubmit)&&ze(Ae)})}U(()=>{ee.disabled=a(R),M!==(M=(a(D),p(()=>a(D).command_model)))&&(ee.value=(ee.__value=(a(D),p(()=>a(D).command_model)))??"",kn(ee,(a(D),p(()=>a(D).command_model)))),Et(Se,(a(D),p(()=>a(D).command_utterance_end_ms))),Se.disabled=a(R),Et(Ie,(a(D),p(()=>a(D).command_endpointing))),Ie.disabled=a(R),Mn(St,(a(D),p(()=>a(D).command_smart_format))),St.disabled=a(R),Mn(qe,(a(D),p(()=>a(D).command_numerals))),qe.disabled=a(R),Mn(nt,(a(D),p(()=>a(D).command_interim_results))),nt.disabled=a(R),Mn(qt,(a(k),p(()=>a(k).stt.autoSubmit)))}),L("change",ee,ze=>{a(D)&&(_(D,{...a(D),command_model:ze.target.value}),_(z,!0))}),L("change",Se,ze=>{a(D)&&(_(D,{...a(D),command_utterance_end_ms:Number(ze.target.value)}),_(z,!0))}),L("change",Ie,ze=>{a(D)&&(_(D,{...a(D),command_endpointing:Number(ze.target.value)}),_(z,!0))}),L("change",St,ze=>{a(D)&&(_(D,{...a(D),command_smart_format:ze.target.checked}),_(z,!0))}),L("change",qe,ze=>{a(D)&&(_(D,{...a(D),command_numerals:ze.target.checked}),_(z,!0))}),L("change",nt,ze=>{a(D)&&(_(D,{...a(D),command_interim_results:ze.target.checked}),_(z,!0))}),L("change",qt,ze=>oe("autoSubmit",ze.target.checked)),x(we,Te)},se=we=>{var Te=Rb(),Ge=me(Te),ee=v(Ge),M=b(v(ee),2),H=b(ee,2),ue=b(v(H),2);U(()=>{Et(M,(a(D),p(()=>a(D).eot_threshold))),M.disabled=a(R),Et(ue,(a(D),p(()=>a(D).eot_timeout_ms))),ue.disabled=a(R)}),L("change",M,Se=>{a(D)&&(_(D,{...a(D),eot_threshold:Number(Se.target.value)}),_(z,!0))}),L("change",ue,Se=>{a(D)&&(_(D,{...a(D),eot_timeout_ms:Number(Se.target.value)}),_(z,!0))}),x(we,Te)};N(K,we=>{a(D),p(()=>a(D).mode==="command")?we(j):we(se,!1)})}U(()=>{Be.disabled=a(R),zt!==(zt=(a(D),p(()=>a(D).mode)))&&(Be.value=(Be.__value=(a(D),p(()=>a(D).mode)))??"",kn(Be,(a(D),p(()=>a(D).mode))))}),L("change",Be,we=>{a(D)&&(_(D,{...a(D),mode:we.target.value}),_(z,!0))}),x(at,gt)};N(ot,at=>{a(D)?at(sn,!1):at(Vt)},!0)}x(je,vt)};N(fn,je=>{a(P)?je(wt):je(pt,!1)})}U(je=>{He.disabled=(n(),p(()=>!n().dirty||n().saving)),ge.disabled=je,de(ge,"aria-busy",(s(),p(()=>s().creating))),W(_e,(s(),p(()=>s().creating?"Creatingâ¦":"Create from current"))),hn.disabled=a(S)||a(R)},[()=>(a(E),s(),p(()=>!a(E).trim()||s().creating))]),L("click",He,()=>d.reset()),tr(q,()=>a(E),je=>_(E,je)),L("keydown",q,je=>je.key==="Enter"?Y():null),L("click",ge,Y),L("click",hn,J),x(Z,$e)},$$slots:{default:!0,heading:(Z,Oe)=>{var $e=Ub();x(Z,$e)},footer:(Z,Oe)=>{var $e=Zb(),Ke=v($e);{var Ze=He=>{var ce=jb();x(He,ce)},Pe=He=>{var ce=Me(),Ce=me(ce);{var Ue=st=>{var bt=qb(),pe=v(bt);U(()=>W(pe,a(y))),x(st,bt)},Ve=st=>{var bt=Me(),pe=me(bt);{var q=_e=>{var ke=Hb(),Ne=v(ke);U(()=>W(Ne,a(P))),x(_e,ke)},ge=_e=>{var ke=Me(),Ne=me(ke);{var Le=Je=>{var et=Wb();x(Je,et)},Ye=Je=>{var et=Me(),dt=me(et);{var Qe=ft=>{var Rt=Vb();x(ft,Rt)},Ft=ft=>{var Rt=Gb();x(ft,Rt)};N(dt,ft=>{n(),a(w),a(z),p(()=>n().dirty||a(w)||a(z))?ft(Qe):ft(Ft,!1)},!0)}x(Je,et)};N(Ne,Je=>{n(),a(S),a(R),p(()=>n().saving||a(S)||a(R))?Je(Le):Je(Ye,!1)},!0)}x(_e,ke)};N(pe,_e=>{a(P)?_e(q):_e(ge,!1)},!0)}x(st,bt)};N(Ce,st=>{a(y)?st(Ue):st(Ve,!1)},!0)}x(He,ce)};N(Ke,He=>{n(),p(()=>n().saveError)?He(Ze):He(Pe,!1)})}x(Z,$e)}}})}};N(fe,G=>{u()&&G(te)})}x(e,V),It(),i()}async function Yb(){const e=await fetch(`${Zt}/api/clients/cli/llm`);if(!e.ok)throw new Error(`Failed to fetch CLI LLM settings: ${e.statusText}`);return e.json()}async function Jb(e){const t=await fetch(`${Zt}/api/clients/cli/llm`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update CLI LLM settings: ${t.statusText}`);return t.json()}async function Xb(){const e=await fetch(`${Zt}/api/clients/cli/reset`,{method:"POST"});if(!e.ok)throw new Error(`Failed to reset CLI settings: ${e.statusText}`);return e.json()}async function Qb(){const e=await fetch(`${Zt}/api/clients/cli/presets`);if(!e.ok)throw new Error(`Failed to fetch CLI presets: ${e.statusText}`);return e.json()}async function e3(e){const t=await fetch(`${Zt}/api/clients/cli/presets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to create CLI preset: ${t.statusText}`);return t.json()}async function t3(e){const t=await fetch(`${Zt}/api/clients/cli/presets/by-name/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Failed to delete CLI preset: ${t.statusText}`)}async function n3(e){const t=await fetch(`${Zt}/api/clients/cli/presets/by-name/${e}/apply`,{method:"POST"});if(!t.ok)throw new Error(`Failed to apply CLI preset: ${t.statusText}`);return t.json()}const Xi={model:"openai/gpt-4o-mini",system_prompt:`You control this system via shell. Use the available tools to execute user commands.

RULES:
1. ACT directly - execute commands yourself, don't instruct the user.
2. Use shell_execute for commands. Use background=true for GUI apps.
3. If unsure about the system, call host_get_profile first.
4. READ before WRITE - query state before changing it.`,temperature:.7,max_tokens:1e3};function r3(){const e=rn(Xi);let t=!1,n=!1;async function r(){if(n)return rt(e);n=!0;try{const u=await Yb(),l={model:u.model,system_prompt:u.system_prompt,temperature:u.temperature,max_tokens:u.max_tokens};return e.set(l),t=!0,l}catch(u){return console.error("Failed to load CLI settings:",u),rt(e)}finally{n=!1}}async function s(u){const l=rt(e);e.set({...l,...u,model:u.model??l.model,system_prompt:u.system_prompt??l.system_prompt,temperature:u.temperature??l.temperature,max_tokens:u.max_tokens??l.max_tokens});try{const d=await Jb(u);e.update(f=>({...f,model:d.model,system_prompt:d.system_prompt,temperature:d.temperature,max_tokens:d.max_tokens}))}catch(d){throw console.error("Failed to update CLI LLM settings:",d),e.set(l),d}}async function o(){try{try{await n3("default"),await r();return}catch{console.log("No user default found, performing hard reset")}await Xb(),await r(),await s(Xi)}catch(u){throw console.error("Failed to reset CLI settings:",u),u}}async function i(){const u=rt(e);try{(await Qb()).presets.some(d=>d.name==="default")&&await t3("default"),await e3({name:"default",llm:{model:u.model,system_prompt:u.system_prompt,temperature:u.temperature,max_tokens:u.max_tokens}})}catch(l){throw console.error("Failed to save as default:",l),l}}return{subscribe:e.subscribe,load:r,updateLlm:s,reset:o,saveAsDefault:i}}const bs=r3();function ef({open:e,wasOpen:t,onOpened:n,onClosed:r}){return e&&!t?(n(),!0):!e&&t?(r(),!1):t}async function tf({closing:e,saving:t,setClosing:n,flushSave:r,onClosed:s}){if(!(e||t)){n(!0);try{await r()&&s()}finally{n(!1)}}}var a3=F('<p class="status">Loading settingsâ¦</p>'),s3=F("<option> </option>"),o3=F('<div class="settings-stack" aria-live="polite"><div class="setting reasoning"><div class="setting-header"><span class="setting-label">Language Model</span> <span class="setting-hint">Configure the AI model and behavior for the CLI.</span></div> <div class="reasoning-controls"><div class="setting-select svelte-17wvx4j" style="grid-column: 1 / -1;"><label class="setting-label" for="cli-llm-model" title="Select the language model for CLI responses.">Model</label> <select id="cli-llm-model" class="select-input svelte-17wvx4j"></select></div> <div class="system-prompt-row svelte-17wvx4j"><label class="setting-label" for="cli-system-prompt" title="Instructions that define how the CLI assistant behaves.">System Prompt</label> <textarea id="cli-system-prompt" class="keyterms-input system-prompt svelte-17wvx4j" rows="6" placeholder="You are a helpful CLI assistant..."></textarea></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Controls randomness in responses.">Temperature</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0" max="2" step="0.1"/> <div class="range-extents"><span>0 (focused)</span> <span>2 (creative)</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Maximum length of responses in tokens.">Max Tokens</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="50" max="4000" step="50"/> <div class="range-extents"><span>50</span> <span>4000</span></div></div></div></div></div></div>'),i3=F('<h2 id="cli-settings-title">CLI Settings</h2> <p class="model-settings-subtitle">Configure the command-line assistant.</p>',1),u3=F('<div slot="actions" style="display: flex; gap: 0.5rem;"><button type="button" class="btn btn-ghost btn-small">Reset to defaults</button> <button type="button" class="btn btn-primary btn-small"> </button></div>'),l3=F("<span> </span>"),c3=F('<span class="status">Saving changesâ¦</span>'),d3=F('<span class="status">Pending changes; closing this modal will save.</span>'),f3=F('<span class="status">Changes save on close. "Set as default" updates the reset target.</span>'),p3=F('<footer slot="footer" class="model-settings-footer"><!></footer>');function v3(e,t){Pt(t,!1);const n=()=>Mt(o,"$filtered",r),[r,s]=lr(),{filtered:o}=mr;let i=ie(t,"open",8,!1);const u=an();let l=O({...Xi}),d=O(!1),f=O(!1),c=O(!0),g=O(null),m=O(!1),h=!1;async function T(){_(c,!0);try{const[R]=await Promise.all([bs.load(),mr.loadModels()]);_(l,{...R})}catch{_(g,"Failed to load settings")}finally{_(c,!1)}}function A(){tf({closing:h,saving:a(f),setClosing:R=>{h=R},flushSave:C,onClosed:()=>{u("close")}})}function E(){_(d,!0),_(g,null)}async function C(){if(!a(d))return!0;_(f,!0),_(g,null);try{return await bs.updateLlm({model:a(l).model,system_prompt:a(l).system_prompt,temperature:a(l).temperature,max_tokens:a(l).max_tokens}),_(d,!1),!0}catch(R){const P=R instanceof Error?R.message:"Failed to save settings.";return _(g,P),!1}finally{_(f,!1)}}async function k(){_(f,!0);try{await bs.reset();const R=await bs.load();_(l,{...R}),_(d,!1),_(g,null)}catch{_(g,"Failed to reset settings")}finally{_(f,!1)}}async function w(){_(f,!0);try{a(d)&&await C(),await bs.saveAsDefault(),_(g,"Settings saved as new default")}catch{_(g,"Failed to save as default")}finally{_(f,!1)}}function S(R,P,I){return`${(R-P)/(I-P)*100}%`}ye(()=>(a(m),B(i()),a(d),a(f)),()=>{_(m,ef({open:i(),wasOpen:a(m),onOpened:()=>{_(d,!1),_(f,!1),_(g,null),T()},onClosed:()=>{a(d)&&!a(f)&&C()}}))}),cn(),Ot();var y=Me(),D=me(y);{var z=R=>{Fr(R,{get open(){return i()},labelledBy:"cli-settings-title",closeLabel:"Close CLI settings",$$events:{close:()=>void A()},children:(P,I)=>{var Q=Me(),Y=me(Q);{var he=ne=>{var ae=a3();x(ne,ae)},$=ne=>{var ae=o3(),re=v(ae),X=b(v(re),2),oe=v(X),le=b(v(oe),2);Lt(le,5,n,ce=>ce.id,(ce,Ce)=>{var Ue=s3(),Ve=v(Ue),st={};U(()=>{W(Ve,(a(Ce),p(()=>a(Ce).name??a(Ce).id))),st!==(st=(a(Ce),p(()=>a(Ce).id)))&&(Ue.value=(Ue.__value=(a(Ce),p(()=>a(Ce).id)))??"")}),x(ce,Ue)});var xe;Fn(le);var Fe=b(oe,2),J=b(v(Fe),2);ma(J,(ce,Ce)=>Du?.(ce),()=>a(l).system_prompt),rr(()=>L("input",J,ce=>{_(l,{...a(l),system_prompt:ce.target.value||null}),E()}));var V=b(Fe,2),fe=v(V),te=v(fe),G=b(v(te),2),ve=v(G),Z=b(te,2),Oe=b(V,2),$e=v(Oe),Ke=v($e),Ze=b(v(Ke),2),Pe=v(Ze),He=b(Ke,2);U((ce,Ce,Ue)=>{le.disabled=a(f),xe!==(xe=(a(l),p(()=>a(l).model)))&&(le.value=(le.__value=(a(l),p(()=>a(l).model)))??"",kn(le,(a(l),p(()=>a(l).model)))),J.disabled=a(f),Et(J,(a(l),p(()=>a(l).system_prompt??""))),W(ve,ce),Et(Z,(a(l),p(()=>a(l).temperature??.7))),Z.disabled=a(f),yn(Z,`--slider-fill: ${Ce??""}`),W(Pe,(a(l),p(()=>a(l).max_tokens??1e3))),Et(He,(a(l),p(()=>a(l).max_tokens??1e3))),He.disabled=a(f),yn(He,`--slider-fill: ${Ue??""}`)},[()=>(a(l),p(()=>a(l).temperature?.toFixed(1)??"0.7")),()=>(a(l),p(()=>S(a(l).temperature??.7,0,2))),()=>(a(l),p(()=>S(a(l).max_tokens??1e3,50,4e3)))]),L("change",le,ce=>{_(l,{...a(l),model:ce.target.value}),E()}),L("input",Z,ce=>{_(l,{...a(l),temperature:parseFloat(ce.target.value)}),E()}),L("input",He,ce=>{_(l,{...a(l),max_tokens:parseInt(ce.target.value,10)}),E()}),x(ne,ae)};N(Y,ne=>{a(c)?ne(he):ne($,!1)})}x(P,Q)},$$slots:{default:!0,heading:(P,I)=>{var Q=i3();x(P,Q)},actions:(P,I)=>{var Q=u3(),Y=v(Q),he=b(Y,2),$=v(he);U(()=>{Y.disabled=a(f)||a(c),he.disabled=a(f)||a(c),W($,a(f)?"Savingâ¦":"Set as default")}),L("click",Y,k),L("click",he,()=>void w()),x(P,Q)},footer:(P,I)=>{var Q=p3(),Y=v(Q);{var he=ne=>{var ae=l3();let re;var X=v(ae);U(oe=>{re=kt(ae,1,"status",null,re,oe),W(X,a(g))},[()=>({error:a(g).includes("Failed")})]),x(ne,ae)},$=ne=>{var ae=Me(),re=me(ae);{var X=le=>{var xe=c3();x(le,xe)},oe=le=>{var xe=Me(),Fe=me(xe);{var J=fe=>{var te=d3();x(fe,te)},V=fe=>{var te=f3();x(fe,te)};N(Fe,fe=>{a(d)?fe(J):fe(V,!1)},!0)}x(le,xe)};N(re,le=>{a(f)?le(X):le(oe,!1)},!0)}x(ne,ae)};N(Y,ne=>{a(g)?ne(he):ne($,!1)})}x(P,Q)}}})};N(D,R=>{i()&&R(z)})}x(e,y),It(),s()}async function m3(){const e=await fetch(`${Zt}/api/clients/kiosk/stt`);if(!e.ok)throw new Error(`Failed to fetch kiosk STT settings: ${e.statusText}`);return e.json()}async function h3(e){const t=await fetch(`${Zt}/api/clients/kiosk/stt`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk STT settings: ${t.statusText}`);return t.json()}async function g3(){const e=await fetch(`${Zt}/api/clients/kiosk/stt/reset`,{method:"POST"});if(!e.ok)throw new Error(`Failed to reset kiosk STT settings: ${e.statusText}`);return e.json()}async function _3(){const e=await fetch(`${Zt}/api/clients/kiosk/tts`);if(!e.ok)throw new Error(`Failed to fetch kiosk TTS settings: ${e.statusText}`);return e.json()}async function b3(e){const t=await fetch(`${Zt}/api/clients/kiosk/tts`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk TTS settings: ${t.statusText}`);return t.json()}async function y3(){const e=await fetch(`${Zt}/api/clients/kiosk/tts/reset`,{method:"POST"});if(!e.ok)throw new Error(`Failed to reset kiosk TTS settings: ${e.statusText}`);return e.json()}async function x3(e="openai"){const t=await fetch(`${Zt}/api/clients/kiosk/tts/voices?provider=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Failed to fetch TTS voices: ${t.statusText}`);return t.json()}async function k3(){const e=await fetch(`${Zt}/api/clients/kiosk/ui`);if(!e.ok)throw new Error(`Failed to fetch kiosk UI settings: ${e.statusText}`);return e.json()}async function w3(e){const t=await fetch(`${Zt}/api/clients/kiosk/ui`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk UI settings: ${t.statusText}`);return t.json()}async function S3(){const e=await fetch(`${Zt}/api/clients/kiosk/llm`);if(!e.ok)throw new Error(`Failed to fetch kiosk LLM settings: ${e.statusText}`);return e.json()}async function E3(e){const t=await fetch(`${Zt}/api/clients/kiosk/llm`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Failed to update kiosk LLM settings: ${t.statusText}`);return t.json()}async function C3(){const e=await fetch(`${Zt}/api/clients/kiosk/llm/reset`,{method:"POST"});if(!e.ok)throw new Error(`Failed to reset kiosk LLM settings: ${e.statusText}`);return e.json()}async function A3(){const e=await fetch(`${Zt}/api/clients/kiosk/presets`);if(!e.ok)throw new Error(`Failed to fetch kiosk presets: ${e.statusText}`);return e.json()}async function T3(e){const t=await fetch(`${Zt}/api/clients/kiosk/presets/${e}/activate`,{method:"POST"});if(!t.ok)throw new Error(`Failed to activate kiosk preset: ${t.statusText}`);return t.json()}async function D3(e,t){const n=await fetch(`${Zt}/api/clients/kiosk/presets/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Failed to update kiosk preset: ${n.statusText}`);return n.json()}const M3={stt_mode:"command",eot_threshold:.7,eot_timeout_ms:1e3,keyterms:[],command_model:"nova-3",command_utterance_end_ms:1e3,command_endpointing:300,command_interim_results:!0,command_smart_format:!0,command_numerals:!0,enabled:!0,provider:"openai",voice:"alloy",model:"tts-1",speed:1,response_format:"pcm",sample_rate:24e3,stream_chunk_bytes:4096,use_segmentation:!0,delimiters:[`
`,". ","? ","! ","* ",", ",": "],segmentation_logging_enabled:!1,first_phrase_min_chars:10,buffering_enabled:!1,startup_delay_enabled:!1,low_latency_audio:!0,initial_buffer_sec:0,max_ahead_sec:1.5,min_chunk_sec:.1,idle_return_delay_ms:1e4,slideshow_max_photos:30,llm_model:"openai/gpt-4o-mini",system_prompt:"You are a helpful voice assistant who replies succinctly.",temperature:.7,max_tokens:500,conversation_mode:!1,conversation_timeout_seconds:10};function F3(e){return JSON.parse(JSON.stringify(e))}function nf(){return F3(M3)}function P3(){const e=rn(nf());let t=!1,n=!1;async function r(){if(n)return rt(e);n=!0;try{const[i,u,l,d]=await Promise.all([m3(),_3(),k3(),S3()]),f={stt_mode:i.mode,eot_threshold:i.eot_threshold,eot_timeout_ms:i.eot_timeout_ms,keyterms:i.keyterms,command_model:i.command_model,command_utterance_end_ms:i.command_utterance_end_ms,command_endpointing:i.command_endpointing,command_interim_results:i.command_interim_results,command_smart_format:i.command_smart_format,command_numerals:i.command_numerals,enabled:u.enabled,provider:u.provider,voice:u.voice,model:u.model,speed:u.speed,response_format:u.response_format,sample_rate:u.sample_rate,stream_chunk_bytes:u.stream_chunk_bytes,use_segmentation:u.use_segmentation,delimiters:u.delimiters,segmentation_logging_enabled:u.segmentation_logging_enabled,first_phrase_min_chars:u.first_phrase_min_chars,buffering_enabled:u.buffering_enabled,startup_delay_enabled:u.startup_delay_enabled,low_latency_audio:u.low_latency_audio,initial_buffer_sec:u.initial_buffer_sec,max_ahead_sec:u.max_ahead_sec,min_chunk_sec:u.min_chunk_sec,idle_return_delay_ms:l.idle_return_delay_ms,slideshow_max_photos:l.slideshow_max_photos,llm_model:d.model,system_prompt:d.system_prompt,temperature:d.temperature,max_tokens:d.max_tokens,conversation_mode:d.conversation_mode,conversation_timeout_seconds:d.conversation_timeout_seconds};return e.set(f),t=!0,f}catch(i){return console.error("Failed to load kiosk settings:",i),rt(e)}finally{n=!1}}async function s(i){try{const u={},l={},d={},f={};i.stt_mode!==void 0&&(u.mode=i.stt_mode),i.eot_threshold!==void 0&&(u.eot_threshold=i.eot_threshold),i.eot_timeout_ms!==void 0&&(u.eot_timeout_ms=i.eot_timeout_ms),i.keyterms!==void 0&&(u.keyterms=i.keyterms),i.command_model!==void 0&&(u.command_model=i.command_model),i.command_utterance_end_ms!==void 0&&(u.command_utterance_end_ms=i.command_utterance_end_ms),i.command_endpointing!==void 0&&(u.command_endpointing=i.command_endpointing),i.command_interim_results!==void 0&&(u.command_interim_results=i.command_interim_results),i.command_smart_format!==void 0&&(u.command_smart_format=i.command_smart_format),i.command_numerals!==void 0&&(u.command_numerals=i.command_numerals),i.enabled!==void 0&&(l.enabled=i.enabled),i.provider!==void 0&&(l.provider=i.provider),i.voice!==void 0&&(l.voice=i.voice),i.model!==void 0&&(l.model=i.model),i.speed!==void 0&&(l.speed=i.speed),i.response_format!==void 0&&(l.response_format=i.response_format),i.sample_rate!==void 0&&(l.sample_rate=i.sample_rate),i.stream_chunk_bytes!==void 0&&(l.stream_chunk_bytes=i.stream_chunk_bytes),i.use_segmentation!==void 0&&(l.use_segmentation=i.use_segmentation),i.delimiters!==void 0&&(l.delimiters=i.delimiters),i.first_phrase_min_chars!==void 0&&(l.first_phrase_min_chars=i.first_phrase_min_chars),i.segmentation_logging_enabled!==void 0&&(l.segmentation_logging_enabled=i.segmentation_logging_enabled),i.buffering_enabled!==void 0&&(l.buffering_enabled=i.buffering_enabled),i.startup_delay_enabled!==void 0&&(l.startup_delay_enabled=i.startup_delay_enabled),i.low_latency_audio!==void 0&&(l.low_latency_audio=i.low_latency_audio),i.initial_buffer_sec!==void 0&&(l.initial_buffer_sec=i.initial_buffer_sec),i.max_ahead_sec!==void 0&&(l.max_ahead_sec=i.max_ahead_sec),i.min_chunk_sec!==void 0&&(l.min_chunk_sec=i.min_chunk_sec),i.idle_return_delay_ms!==void 0&&(d.idle_return_delay_ms=i.idle_return_delay_ms),i.slideshow_max_photos!==void 0&&(d.slideshow_max_photos=i.slideshow_max_photos),i.llm_model!==void 0&&(f.model=i.llm_model),i.system_prompt!==void 0&&(f.system_prompt=i.system_prompt),i.temperature!==void 0&&(f.temperature=i.temperature),i.max_tokens!==void 0&&(f.max_tokens=i.max_tokens),i.conversation_mode!==void 0&&(f.conversation_mode=i.conversation_mode),i.conversation_timeout_seconds!==void 0&&(f.conversation_timeout_seconds=i.conversation_timeout_seconds);const c=[];return Object.keys(u).length>0&&c.push(h3(u)),Object.keys(l).length>0&&c.push(b3(l)),Object.keys(d).length>0&&c.push(w3(d)),Object.keys(f).length>0&&c.push(E3(f)),await Promise.all(c),await r()}catch(u){throw console.error("Failed to save kiosk settings:",u),u}}async function o(){try{const[i,u,l]=await Promise.all([g3(),y3(),C3()]),d=rt(e),f={stt_mode:i.mode,eot_threshold:i.eot_threshold,eot_timeout_ms:i.eot_timeout_ms,keyterms:i.keyterms,command_model:i.command_model,command_utterance_end_ms:i.command_utterance_end_ms,command_endpointing:i.command_endpointing,command_interim_results:i.command_interim_results,command_smart_format:i.command_smart_format,command_numerals:i.command_numerals,enabled:u.enabled,provider:u.provider,voice:u.voice,model:u.model,speed:u.speed,response_format:u.response_format,sample_rate:u.sample_rate,stream_chunk_bytes:u.stream_chunk_bytes,use_segmentation:u.use_segmentation,delimiters:u.delimiters,segmentation_logging_enabled:u.segmentation_logging_enabled,first_phrase_min_chars:u.first_phrase_min_chars,buffering_enabled:u.buffering_enabled,startup_delay_enabled:u.startup_delay_enabled,low_latency_audio:u.low_latency_audio,initial_buffer_sec:u.initial_buffer_sec,max_ahead_sec:u.max_ahead_sec,min_chunk_sec:u.min_chunk_sec,idle_return_delay_ms:d.idle_return_delay_ms,slideshow_max_photos:d.slideshow_max_photos,llm_model:l.model,system_prompt:l.system_prompt,temperature:l.temperature,max_tokens:l.max_tokens,conversation_mode:l.conversation_mode,conversation_timeout_seconds:l.conversation_timeout_seconds};return e.set(f),f}catch(i){throw console.error("Failed to reset kiosk settings:",i),i}}return{subscribe:e.subscribe,load:r,save:s,reset:o,get isLoaded(){return t},get current(){return rt(e)}}}const io=P3();var I3=F('<p class="status">Loading settingsâ¦</p>'),N3=F("<option> </option>"),L3=F("<option> </option>"),O3=F('<div class="presets-container svelte-10jke8k"><label class="setting-label" for="preset-select">Preset</label> <div class="preset-select-row svelte-10jke8k"><select id="preset-select" class="select-input svelte-10jke8k"></select> <button type="button" class="btn btn-ghost btn-small" title="Save current settings to the selected preset">ð¾ Save</button></div></div>'),$3=F("<option> </option>"),R3=F(`<div class="reasoning-field" style="grid-column: 1 / -1;"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="stt-command-model" title="Select the Deepgram Nova model for command-mode speech recognition.">Model</label> <select id="stt-command-model" class="select-input svelte-10jke8k"></select></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Silence duration (ms) after speech stops before the utterance is considered complete. Higher = allows longer pauses.">Utterance End</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="500" max="5000" step="100"/> <div class="range-extents"><span>500ms</span> <span>5000ms</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Endpointing threshold (ms) for detecting segment boundaries. Lower = faster response but may split sentences.">Endpointing</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="10" max="5000" step="50"/> <div class="range-extents"><span>10ms (fast)</span> <span>5000ms (patient)</span></div></div></div> <label class="setting-boolean" title="Apply smart formatting like punctuation and capitalization."><input type="checkbox"/> <span>Smart format</span></label> <label class="setting-boolean" title="Convert spoken numbers to digits (e.g. 'five' â '5')."><input type="checkbox"/> <span>Numbers as digits</span></label> <label class="setting-boolean" title="Show partial transcription results as you speak."><input type="checkbox"/> <span>Interim results</span></label>`,1),z3=F(`<div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Confidence level (0.5-0.9) required before the system considers you've finished speaking. Lower = faster response but may cut you off. Higher = waits longer to be sure you're done.">EOT Threshold</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0.5" max="0.9" step="0.05"/> <div class="range-extents"><span>0.5 (fast)</span> <span>0.9 (reliable)</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Maximum time (ms) to wait after speech before forcing end-of-turn, regardless of confidence. Shorter = faster response. Longer = allows for natural pauses.">EOT Timeout</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="500" max="10000" step="250"/> <div class="range-extents"><span>500ms</span> <span>10s</span></div></div></div> <div class="reasoning-field" style="grid-column: 1 / -1;"><div class="setting-header"><span class="setting-label" title="Words or phrases the speech recognition should pay extra attention to. Useful for device names, product terms, or commands specific to your home automation setup.">Keyterms</span> <span class="setting-hint">Words to boost recognition (one per line, up to 100).</span></div> <textarea class="keyterms-input svelte-10jke8k" rows="3" placeholder="lights thermostat turn on"></textarea></div>`,1),B3=F('<div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="How long (seconds) to wait for speech before ending the conversation session and returning to the clock.">Conversation Timeout</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="1" max="60" step="1"/> <div class="range-extents"><span>1s</span> <span>60s</span></div></div></div>'),U3=F("<option> </option>"),j3=F('<div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="tts-voice" title="Select the OpenAI voice for text-to-speech synthesis.">Voice</label> <select id="tts-voice" class="select-input svelte-10jke8k"></select></div></div> <div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="tts-model" title="Select the OpenAI TTS model.">Model</label> <select id="tts-model" class="select-input svelte-10jke8k"><option>tts-1 (faster)</option><option>tts-1-hd (higher quality)</option></select></div></div> <div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="tts-response-format" title="Audio format returned by the TTS service.">Response format</label> <select id="tts-response-format" class="select-input svelte-10jke8k"><option>pcm</option><option>mp3</option><option>opus</option><option>aac</option><option>flac</option><option>wav</option></select></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Speech speed multiplier. 1.0 is normal speed.">Speed</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0.5" max="2.0" step="0.1"/> <div class="range-extents"><span>0.5x (slow)</span> <span>2x (fast)</span></div></div></div> <div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="tts-sample-rate" title="Sample rate in Hz for TTS audio.">Sample rate (Hz)</label> <input id="tts-sample-rate" class="select-input svelte-10jke8k" type="number" min="8000" max="48000" step="1000"/></div></div> <div class="reasoning-field"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="tts-stream-chunk-bytes" title="Chunk size (bytes) when streaming TTS audio from OpenAI. At 24kHz 16-bit PCM: 2048 bytes = ~43ms, 4096 bytes = ~85ms (recommended), 8192 bytes = ~170ms, 32768 bytes = ~683ms. Smaller = lower latency but more network overhead.">Stream chunk bytes</label> <input id="tts-stream-chunk-bytes" class="select-input svelte-10jke8k" type="number" min="512" max="65536" step="256"/></div></div> <label class="setting-boolean" title="Split text at delimiters to start audio sooner." style="grid-column: 1 / -1;"><input type="checkbox"/> <span>Enable text segmentation</span></label> <div style="grid-column: 1 / -1;"><div class="setting-header"><span class="setting-label" title="Minimum characters to accumulate before the first segmented phrase is emitted.">Minimum first phrase length</span> <span class="setting-hint">Set a floor so the first spoken chunk feels complete.</span></div> <input class="select-input svelte-10jke8k" type="number" min="0" max="500" step="1"/></div> <label title="Log when segmentation is waiting for a delimiter after the minimum is reached." style="grid-column: 1 / -1;"><input type="checkbox"/> <span>Log segmentation boundary decisions</span></label> <div style="grid-column: 1 / -1;"><div class="setting-header"><span class="setting-label" title="One delimiter per line. Use \\\\n for newline.">Delimiters</span> <span class="setting-hint">Whitespace matters; each line becomes a delimiter.</span></div> <textarea class="keyterms-input svelte-10jke8k" rows="4" placeholder="\\\\n .  ?  ! "></textarea></div>',1),q3=F('<div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Minimum audio (seconds) to buffer before playback starts.">Initial Buffer</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0.05" max="2.0" step="0.05"/> <div class="range-extents"><span>0.05s (fast start)</span> <span>2.0s (smooth)</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Maximum audio (seconds) to schedule ahead of current time.">Max Ahead</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0.3" max="5.0" step="0.1"/> <div class="range-extents"><span>0.3s (tight)</span> <span>5.0s (buffered)</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Minimum duration (seconds) for each audio chunk.">Min Chunk Duration</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0.02" max="0.5" step="0.01"/> <div class="range-extents"><span>0.02s (responsive)</span> <span>0.5s (chunky)</span></div></div></div>',1),H3=F(`<div class="settings-stack" aria-live="polite"><div class="setting reasoning"><div class="setting-header"><span class="setting-label">Language Model</span> <span class="setting-hint">Configure the AI model and behavior.</span></div> <div class="reasoning-controls"><div class="model-presets-row svelte-10jke8k"><div class="setting-select model-select-compact svelte-10jke8k"><label class="setting-label" for="llm-model" title="Select the language model for generating responses.">Model</label> <select id="llm-model" class="select-input svelte-10jke8k"></select></div> <!></div> <div class="system-prompt-row svelte-10jke8k"><label class="setting-label" for="system-prompt" title="Instructions that define how the assistant behaves.">System Prompt</label> <textarea id="system-prompt" class="keyterms-input system-prompt svelte-10jke8k" rows="4" placeholder="You are a helpful voice assistant..."></textarea></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Controls randomness in responses. Lower = more focused, higher = more creative. Note: Some models don't support this parameter.">Temperature</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="0" max="2" step="0.1"/> <div class="range-extents"><span>0 (focused)</span> <span>2 (creative)</span></div></div></div> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Maximum length of responses in tokens. Keep low for voice interactions.">Max Tokens</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="50" max="2000" step="50"/> <div class="range-extents"><span>50 (short)</span> <span>2000 (long)</span></div></div></div></div></div> <div class="setting reasoning"><div class="setting-header"><span class="setting-label">Speech Recognition</span> <span class="setting-hint">Deepgram STT engine configuration.</span></div> <div class="reasoning-controls"><div class="reasoning-field" style="grid-column: 1 / -1;"><div class="setting-select svelte-10jke8k"><label class="setting-label" for="stt-mode" title="Conversation mode uses Deepgram Flux with AI turn detection. Command mode uses Nova with silence-based detection.">Recognition Mode</label> <select id="stt-mode" class="select-input svelte-10jke8k"><option>Conversation (Flux)</option><option>Command (Nova)</option></select> <span class="setting-hint"><!></span></div></div> <!></div></div> <div class="setting reasoning"><div class="setting-header"><span class="setting-label">Display</span> <span class="setting-hint">Kiosk screen behavior settings.</span></div> <div class="reasoning-controls"><div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="How long (seconds) to wait on the transcription screen after going IDLE before returning to the clock screen.">Return to Clock</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="1000" max="60000" step="1000"/> <div class="range-extents"><span>1s</span> <span>60s</span></div></div></div> <!> <div class="reasoning-field"><div class="setting-range"><div class="setting-range-header"><span class="setting-label" title="Maximum number of photos to sync for the slideshow. Lower values reduce memory usage on the Echo device. Changes apply on next sync.">Slideshow Photos</span> <span class="range-value"> </span></div> <input type="range" class="range-input" min="5" max="100" step="5"/> <div class="range-extents"><span>5 (low memory)</span> <span>100 (more variety)</span></div></div></div></div></div> <div class="setting reasoning"><div class="setting-header"><span class="setting-label">Text-to-Speech</span> <span class="setting-hint">Voice synthesis settings for assistant responses.</span></div> <div class="reasoning-controls"><label class="setting-boolean" title="Enable or disable audio playback of assistant responses."><input type="checkbox"/> <span>Enable TTS</span></label> <!></div></div> <div class="setting reasoning"><div class="setting-header"><span class="setting-label" title="Low latency mode optimizes for fastest time-to-first-audio. Enable all toggles for maximum speed on fast devices. Disable for smoother playback on slow devices/networks.">Low Latency Mode</span> <span class="setting-hint">Enable all toggles for fastest response. Disable for smoother
              playback.</span></div> <div class="reasoning-controls"><div class="reasoning-field"><div class="setting-toggle"><label class="toggle-label"><input type="checkbox"/> <span class="toggle-slider"></span></label> <span class="setting-label" title="Skip audio buffering - plays immediately as chunks arrive. Best for fast devices/networks.">Disable Buffering</span> <span class="toggle-value"> </span></div></div> <div class="reasoning-field"><div class="setting-toggle"><label class="toggle-label"><input type="checkbox"/> <span class="toggle-slider"></span></label> <span class="setting-label" title="Skip 60ms startup delay before first audio. Faster but may cause glitches on slow devices.">Skip Startup Delay</span> <span class="toggle-value"> </span></div></div> <div class="reasoning-field"><div class="setting-toggle"><label class="toggle-label"><input type="checkbox"/> <span class="toggle-slider"></span></label> <span class="setting-label" title="Use low-latency audio mode (interactive). Faster response but may cause stuttering on slow devices.">Low Latency Audio</span> <span class="toggle-value"> </span></div></div> <!></div></div></div>`),W3=F('<h2 id="kiosk-settings-title">Kiosk settings</h2> <p class="model-settings-subtitle">Configure the voice assistant kiosk.</p>',1),V3=F('<button slot="actions" type="button" class="btn btn-ghost btn-small">Reset to defaults</button>'),G3=F('<span class="status error"> </span>'),Z3=F('<span class="status">Saving changesâ¦</span>'),K3=F('<span class="status">Pending changes; closing this modal will save.</span>'),Y3=F('<span class="status">Changes save when you close this modal.</span>'),J3=F('<footer slot="footer" class="model-settings-footer"><!></footer>');function X3(e,t){Pt(t,!1);const n=()=>Mt(o,"$filtered",r),[r,s]=lr(),{filtered:o}=mr;let i=O([]),u=O(null),l=O(!1),d=ie(t,"open",8,!1);const f=an();let c=O(nf()),g=O(!1),m=O(!1),h=O(!0),T=O(null),A=O(!1),E=!1;async function C(){_(h,!0);try{const[Y,he]=await Promise.all([io.load(),A3(),mr.loadModels()]);_(c,{...Y}),_(i,await x3("openai")),_(u,he)}catch{_(T,"Failed to load settings")}finally{_(h,!1)}}async function k(Y){if(!a(l)){_(l,!0);try{_(u,await T3(Y));const he=await io.load();_(c,{...he}),_(g,!1)}catch{_(T,"Failed to activate preset")}finally{_(l,!1)}}}async function w(){if(!(!a(u)||a(l))){_(l,!0);try{const Y=a(u).active_index,he=a(u).presets[Y],$={name:he.name,model:a(c).llm_model,system_prompt:a(c).system_prompt??"",temperature:a(c).temperature,max_tokens:a(c).max_tokens,eot_threshold:a(c).eot_threshold,eot_timeout_ms:a(c).eot_timeout_ms,keyterms:a(c).keyterms,tts_enabled:a(c).enabled,tts_voice:a(c).voice,tts_model:a(c).model,tts_sample_rate:a(c).sample_rate};_(u,await D3(Y,$)),_(T,`Saved to "${he.name}"`),setTimeout(()=>{a(T)?.startsWith("Saved")&&_(T,null)},2e3)}catch{_(T,"Failed to save preset")}finally{_(l,!1)}}}function S(){tf({closing:E,saving:a(m),setClosing:Y=>{E=Y},flushSave:D,onClosed:()=>{f("close")}})}function y(){_(g,!0),_(T,null)}async function D(){if(!a(g))return!0;_(m,!0),_(T,null);try{cu(c,a(c).conversation_mode=a(c).stt_mode==="conversation");const Y=await io.save(a(c));return _(c,{...Y}),_(g,!1),!0}catch(Y){const he=Y instanceof Error?Y.message:"Failed to save settings.";return _(T,he),!1}finally{_(m,!1)}}async function z(){_(m,!0);try{const Y=await io.reset();_(c,{...Y}),_(g,!1),_(T,null)}catch{_(T,"Failed to reset settings")}finally{_(m,!1)}}function R(Y,he,$){return`${(Y-he)/($-he)*100}%`}ye(()=>(a(A),B(d()),a(g),a(m)),()=>{_(A,ef({open:d(),wasOpen:a(A),onOpened:()=>{_(g,!1),_(m,!1),_(T,null),C()},onClosed:()=>{a(g)&&!a(m)&&D()}}))}),cn(),Ot();var P=Me(),I=me(P);{var Q=Y=>{Fr(Y,{get open(){return d()},labelledBy:"kiosk-settings-title",closeLabel:"Close kiosk settings",$$events:{close:()=>void S()},children:(he,$)=>{var ne=Me(),ae=me(ne);{var re=oe=>{var le=I3();x(oe,le)},X=oe=>{var le=H3(),xe=v(le),Fe=b(v(xe),2),J=v(Fe),V=v(J),fe=b(v(V),2);Lt(fe,5,n,Ae=>Ae.id,(Ae,ze)=>{var We=N3(),it=v(We),ut={};U(()=>{W(it,(a(ze),p(()=>a(ze).name??a(ze).id))),ut!==(ut=(a(ze),p(()=>a(ze).id)))&&(We.value=(We.__value=(a(ze),p(()=>a(ze).id)))??"")}),x(Ae,We)});var te;Fn(fe);var G=b(V,2);{var ve=Ae=>{var ze=O3(),We=b(v(ze),2),it=v(We);Lt(it,5,()=>(a(u),p(()=>a(u).presets)),Vn,(Ut,Ht,yt)=>{var en=L3(),on=v(en);en.value=en.__value=yt,U(()=>W(on,(a(Ht),p(()=>a(Ht).name)))),x(Ut,en)});var ut;Fn(it);var Bt=b(it,2);U(()=>{it.disabled=a(m)||a(l),ut!==(ut=(a(u),p(()=>a(u).active_index)))&&(it.value=(it.__value=(a(u),p(()=>a(u).active_index)))??"",kn(it,(a(u),p(()=>a(u).active_index)))),Bt.disabled=a(m)||a(l)}),L("change",it,Ut=>k(parseInt(Ut.target.value,10))),L("click",Bt,w),x(Ae,ze)};N(G,Ae=>{a(u)&&Ae(ve)})}var Z=b(J,2),Oe=b(v(Z),2);ma(Oe,(Ae,ze)=>Du?.(Ae),()=>a(c).system_prompt),rr(()=>L("input",Oe,Ae=>{_(c,{...a(c),system_prompt:Ae.target.value||null}),y()}));var $e=b(Z,2),Ke=v($e),Ze=v(Ke),Pe=b(v(Ze),2),He=v(Pe),ce=b(Ze,2),Ce=b($e,2),Ue=v(Ce),Ve=v(Ue),st=b(v(Ve),2),bt=v(st),pe=b(Ve,2),q=b(xe,2),ge=b(v(q),2),_e=v(ge),ke=v(_e),Ne=b(v(ke),2),Le=v(Ne);Le.value=Le.__value="conversation";var Ye=b(Le);Ye.value=Ye.__value="command";var Je;Fn(Ne);var et=b(Ne,2),dt=v(et);{var Qe=Ae=>{var ze=Gt("AI-based turn detection for natural dialogue.");x(Ae,ze)},Ft=Ae=>{var ze=Gt("Silence-based detection optimized for commands.");x(Ae,ze)};N(dt,Ae=>{a(c),p(()=>a(c).stt_mode==="conversation")?Ae(Qe):Ae(Ft,!1)})}var ft=b(_e,2);{var Rt=Ae=>{var ze=R3(),We=me(ze),it=v(We),ut=b(v(it),2);Lt(ut,5,()=>Qd,Yt=>Yt.id,(Yt,nn)=>{var Hn=$3(),yr=v(Hn),Dn={};U(()=>{W(yr,(a(nn),p(()=>a(nn).name))),Dn!==(Dn=(a(nn),p(()=>a(nn).id)))&&(Hn.value=(Hn.__value=(a(nn),p(()=>a(nn).id)))??"")}),x(Yt,Hn)});var Bt;Fn(ut);var Ut=b(We,2),Ht=v(Ut),yt=v(Ht),en=b(v(yt),2),on=v(en),Kt=b(yt,2),pn=b(Ut,2),bn=v(pn),vn=v(bn),Zn=b(v(vn),2),wn=v(Zn),On=b(vn,2),mn=b(pn,2),Nt=v(mn),un=b(mn,2),$n=v(un),br=b(un,2),cr=v(br);U((Yt,nn)=>{ut.disabled=a(m),Bt!==(Bt=(a(c),p(()=>a(c).command_model)))&&(ut.value=(ut.__value=(a(c),p(()=>a(c).command_model)))??"",kn(ut,(a(c),p(()=>a(c).command_model)))),W(on,`${a(c),p(()=>a(c).command_utterance_end_ms)??""}ms`),Et(Kt,(a(c),p(()=>a(c).command_utterance_end_ms))),Kt.disabled=a(m),yn(Kt,`--slider-fill: ${Yt??""}`),W(wn,`${a(c),p(()=>a(c).command_endpointing)??""}ms`),Et(On,(a(c),p(()=>a(c).command_endpointing))),On.disabled=a(m),yn(On,`--slider-fill: ${nn??""}`),Mn(Nt,(a(c),p(()=>a(c).command_smart_format))),Nt.disabled=a(m),Mn($n,(a(c),p(()=>a(c).command_numerals))),$n.disabled=a(m),Mn(cr,(a(c),p(()=>a(c).command_interim_results))),cr.disabled=a(m)},[()=>(a(c),p(()=>R(a(c).command_utterance_end_ms,500,5e3))),()=>(a(c),p(()=>R(a(c).command_endpointing,10,5e3)))]),L("change",ut,Yt=>{_(c,{...a(c),command_model:Yt.target.value}),y()}),L("input",Kt,Yt=>{_(c,{...a(c),command_utterance_end_ms:parseInt(Yt.target.value,10)}),y()}),L("input",On,Yt=>{_(c,{...a(c),command_endpointing:parseInt(Yt.target.value,10)}),y()}),L("change",Nt,Yt=>{_(c,{...a(c),command_smart_format:Yt.target.checked}),y()}),L("change",$n,Yt=>{_(c,{...a(c),command_numerals:Yt.target.checked}),y()}),L("change",cr,Yt=>{_(c,{...a(c),command_interim_results:Yt.target.checked}),y()}),x(Ae,ze)},hn=Ae=>{var ze=z3(),We=me(ze),it=v(We),ut=v(it),Bt=b(v(ut),2),Ut=v(Bt),Ht=b(ut,2),yt=b(We,2),en=v(yt),on=v(en),Kt=b(v(on),2),pn=v(Kt),bn=b(on,2),vn=b(yt,2),Zn=b(v(vn),2);U((wn,On,mn,Nt)=>{W(Ut,wn),Et(Ht,(a(c),p(()=>a(c).eot_threshold))),Ht.disabled=a(m),yn(Ht,`--slider-fill: ${On??""}`),W(pn,`${a(c),p(()=>a(c).eot_timeout_ms)??""}ms`),Et(bn,(a(c),p(()=>a(c).eot_timeout_ms))),bn.disabled=a(m),yn(bn,`--slider-fill: ${mn??""}`),Zn.disabled=a(m),Et(Zn,Nt)},[()=>(a(c),p(()=>a(c).eot_threshold.toFixed(2))),()=>(a(c),p(()=>R(a(c).eot_threshold,.5,.9))),()=>(a(c),p(()=>R(a(c).eot_timeout_ms,500,1e4))),()=>(a(c),p(()=>a(c).keyterms.join(`
`)))]),L("input",Ht,wn=>{_(c,{...a(c),eot_threshold:parseFloat(wn.target.value)}),y()}),L("input",bn,wn=>{_(c,{...a(c),eot_timeout_ms:parseInt(wn.target.value,10)}),y()}),L("input",Zn,wn=>{const mn=wn.target.value.split(`
`).map(Nt=>Nt.trim()).filter(Nt=>Nt.length>0).slice(0,100);_(c,{...a(c),keyterms:mn}),y()}),x(Ae,ze)};N(ft,Ae=>{a(c),p(()=>a(c).stt_mode==="command")?Ae(Rt):Ae(hn,!1)})}var tn=b(q,2),fn=b(v(tn),2),wt=v(fn),pt=v(wt),je=v(pt),vt=b(v(je),2),ot=v(vt),Vt=b(je,2),sn=b(wt,2);{var at=Ae=>{var ze=B3(),We=v(ze),it=v(We),ut=b(v(it),2),Bt=v(ut),Ut=b(it,2);U((Ht,yt)=>{W(Bt,`${Ht??""}s`),Et(Ut,(a(c),p(()=>a(c).conversation_timeout_seconds))),Ut.disabled=a(m),yn(Ut,`--slider-fill: ${yt??""}`)},[()=>(a(c),p(()=>a(c).conversation_timeout_seconds.toFixed(0))),()=>(a(c),p(()=>R(a(c).conversation_timeout_seconds,1,60)))]),L("input",Ut,Ht=>{_(c,{...a(c),conversation_timeout_seconds:parseFloat(Ht.target.value)}),y()}),x(Ae,ze)};N(sn,Ae=>{a(c),p(()=>a(c).stt_mode==="conversation")&&Ae(at)})}var gt=b(sn,2),$t=v(gt),Be=v($t),gn=b(v(Be),2),At=v(gn),zt=b(Be,2),_n=b(tn,2),In=b(v(_n),2),be=v(In),Re=v(be),K=b(be,2);{var j=Ae=>{var ze=j3(),We=me(ze),it=v(We),ut=b(v(it),2);Lt(ut,5,()=>a(i),Vn,(Jt,Sn)=>{var qr=U3(),xr=v(qr),Js={};U(()=>{W(xr,(a(Sn),p(()=>a(Sn).name))),Js!==(Js=(a(Sn),p(()=>a(Sn).id)))&&(qr.value=(qr.__value=(a(Sn),p(()=>a(Sn).id)))??"")}),x(Jt,qr)});var Bt;Fn(ut);var Ut=b(We,2),Ht=v(Ut),yt=b(v(Ht),2),en=v(yt);en.value=en.__value="tts-1";var on=b(en);on.value=on.__value="tts-1-hd";var Kt;Fn(yt);var pn=b(Ut,2),bn=v(pn),vn=b(v(bn),2),Zn=v(vn);Zn.value=Zn.__value="pcm";var wn=b(Zn);wn.value=wn.__value="mp3";var On=b(wn);On.value=On.__value="opus";var mn=b(On);mn.value=mn.__value="aac";var Nt=b(mn);Nt.value=Nt.__value="flac";var un=b(Nt);un.value=un.__value="wav";var $n;Fn(vn);var br=b(pn,2),cr=v(br),Yt=v(cr),nn=b(v(Yt),2),Hn=v(nn),yr=b(Yt,2),Dn=b(br,2),as=v(Dn),ka=b(v(as),2),Ys=b(Dn,2),Vo=v(Ys),ss=b(v(Vo),2),ra=b(Ys,2),os=v(ra),is=b(ra,2);let Fu;var Go=b(v(is),2),Zo=b(is,2);let Pu;var Ko=v(Zo),Iu=b(Zo,2);let Nu;var Yo=b(v(Iu),2);U((Jt,Sn,qr,xr,Js,af)=>{ut.disabled=a(m),Bt!==(Bt=(a(c),p(()=>a(c).voice)))&&(ut.value=(ut.__value=(a(c),p(()=>a(c).voice)))??"",kn(ut,(a(c),p(()=>a(c).voice)))),yt.disabled=a(m),Kt!==(Kt=(a(c),p(()=>a(c).model)))&&(yt.value=(yt.__value=(a(c),p(()=>a(c).model)))??"",kn(yt,(a(c),p(()=>a(c).model)))),vn.disabled=a(m),$n!==($n=(a(c),p(()=>a(c).response_format)))&&(vn.value=(vn.__value=(a(c),p(()=>a(c).response_format)))??"",kn(vn,(a(c),p(()=>a(c).response_format)))),W(Hn,`${Jt??""}x`),Et(yr,(a(c),p(()=>a(c).speed))),yr.disabled=a(m),yn(yr,`--slider-fill: ${Sn??""}`),Et(ka,(a(c),p(()=>a(c).sample_rate))),ka.disabled=a(m),Et(ss,(a(c),p(()=>a(c).stream_chunk_bytes))),ss.disabled=a(m),Mn(os,(a(c),p(()=>a(c).use_segmentation))),os.disabled=a(m),Fu=kt(is,1,"reasoning-field svelte-10jke8k",null,Fu,qr),Et(Go,(a(c),p(()=>a(c).first_phrase_min_chars))),Go.disabled=(a(m),a(c),p(()=>a(m)||!a(c).use_segmentation)),Pu=kt(Zo,1,"setting-boolean svelte-10jke8k",null,Pu,xr),Mn(Ko,(a(c),p(()=>a(c).segmentation_logging_enabled))),Ko.disabled=(a(m),a(c),p(()=>a(m)||!a(c).use_segmentation)),Nu=kt(Iu,1,"reasoning-field svelte-10jke8k",null,Nu,Js),Yo.disabled=(a(m),a(c),p(()=>a(m)||!a(c).use_segmentation)),Et(Yo,af)},[()=>(a(c),p(()=>a(c).speed.toFixed(1))),()=>(a(c),p(()=>R(a(c).speed,.5,2))),()=>({"disabled-field":!a(c).use_segmentation}),()=>({"disabled-field":!a(c).use_segmentation}),()=>({"disabled-field":!a(c).use_segmentation}),()=>(a(c),p(()=>a(c).delimiters.map(Jt=>Jt===`
`?"\\n":Jt).join(`
`)))]),L("change",ut,Jt=>{_(c,{...a(c),voice:Jt.target.value}),y()}),L("change",yt,Jt=>{_(c,{...a(c),model:Jt.target.value}),y()}),L("change",vn,Jt=>{_(c,{...a(c),response_format:Jt.target.value}),y()}),L("input",yr,Jt=>{_(c,{...a(c),speed:parseFloat(Jt.target.value)}),y()}),L("input",ka,Jt=>{const Sn=parseInt(Jt.target.value,10);Number.isFinite(Sn)&&(_(c,{...a(c),sample_rate:Math.max(8e3,Math.min(48e3,Sn))}),y())}),L("input",ss,Jt=>{const Sn=parseInt(Jt.target.value,10);Number.isFinite(Sn)&&(_(c,{...a(c),stream_chunk_bytes:Math.max(512,Math.min(65536,Sn))}),y())}),L("change",os,Jt=>{_(c,{...a(c),use_segmentation:Jt.target.checked}),y()}),L("input",Go,Jt=>{const Sn=parseInt(Jt.target.value,10);Number.isFinite(Sn)&&(_(c,{...a(c),first_phrase_min_chars:Math.max(0,Math.min(500,Sn))}),y())}),L("change",Ko,Jt=>{_(c,{...a(c),segmentation_logging_enabled:Jt.target.checked}),y()}),L("input",Yo,Jt=>{const qr=Jt.target.value.split(`
`).map(xr=>xr.replace(/\r/g,"")).map(xr=>xr==="\\n"?`
`:xr).filter(xr=>xr.trim().length>0);_(c,{...a(c),delimiters:qr}),y()}),x(Ae,ze)};N(K,Ae=>{a(c),p(()=>a(c).enabled)&&Ae(j)})}var se=b(_n,2),we=b(v(se),2),Te=v(we),Ge=v(Te),ee=v(Ge),M=v(ee),H=b(ee,4),ue=v(H),Se=b(Te,2),Ee=v(Se),Ie=v(Ee),Xe=v(Ie),_t=b(Ie,4),St=v(_t),Tt=b(Se,2),qe=v(Tt),tt=v(qe),nt=v(tt),De=b(tt,4),ct=v(De),qt=b(Tt,2);{var Dt=Ae=>{var ze=q3(),We=me(ze),it=v(We),ut=v(it),Bt=b(v(ut),2),Ut=v(Bt),Ht=b(ut,2),yt=b(We,2),en=v(yt),on=v(en),Kt=b(v(on),2),pn=v(Kt),bn=b(on,2),vn=b(yt,2),Zn=v(vn),wn=v(Zn),On=b(v(wn),2),mn=v(On),Nt=b(wn,2);U((un,$n,br,cr,Yt,nn)=>{W(Ut,`${un??""}s`),Et(Ht,(a(c),p(()=>a(c).initial_buffer_sec))),Ht.disabled=a(m),yn(Ht,`--slider-fill: ${$n??""}`),W(pn,`${br??""}s`),Et(bn,(a(c),p(()=>a(c).max_ahead_sec))),bn.disabled=a(m),yn(bn,`--slider-fill: ${cr??""}`),W(mn,`${Yt??""}s`),Et(Nt,(a(c),p(()=>a(c).min_chunk_sec))),Nt.disabled=a(m),yn(Nt,`--slider-fill: ${nn??""}`)},[()=>(a(c),p(()=>a(c).initial_buffer_sec.toFixed(2))),()=>(a(c),p(()=>R(a(c).initial_buffer_sec,.05,2))),()=>(a(c),p(()=>a(c).max_ahead_sec.toFixed(1))),()=>(a(c),p(()=>R(a(c).max_ahead_sec,.3,5))),()=>(a(c),p(()=>a(c).min_chunk_sec.toFixed(2))),()=>(a(c),p(()=>R(a(c).min_chunk_sec,.02,.5)))]),L("input",Ht,un=>{_(c,{...a(c),initial_buffer_sec:parseFloat(un.target.value)}),y()}),L("input",bn,un=>{_(c,{...a(c),max_ahead_sec:parseFloat(un.target.value)}),y()}),L("input",Nt,un=>{_(c,{...a(c),min_chunk_sec:parseFloat(un.target.value)}),y()}),x(Ae,ze)};N(qt,Ae=>{a(c),p(()=>a(c).buffering_enabled)&&Ae(Dt)})}U((Ae,ze,We,it,ut,Bt)=>{fe.disabled=a(m),te!==(te=(a(c),p(()=>a(c).llm_model)))&&(fe.value=(fe.__value=(a(c),p(()=>a(c).llm_model)))??"",kn(fe,(a(c),p(()=>a(c).llm_model)))),Oe.disabled=a(m),Et(Oe,(a(c),p(()=>a(c).system_prompt??""))),W(He,Ae),Et(ce,(a(c),p(()=>a(c).temperature))),ce.disabled=a(m),yn(ce,`--slider-fill: ${ze??""}`),W(bt,(a(c),p(()=>a(c).max_tokens))),Et(pe,(a(c),p(()=>a(c).max_tokens))),pe.disabled=a(m),yn(pe,`--slider-fill: ${We??""}`),Ne.disabled=a(m),Je!==(Je=(a(c),p(()=>a(c).stt_mode)))&&(Ne.value=(Ne.__value=(a(c),p(()=>a(c).stt_mode)))??"",kn(Ne,(a(c),p(()=>a(c).stt_mode)))),W(ot,`${it??""}s`),Et(Vt,(a(c),p(()=>a(c).idle_return_delay_ms))),Vt.disabled=a(m),yn(Vt,`--slider-fill: ${ut??""}`),W(At,(a(c),p(()=>a(c).slideshow_max_photos))),Et(zt,(a(c),p(()=>a(c).slideshow_max_photos))),zt.disabled=a(m),yn(zt,`--slider-fill: ${Bt??""}`),Mn(Re,(a(c),p(()=>a(c).enabled))),Re.disabled=a(m),Mn(M,(a(c),p(()=>!a(c).buffering_enabled))),M.disabled=a(m),W(ue,(a(c),p(()=>a(c).buffering_enabled?"Off (buffered)":"On (instant)"))),Mn(Xe,(a(c),p(()=>!a(c).startup_delay_enabled))),Xe.disabled=a(m),W(St,(a(c),p(()=>a(c).startup_delay_enabled?"Off (60ms delay)":"On (instant)"))),Mn(nt,(a(c),p(()=>a(c).low_latency_audio))),nt.disabled=a(m),W(ct,(a(c),p(()=>a(c).low_latency_audio?"On (interactive)":"Off (smooth)")))},[()=>(a(c),p(()=>a(c).temperature.toFixed(1))),()=>(a(c),p(()=>R(a(c).temperature,0,2))),()=>(a(c),p(()=>R(a(c).max_tokens,50,2e3))),()=>(a(c),p(()=>(a(c).idle_return_delay_ms/1e3).toFixed(0))),()=>(a(c),p(()=>R(a(c).idle_return_delay_ms,1e3,6e4))),()=>(a(c),p(()=>R(a(c).slideshow_max_photos,5,100)))]),L("change",fe,Ae=>{_(c,{...a(c),llm_model:Ae.target.value}),y()}),L("input",ce,Ae=>{_(c,{...a(c),temperature:parseFloat(Ae.target.value)}),y()}),L("input",pe,Ae=>{_(c,{...a(c),max_tokens:parseInt(Ae.target.value,10)}),y()}),L("change",Ne,Ae=>{_(c,{...a(c),stt_mode:Ae.target.value}),y()}),L("input",Vt,Ae=>{_(c,{...a(c),idle_return_delay_ms:parseInt(Ae.target.value,10)}),y()}),L("input",zt,Ae=>{_(c,{...a(c),slideshow_max_photos:parseInt(Ae.target.value,10)}),y()}),L("change",Re,Ae=>{_(c,{...a(c),enabled:Ae.target.checked}),y()}),L("change",M,Ae=>{const ze=Ae.target.checked;_(c,{...a(c),buffering_enabled:!ze,initial_buffer_sec:ze?0:a(c).initial_buffer_sec||.3}),y()}),L("change",Xe,Ae=>{_(c,{...a(c),startup_delay_enabled:!Ae.target.checked}),y()}),L("change",nt,Ae=>{_(c,{...a(c),low_latency_audio:Ae.target.checked}),y()}),x(oe,le)};N(ae,oe=>{a(h)?oe(re):oe(X,!1)})}x(he,ne)},$$slots:{default:!0,heading:(he,$)=>{var ne=W3();x(he,ne)},actions:(he,$)=>{var ne=V3();U(()=>ne.disabled=a(m)||a(h)),L("click",ne,z),x(he,ne)},footer:(he,$)=>{var ne=J3(),ae=v(ne);{var re=oe=>{var le=G3(),xe=v(le);U(()=>W(xe,a(T))),x(oe,le)},X=oe=>{var le=Me(),xe=me(le);{var Fe=V=>{var fe=Z3();x(V,fe)},J=V=>{var fe=Me(),te=me(fe);{var G=Z=>{var Oe=K3();x(Z,Oe)},ve=Z=>{var Oe=Y3();x(Z,Oe)};N(te,Z=>{a(g)?Z(G):Z(ve,!1)},!0)}x(V,fe)};N(xe,V=>{a(m)?V(Fe):V(J,!1)},!0)}x(oe,le)};N(ae,oe=>{a(T)?oe(re):oe(X,!1)})}x(he,ne)}}})};N(I,Y=>{d()&&Y(Q)})}x(e,P),It(),s()}const go=["Google Calendar","Google Tasks","Gmail","Google Drive"],Mi={loading:!1,authorizing:!1,authorized:!1,userEmail:null,expiresAt:null,services:[...go],error:null};function Q3(e){return new Promise((t,n)=>{const r=i=>{const u=i.data;if(!u||typeof u!="object"||u.source!=="google-auth")return;o();const l=u.status,d=u.message;if(l==="success")t();else{const f=typeof d=="string"?d:"Authorization failed.";n(new Error(f))}},s=window.setInterval(()=>{e.closed&&(o(),n(new Error("The authorization window was closed before completion.")))},500),o=()=>{window.removeEventListener("message",r),window.clearInterval(s)};window.addEventListener("message",r)})}function ey(){const e=rn({...Mi});async function t(){e.update(s=>({...s,loading:!0,error:null}));try{const s=await tp();e.set({loading:!1,authorizing:!1,authorized:s.authorized,userEmail:s.user_email??null,expiresAt:s.expires_at??null,services:s.services&&s.services.length>0?s.services:[...go],error:null})}catch(s){const o=s instanceof Error?s.message:"Failed to check Google authorization status.";e.set({...Mi,services:[...go],loading:!1,error:o})}}function n(){e.set({...Mi,services:[...go]})}async function r(){if(typeof window>"u")return e.update(o=>({...o,error:"Google authorization is only available in a browser environment."})),!1;if(rt(e).authorizing)return!1;e.update(o=>({...o,authorizing:!0,error:null}));try{const o=await np({}),i=window.open(o.auth_url,"google-oauth","width=520,height=640,noopener=yes,noreferrer=yes");if(!i)throw new Error("Popup was blocked. Allow pop-ups and try again.");return i.focus(),await Q3(i),await t(),e.update(u=>({...u,authorizing:!1})),!0}catch(o){const i=o instanceof Error?o.message:"Failed to start Google authorization.";return e.update(u=>({...u,authorizing:!1,error:i})),!1}}return{subscribe:e.subscribe,load:t,reset:n,authorize:r}}const Oa=["svelte","voice","kiosk","cli"],uo={svelte:"Main",voice:"Voice",kiosk:"Kiosk",cli:"CLI"},lo={loading:!1,refreshing:!1,saving:!1,error:null,saveError:null,servers:[],updatedAt:null,clientPreferences:{svelte:null,voice:null,kiosk:null,cli:null},prefsLoaded:!1};function Pa(e,t){return{...e,servers:t.servers??[],updatedAt:t.updated_at??null,error:null,saveError:null}}function ty(){const e=rn({...lo});async function t(){e.set({...lo,loading:!0});try{const[d,...f]=await Promise.all([Qs(),...Oa.map(g=>nl(g))]),c={svelte:null,voice:null,kiosk:null,cli:null};Oa.forEach((g,m)=>{const h=f[m];c[g]=h.enabled_servers}),e.set({...lo,servers:d.servers,updatedAt:d.updated_at??null,clientPreferences:c,prefsLoaded:!0,loading:!1})}catch(d){const f=d instanceof Error?d.message:"Failed to load MCP servers.";e.set({...lo,loading:!1,error:f})}}async function n(d,f,c){const m=rt(e).servers.find(A=>A.id===d);if(!m)return;const h=new Set(m.disabled_tools??[]);c?h.delete(f):h.add(f);const T=Array.from(h).sort();e.update(A=>({...A,saving:!0,saveError:null,servers:A.servers.map(E=>E.id!==d?E:{...E,disabled_tools:T,tools:E.tools.map(C=>C.name===f?{...C,enabled:c}:C)})}));try{const A=await tl(d,{disabled_tools:T});e.update(E=>({...Pa(E,A),saving:!1}))}catch(A){const E=A instanceof Error?A.message:"Failed to update tool.";e.update(C=>({...C,saving:!1,saveError:E}))}}async function r(){e.update(d=>({...d,refreshing:!0,error:null}));try{const d=await ep();e.update(f=>({...Pa(f,d),refreshing:!1}))}catch(d){const f=d instanceof Error?d.message:"Failed to refresh MCP servers.";e.update(c=>({...c,refreshing:!1,saveError:f}))}}async function s(d){e.update(f=>({...f,saving:!0,saveError:null}));try{const f=await X0(d),c=await Qs(),m=rt(e).clientPreferences.svelte??c.servers.map(h=>h.id);if(m.includes(f.id))e.update(h=>({...Pa(h,c),saving:!1}));else{const h=[...m,f.id];try{const T=await ri("svelte",h);e.update(A=>({...Pa(A,c),clientPreferences:{...A.clientPreferences,svelte:T.enabled_servers},saving:!1}))}catch{e.update(T=>({...Pa(T,c),saving:!1}))}}return f}catch(f){const c=f instanceof Error?f.message:"Failed to connect to MCP server.";return e.update(g=>({...g,saving:!1,saveError:c})),null}}async function o(d){e.update(f=>({...f,saving:!0,saveError:null}));try{await Q0(d);const f=await Qs();return e.update(c=>({...Pa(c,f),saving:!1})),!0}catch(f){const c=f instanceof Error?f.message:"Failed to remove MCP server.";return e.update(g=>({...g,saving:!1,saveError:c})),!1}}async function i(d,f,c){const g=rt(e),m=g.clientPreferences[d]??g.servers.map(T=>T.id);let h;c?h=m.includes(f)?m:[...m,f]:h=m.filter(T=>T!==f),e.update(T=>({...T,clientPreferences:{...T.clientPreferences,[d]:h},saving:!0,saveError:null}));try{const T=await ri(d,h);e.update(A=>({...A,clientPreferences:{...A.clientPreferences,[d]:T.enabled_servers},saving:!1}))}catch(T){const A=T instanceof Error?T.message:"Failed to update preferences.";e.update(E=>({...E,clientPreferences:{...E.clientPreferences,[d]:m.length>0?m:null},saving:!1,saveError:A}))}}function u(d,f){const g=rt(e).clientPreferences[d];return g===null?!0:g.includes(f)}async function l(){const d=rt(e);if(d.servers.length){e.update(f=>({...f,saving:!0,saveError:null}));try{await Promise.all(Oa.map(m=>ri(m,[]))),await Promise.all(d.servers.map(m=>{const h=m.tools.map(T=>T.name);return h.length===0?Promise.resolve():tl(m.id,{disabled_tools:h})}));const f=await Qs(),c=await Promise.all(Oa.map(m=>nl(m))),g={svelte:null,voice:null,kiosk:null,cli:null};Oa.forEach((m,h)=>{const T=c[h];g[m]=T.enabled_servers??[]}),e.update(m=>({...m,servers:f.servers,updatedAt:f.updated_at??null,clientPreferences:g,saving:!1}))}catch(f){const c=f instanceof Error?f.message:"Failed to select none.";e.update(g=>({...g,saving:!1,saveError:c}))}}}return{subscribe:e.subscribe,load:t,refresh:r,setToolEnabled:n,connectServer:s,removeServer:o,setClientServerEnabled:i,isServerEnabledForClient:u,selectNone:l}}const Xl={loading:!1,saving:!1,refreshing:!1,configured:!1,email:null,error:null};function ny(){const e=rn({...Xl});async function t(){e.update(o=>({...o,loading:!0,error:null}));try{const o=await rp();e.set({loading:!1,saving:!1,refreshing:!1,configured:o.configured,email:o.email,error:null})}catch(o){const i=o instanceof Error?o.message:"Failed to check Monarch status.";e.set({...Xl,loading:!1,error:i})}}async function n(o){e.update(i=>({...i,saving:!0,error:null}));try{const i=await ap(o);return e.set({loading:!1,saving:!1,refreshing:!1,configured:i.configured,email:i.email,error:null}),!0}catch(i){const u=i instanceof Error?i.message:"Failed to save Monarch credentials.";return e.update(l=>({...l,saving:!1,error:u})),!1}}async function r(){e.update(o=>({...o,saving:!0,error:null}));try{const o=await sp();return e.set({loading:!1,saving:!1,refreshing:!1,configured:o.configured,email:o.email,error:null}),!0}catch(o){const i=o instanceof Error?o.message:"Failed to remove Monarch credentials.";return e.update(u=>({...u,saving:!1,error:i})),!1}}async function s(){e.update(o=>({...o,refreshing:!0,error:null}));try{return await new Promise(o=>setTimeout(o,2e3)),e.update(o=>({...o,refreshing:!1})),{success:!0,message:"Account data refreshed successfully"}}catch(o){const i=o instanceof Error?o.message:"Failed to refresh account data.";return e.update(u=>({...u,refreshing:!1,error:i})),{success:!1,message:i}}}return{subscribe:e.subscribe,load:t,save:n,remove:r,refresh:s}}const Fi={loading:!1,authorizing:!1,authorized:!1,userEmail:null,error:null};function ry(e){return new Promise((t,n)=>{const r=i=>{const u=i.data;if(!u||typeof u!="object"||u.source!=="spotify-auth")return;o();const l=u.status,d=u.message;if(l==="success")t();else{const f=typeof d=="string"?d:"Authorization failed.";n(new Error(f))}},s=window.setInterval(()=>{e.closed&&(o(),n(new Error("The authorization window was closed before completion.")))},500),o=()=>{window.removeEventListener("message",r),window.clearInterval(s)};window.addEventListener("message",r)})}function ay(){const e=rn({...Fi});async function t(){e.update(s=>({...s,loading:!0,error:null}));try{const s=await op();e.set({loading:!1,authorizing:!1,authorized:s.authorized,userEmail:s.user_email??null,error:null})}catch(s){const o=s instanceof Error?s.message:"Failed to check Spotify authorization status.";e.set({...Fi,loading:!1,error:o})}}function n(){e.set({...Fi})}async function r(){if(typeof window>"u")return e.update(o=>({...o,error:"Spotify authorization is only available in a browser environment."})),!1;if(rt(e).authorizing)return!1;e.update(o=>({...o,authorizing:!0,error:null}));try{const o=await ip({}),i=window.open(o.auth_url,"spotify-oauth","width=520,height=640,noopener=yes,noreferrer=yes");if(!i)throw new Error("Popup was blocked. Allow pop-ups and try again.");return i.focus(),await ry(i),await t(),e.update(u=>({...u,authorizing:!1})),!0}catch(o){const i=o instanceof Error?o.message:"Failed to start Spotify authorization.";return e.update(u=>({...u,authorizing:!1,error:i})),!1}}return{subscribe:e.subscribe,load:t,reset:n,authorize:r}}var sy=(e,t)=>void t(),oy=F('<p class="status">Checking Google authorization...</p>'),iy=F('<p class="status error"> </p> <div class="google-auth-actions"><button type="button" class="btn btn-ghost btn-small">Try again</button></div>',1),uy=F('<p class="status muted"> </p>'),ly=F('<p class="status muted">Access will refresh automatically.</p>'),cy=F('<p class="status success">Connected as <span class="google-auth-email"> </span>.</p> <!>',1),dy=F('<p class="status">Google services are not connected.</p>'),fy=F("<li> </li>"),py=(e,t)=>void t(),vy=F('<p class="status">Checking Spotify authorization...</p>'),my=F('<p class="status error"> </p> <div class="google-auth-actions"><button type="button" class="btn btn-ghost btn-small">Try again</button></div>',1),hy=F('<p class="status success">Connected as <span class="google-auth-email"> </span>.</p> <p class="status muted">Access will refresh automatically.</p>',1),gy=F('<p class="status">Spotify is not connected.</p>'),_y=(e,t)=>void t(),by=F('<button type="button" class="btn btn-primary btn-small auth-reconnect-btn">Reconnect</button>'),yy=F('<button type="button" class="btn btn-primary btn-small auth-reconnect-btn"> </button>'),xy=F('<p class="status">Checking Monarch status...</p>'),ky=F('<p class="status success">Connected as <span class="google-auth-email"> </span>.</p>'),wy=(e,t)=>_(t,!a(t)),Sy=ns('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>'),Ey=ns('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'),Cy=F('<p class="status error"> </p>'),Ay=F(`<div class="monarch-form"><label>Email <input type="email" class="input-control" placeholder="email@example.com"/></label> <label>Password <div class="password-input-wrapper"><input class="input-control" placeholder="Password"/> <button type="button" class="btn btn-ghost btn-icon btn-small"><!></button></div></label> <label>MFA Secret (Optional) <input type="text" class="input-control" placeholder="MFA Secret"/></label> <p class="status muted" style="margin-top: -0.5rem; margin-bottom: 1rem; font-size: 0.8em;">If you already use an app, you must <strong>reset MFA</strong> in Monarch
              Settings to see the secret key again. Enter the new key here AND in
              your app.</p> <!></div>`),Ty=F('<p class="system-card-caption"> </p>'),Dy=F('<p class="system-card-caption">Toggle integrations available to the assistant.</p>'),My=F('<p class="status">Loading MCP servers...</p>'),Fy=F('<p class="status error"> </p>'),Py=(e,t)=>{e.key==="Enter"&&t()},Iy=(e,t)=>void t(),Ny=F('<p class="status">No MCP servers configured.</p>'),Ly=(e,t,n,r)=>t(a(n),a(r).id,e.currentTarget.checked),Oy=F('<label class="toggle client-toggle"><input type="checkbox"/> <span> </span></label>'),$y=(e,t,n)=>void t(a(n).id),Ry=(e,t,n)=>t(a(n).id),zy=(e,t,n,r)=>t(a(n).id,a(r).name,e.currentTarget.checked),By=F('<li class="tool-row"><div class="tool-info"><span class="tool-name"> </span></div> <label class="toggle"><input type="checkbox"/> <span> </span></label></li>'),Uy=F('<ul class="tool-list"></ul>'),jy=F('<p class="status">Tool list unavailable.</p>'),qy=F('<p class="status warning"> </p>'),Hy=F('<div class="tools-dropdown"><!> <!></div>'),Wy=F('<li class="server-row"><div class="server-row-header"><div class="server-heading"><h4> </h4> <div class="server-meta"><span> </span> <span aria-hidden="true">&bull;</span> <span class="server-url"> </span></div></div> <div class="server-toggles"><div class="client-toggles-group"></div> <button type="button" class="btn btn-ghost btn-small btn-danger" title="Remove this server">Remove</button></div></div> <div class="server-row-body"><button type="button"><span class="tools-toggle__label"> </span> <svg class="tools-toggle__icon" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M2.5 4.5L6 8L9.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <!></div></li>'),Vy=F('<ul class="server-list"></ul>'),Gy=F('<p class="status error"> </p>'),Zy=F('<div class="add-server-row"><input type="url" class="input-control" placeholder="http://192.168.1.110:9003/mcp"/> <button type="button" class="btn btn-primary btn-small"> </button></div> <!> <!>',1),Ky=F('<article class="system-card"><header class="system-card-header"><div><h3>Google services</h3> <p class="system-card-caption">Connect Calendar, Tasks, Gmail, and Drive with a single consent.</p></div> <div class="system-card-actions"><button type="button" class="btn btn-primary btn-small auth-reconnect-btn"> </button></div></header> <div class="system-card-body google-auth-body"><!> <ul class="google-services-list"></ul> <p class="status muted"><!></p></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Spotify</h3> <p class="system-card-caption">Connect Spotify for music control and playback.</p></div> <div class="system-card-actions"><button type="button" class="btn btn-primary btn-small auth-reconnect-btn"> </button></div></header> <div class="system-card-body google-auth-body"><!> <p class="status muted"><!></p></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Monarch Money</h3> <p class="system-card-caption">Connect your Monarch Money account.</p></div> <div class="system-card-actions"><!></div></header> <div class="system-card-body"><!></div></article> <article class="system-card"><header class="system-card-header"><div><h3>Server status</h3> <!></div> <div class="system-card-actions"><button type="button" class="btn btn-ghost btn-small">Select none</button> <button type="button" class="btn btn-ghost btn-small"> </button></div></header> <div class="system-card-body"><!></div></article>',1),Yy=F('<h2 id="mcp-settings-title">MCP servers</h2> <p class="model-settings-subtitle">Manage MCP server tools and client access.</p>',1),Jy=F('<p class="status error"> </p>'),Xy=F('<p class="status">Saving...</p>'),Qy=F('<p class="status muted">Changes are saved automatically.</p>'),e6=F('<footer slot="footer" class="model-settings-footer system-settings-footer"><!></footer>');function t6(e,t){Pt(t,!1);const n=()=>Mt(f,"$mcpServers",i),r=()=>Mt(c,"$googleAuth",i),s=()=>Mt(m,"$spotifyAuth",i),o=()=>Mt(g,"$monarchAuth",i),[i,u]=lr();let l=ie(t,"open",8,!1);const d=an(),f=ty(),c=ey(),g=ny(),m=ay();let h=O(!1),T=O(new Set),A=O(""),E=O(""),C=O(""),k=O(!1),w=O(""),S=O(!1);async function y(){await Promise.all([f.load(),c.load(),g.load(),m.load()])}function D(){n().saving||r().authorizing||d("close")}function z(){!a(A)||!a(E)||g.save({email:a(A),password:a(E),mfa_secret:a(C)||null})}function R(J,V,fe){n().saving||f.setClientServerEnabled(J,V,fe)}function P(J,V,fe){n().saving||f.setToolEnabled(J,V,fe)}async function I(){const J=a(w).trim();!J||a(S)||(_(S,!0),await f.connectServer(J),_(S,!1),_(w,""))}async function Q(J){n().saving||await f.removeServer(J)}function Y(){n().saving||f.refresh()}function he(){r().loading||r().authorizing||c.load()}async function $(){r().authorizing||await c.authorize()}function ne(){s().loading||s().authorizing||m.load()}async function ae(){s().authorizing||await m.authorize()}async function re(){if(o().saving)return;await g.remove()&&(_(E,""),_(C,""),_(k,!1))}function X(J){if(!J)return null;try{const V=new Date(J);return Number.isNaN(V.getTime())?J:new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"2-digit"}).format(V)}catch(V){return console.warn("Failed to format timestamp",V),J}}function oe(J){const V=new Set(a(T));V.has(J)?V.delete(J):V.add(J),_(T,V)}ye(()=>(B(l()),a(h)),()=>{l()&&!a(h)?(_(h,!0),y()):!l()&&a(h)&&(_(h,!1),c.reset(),m.reset(),_(T,new Set),_(w,""))}),cn(),Ot();var le=Me(),xe=me(le);{var Fe=J=>{{let V=jt(()=>(n(),r(),p(()=>n().saving||r().authorizing)));Fr(J,{get open(){return l()},labelledBy:"mcp-settings-title",modalClass:"mcp-settings-modal",bodyClass:"system-settings-body",layerClass:"system-settings-layer",closeLabel:"Close MCP servers",get closeDisabled(){return a(V)},onclose:D,children:(fe,te)=>{var G=Ky(),ve=me(G),Z=v(ve),Oe=b(v(Z),2),$e=v(Oe);$e.__click=[sy,$];var Ke=v($e),Ze=b(Z,2),Pe=v(Ze);{var He=j=>{var se=oy();x(j,se)},ce=j=>{var se=Me(),we=me(se);{var Te=ee=>{var M=iy(),H=me(M),ue=v(H),Se=b(H,2),Ee=v(Se);Ee.__click=he,U(()=>{W(ue,(r(),p(()=>r().error))),Ee.disabled=(r(),p(()=>r().loading||r().authorizing))}),x(ee,M)},Ge=ee=>{var M=Me(),H=me(M);{var ue=Ee=>{var Ie=cy(),Xe=me(Ie),_t=b(v(Xe)),St=v(_t),Tt=b(Xe,2);{var qe=nt=>{var De=uy(),ct=v(De);U(qt=>W(ct,`Current token expires ${qt??""}.`),[()=>(r(),p(()=>X(r().expiresAt)??"soon"))]),x(nt,De)},tt=nt=>{var De=ly();x(nt,De)};N(Tt,nt=>{r(),p(()=>r().expiresAt)?nt(qe):nt(tt,!1)})}U(()=>W(St,(r(),p(()=>r().userEmail)))),x(Ee,Ie)},Se=Ee=>{var Ie=dy();x(Ee,Ie)};N(H,Ee=>{r(),p(()=>r().authorized)?Ee(ue):Ee(Se,!1)},!0)}x(ee,M)};N(we,ee=>{r(),p(()=>r().error)?ee(Te):ee(Ge,!1)},!0)}x(j,se)};N(Pe,j=>{r(),p(()=>r().loading)?j(He):j(ce,!1)})}var Ce=b(Pe,2);Lt(Ce,5,()=>(r(),p(()=>r().services)),Vn,(j,se)=>{var we=fy(),Te=v(we);U(()=>W(Te,a(se))),x(j,we)});var Ue=b(Ce,2),Ve=v(Ue);{var st=j=>{var se=Gt(`Click "Reconnect" to refresh Google authorization for these
            integrations.`);x(j,se)},bt=j=>{var se=Gt('Click "Connect" to authorize these integrations for the assistant.');x(j,se)};N(Ve,j=>{r(),p(()=>r().authorized)?j(st):j(bt,!1)})}var pe=b(ve,2),q=v(pe),ge=b(v(q),2),_e=v(ge);_e.__click=[py,ae];var ke=v(_e),Ne=b(q,2),Le=v(Ne);{var Ye=j=>{var se=vy();x(j,se)},Je=j=>{var se=Me(),we=me(se);{var Te=ee=>{var M=my(),H=me(M),ue=v(H),Se=b(H,2),Ee=v(Se);Ee.__click=ne,U(()=>{W(ue,(s(),p(()=>s().error))),Ee.disabled=(s(),p(()=>s().loading||s().authorizing))}),x(ee,M)},Ge=ee=>{var M=Me(),H=me(M);{var ue=Ee=>{var Ie=hy(),Xe=me(Ie),_t=b(v(Xe)),St=v(_t);U(()=>W(St,(s(),p(()=>s().userEmail)))),x(Ee,Ie)},Se=Ee=>{var Ie=gy();x(Ee,Ie)};N(H,Ee=>{s(),p(()=>s().authorized)?Ee(ue):Ee(Se,!1)},!0)}x(ee,M)};N(we,ee=>{s(),p(()=>s().error)?ee(Te):ee(Ge,!1)},!0)}x(j,se)};N(Le,j=>{s(),p(()=>s().loading)?j(Ye):j(Je,!1)})}var et=b(Le,2),dt=v(et);{var Qe=j=>{var se=Gt('Click "Reconnect" to refresh Spotify authorization.');x(j,se)},Ft=j=>{var se=Gt('Click "Connect" to authorize music control and playback features.');x(j,se)};N(dt,j=>{s(),p(()=>s().authorized)?j(Qe):j(Ft,!1)})}var ft=b(pe,2),Rt=v(ft),hn=b(v(Rt),2),tn=v(hn);{var fn=j=>{var se=by();se.__click=[_y,re],U(()=>se.disabled=(o(),p(()=>o().saving))),x(j,se)},wt=j=>{var se=yy();se.__click=z;var we=v(se);U(()=>{se.disabled=(o(),a(A),a(E),p(()=>o().saving||!a(A)||!a(E))),W(we,(o(),p(()=>o().saving?"Saving...":"Connect")))}),x(j,se)};N(tn,j=>{o(),p(()=>o().configured)?j(fn):j(wt,!1)})}var pt=b(Rt,2),je=v(pt);{var vt=j=>{var se=xy();x(j,se)},ot=j=>{var se=Me(),we=me(se);{var Te=ee=>{var M=ky(),H=b(v(M)),ue=v(H);U(()=>W(ue,(o(),p(()=>o().email)))),x(ee,M)},Ge=ee=>{var M=Ay(),H=v(M),ue=b(v(H)),Se=b(H,2),Ee=b(v(Se)),Ie=v(Ee),Xe=b(Ie,2);Xe.__click=[wy,k];var _t=v(Xe);{var St=ct=>{var qt=Sy();x(ct,qt)},Tt=ct=>{var qt=Ey();x(ct,qt)};N(_t,ct=>{a(k)?ct(St):ct(Tt,!1)})}var qe=b(Se,2),tt=b(v(qe)),nt=b(qe,4);{var De=ct=>{var qt=Cy(),Dt=v(qt);U(()=>W(Dt,(o(),p(()=>o().error)))),x(ct,qt)};N(nt,ct=>{o(),p(()=>o().error)&&ct(De)})}U(()=>{de(Ie,"type",a(k)?"text":"password"),de(Xe,"title",a(k)?"Hide password":"Show password")}),tr(ue,()=>a(A),ct=>_(A,ct)),tr(Ie,()=>a(E),ct=>_(E,ct)),tr(tt,()=>a(C),ct=>_(C,ct)),x(ee,M)};N(we,ee=>{o(),p(()=>o().configured)?ee(Te):ee(Ge,!1)},!0)}x(j,se)};N(je,j=>{o(),p(()=>o().loading)?j(vt):j(ot,!1)})}var Vt=b(ft,2),sn=v(Vt),at=v(sn),gt=b(v(at),2);{var $t=j=>{var se=Ty(),we=v(se);U(Te=>W(we,`Last updated ${Te??""}`),[()=>(n(),p(()=>X(n().updatedAt)??""))]),x(j,se)},Be=j=>{var se=Dy();x(j,se)};N(gt,j=>{n(),p(()=>n().updatedAt)?j($t):j(Be,!1)})}var gn=b(at,2),At=v(gn);At.__click=()=>void f.selectNone();var zt=b(At,2);zt.__click=Y;var _n=v(zt),In=b(sn,2),be=v(In);{var Re=j=>{var se=My();x(j,se)},K=j=>{var se=Me(),we=me(se);{var Te=ee=>{var M=Fy(),H=v(M);U(()=>W(H,(n(),p(()=>n().error)))),x(ee,M)},Ge=ee=>{var M=Zy(),H=me(M),ue=v(H);ue.__keydown=[Py,I];var Se=b(ue,2);Se.__click=[Iy,I];var Ee=v(Se),Ie=b(H,2);{var Xe=qe=>{var tt=Ny();x(qe,tt)},_t=qe=>{var tt=Vy();Lt(tt,5,()=>(n(),p(()=>n().servers)),Vn,(nt,De)=>{var ct=Wy(),qt=v(ct),Dt=v(qt),Ae=v(Dt),ze=v(Ae),We=b(Ae,2),it=v(We);let ut;var Bt=v(it),Ut=b(it,4),Ht=v(Ut),yt=b(Dt,2),en=v(yt);Lt(en,5,()=>Oa,Vn,(mn,Nt)=>{var un=Oy(),$n=v(un);$n.__change=[Ly,R,Nt,De];var br=b($n,2),cr=v(br);U(Yt=>{de(un,"title",`Enable for ${B(uo),a(Nt),p(()=>uo[a(Nt)])??""} client`),Mn($n,Yt),$n.disabled=(a(De),n(),p(()=>!a(De).connected||n().saving)),W(cr,(B(uo),a(Nt),p(()=>uo[a(Nt)])))},[()=>(n(),a(Nt),a(De),p(()=>n().clientPreferences[a(Nt)]===null||n().clientPreferences[a(Nt)]?.includes(a(De).id)))]),x(mn,un)});var on=b(en,2);on.__click=[$y,Q,De];var Kt=b(qt,2),pn=v(Kt);let bn;pn.__click=[Ry,oe,De];var vn=v(pn),Zn=v(vn),wn=b(pn,2);{var On=mn=>{var Nt=Hy(),un=v(Nt);{var $n=nn=>{var Hn=Uy();Lt(Hn,5,()=>(a(De),p(()=>a(De).tools)),Vn,(yr,Dn)=>{var as=By(),ka=v(as),Ys=v(ka),Vo=v(Ys),ss=b(ka,2),ra=v(ss);ra.__change=[zy,P,De,Dn];var os=b(ra,2),is=v(os);U(()=>{de(as,"data-disabled",(a(Dn),p(()=>!a(Dn).enabled))),W(Vo,(a(Dn),p(()=>a(Dn).name))),Mn(ra,(a(Dn),p(()=>a(Dn).enabled))),ra.disabled=(n(),p(()=>n().saving)),W(is,(a(Dn),p(()=>a(Dn).enabled?"Enabled":"Disabled")))}),x(yr,as)}),x(nn,Hn)},br=nn=>{var Hn=jy();x(nn,Hn)};N(un,nn=>{a(De),p(()=>a(De).tools.length)?nn($n):nn(br,!1)})}var cr=b(un,2);{var Yt=nn=>{var Hn=qy(),yr=v(Hn);U(Dn=>W(yr,`Disabled tool ids: ${Dn??""}`),[()=>(a(De),p(()=>a(De).disabled_tools.join(", ")))]),x(nn,Hn)};N(cr,nn=>{a(De),p(()=>a(De).disabled_tools.length)&&nn(Yt)})}U(()=>de(Nt,"id",`tools-${a(De),p(()=>a(De).id)??""}`)),x(mn,Nt)};N(wn,mn=>{a(T),a(De),p(()=>a(T).has(a(De).id))&&mn(On)})}U((mn,Nt,un)=>{de(ct,"data-connected",(a(De),p(()=>a(De).connected))),W(ze,(a(De),p(()=>a(De).id))),ut=kt(it,1,"",null,ut,mn),W(Bt,(a(De),p(()=>a(De).connected?"Connected":"Offline"))),de(Ut,"title",(a(De),p(()=>a(De).url))),W(Ht,(a(De),p(()=>a(De).url))),on.disabled=(n(),p(()=>n().saving)),bn=kt(pn,1,"tools-toggle",null,bn,Nt),de(pn,"aria-expanded",un),de(pn,"aria-controls",`tools-${a(De),p(()=>a(De).id)??""}`),W(Zn,`${a(De),p(()=>a(De).tool_count)??""} tool${a(De),p(()=>a(De).tool_count===1?"":"s")??""} available`)},[()=>({connected:a(De).connected,offline:!a(De).connected}),()=>({open:a(T).has(a(De).id)}),()=>(a(T),a(De),p(()=>a(T).has(a(De).id)))]),x(nt,ct)}),x(qe,tt)};N(Ie,qe=>{n(),p(()=>!n().servers.length)?qe(Xe):qe(_t,!1)})}var St=b(Ie,2);{var Tt=qe=>{var tt=Gy(),nt=v(tt);U(()=>W(nt,(n(),p(()=>n().saveError)))),x(qe,tt)};N(St,qe=>{n(),p(()=>n().saveError)&&qe(Tt)})}U(qe=>{ue.disabled=(a(S),n(),p(()=>a(S)||n().saving)),Se.disabled=qe,W(Ee,a(S)?"Connecting...":"Connect")},[()=>(a(S),a(w),n(),p(()=>a(S)||!a(w).trim()||n().saving))]),tr(ue,()=>a(w),qe=>_(w,qe)),x(ee,M)};N(we,ee=>{n(),p(()=>n().error)?ee(Te):ee(Ge,!1)},!0)}x(j,se)};N(be,j=>{n(),p(()=>n().loading)?j(Re):j(K,!1)})}U(()=>{$e.disabled=(r(),p(()=>r().loading||r().authorizing)),W(Ke,(r(),p(()=>r().authorizing?"Authorizing...":r().authorized?"Reconnect":"Connect"))),_e.disabled=(s(),p(()=>s().loading||s().authorizing)),W(ke,(s(),p(()=>s().authorizing?"Authorizing...":s().authorized?"Reconnect":"Connect"))),At.disabled=(n(),p(()=>n().saving||n().refreshing||!n().servers.length)),zt.disabled=(n(),p(()=>n().refreshing||n().saving)),W(_n,(n(),p(()=>n().refreshing?"Refreshing...":"Refresh")))}),x(fe,G)},$$slots:{default:!0,heading:(fe,te)=>{var G=Yy();x(fe,G)},footer:(fe,te)=>{var G=e6(),ve=v(G);{var Z=$e=>{var Ke=Jy(),Ze=v(Ke);U(()=>W(Ze,(n(),p(()=>n().saveError)))),x($e,Ke)},Oe=$e=>{var Ke=Me(),Ze=me(Ke);{var Pe=ce=>{var Ce=Xy();x(ce,Ce)},He=ce=>{var Ce=Qy();x(ce,Ce)};N(Ze,ce=>{n(),p(()=>n().saving)?ce(Pe):ce(He,!1)},!0)}x($e,Ke)};N(ve,$e=>{n(),p(()=>n().saveError)?$e(Z):$e(Oe,!1)})}x(fe,G)}}})}};N(xe,J=>{l()&&J(Fe)})}x(e,le),It(),u()}Bc(["click","keydown","change"]);var n6=F('<button type="button"><span class="chip-label svelte-v6y1b4"><span class="chip-category svelte-v6y1b4"> </span> <span class="chip-separator" aria-hidden="true">Â·</span> <span class="chip-value svelte-v6y1b4"> </span></span> <span class="chip-remove svelte-v6y1b4" aria-hidden="true">Ã</span></button>'),r6=F('<section class="active-filters svelte-v6y1b4" aria-label="Active filters"><h3 class="title svelte-v6y1b4">Active filters</h3> <div class="chip-list svelte-v6y1b4"></div></section>');function Qi(e,t){Pt(t,!1);let n=ie(t,"chips",24,()=>[]);const r=an();function s(l){r("clear",l)}Ot();var o=Me(),i=me(o);{var u=l=>{var d=r6(),f=b(v(d),2);Lt(f,5,n,c=>c.id,(c,g)=>{var m=n6();let h;var T=v(m),A=v(T),E=v(A),C=b(A,4),k=v(C);U(w=>{h=kt(m,1,"chip svelte-v6y1b4",null,h,w),de(m,"aria-label",(a(g),p(()=>`Remove ${a(g).state==="exclude"?"excluded":"included"} filter ${a(g).categoryLabel} ${a(g).valueLabel}`))),W(E,(a(g),p(()=>a(g).categoryLabel))),W(k,`${a(g),p(()=>a(g).state==="exclude"?"Not ":"")??""}${a(g),p(()=>a(g).valueLabel)??""}`)},[()=>({include:a(g).state==="include",exclude:a(g).state==="exclude"})]),L("click",m,()=>s(a(g))),x(c,m)}),x(l,d)};N(i,l=>{B(n()),p(()=>n().length>0)&&l(u)})}x(e,o),It()}var a6=F('<section><header class="svelte-10u46cr"><button type="button"><span class="title svelte-10u46cr"> </span> <span class="chevron svelte-10u46cr" aria-hidden="true"></span></button></header> <div class="content svelte-10u46cr"><!></div></section>');function eu(e,t){Pt(t,!1);let n=ie(t,"title",8),r=ie(t,"startOpen",8,!1),s=ie(t,"forceOpen",8,!1),o=O(r()),i=O(!1);const u=d(n());function l(){s()||_(o,!a(o))}function d(C){const k=C.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")||"section",w=Math.abs(Array.from(C).reduce((S,y)=>S*31+y.charCodeAt(0),7)).toString(36);return`filter-section-${k}-${w}`}ye(()=>(B(s()),a(o),a(i),B(r())),()=>{s()?(a(o)||_(o,!0),_(i,!0)):a(i)&&(_(o,r()),_(i,!1))}),cn(),Ot();var f=a6(),c=v(f),g=v(c);let m;var h=v(g),T=v(h),A=b(c,2),E=v(A);Nn(E,t,"default",{}),U(C=>{kt(f,1,`filter-section ${a(o)?"expanded":"collapsed"}`,"svelte-10u46cr"),m=kt(g,1,"toggle svelte-10u46cr",null,m,C),de(g,"aria-expanded",a(o)),de(g,"aria-controls",u),de(g,"aria-disabled",s()),W(T,n()),de(A,"id",u),de(A,"hidden",!a(o))},[()=>({locked:s()})]),L("click",g,l),x(e,f),It()}var s6=F('<div class="range-slider svelte-1q5g18c"><div class="track svelte-1q5g18c"></div> <div class="range svelte-1q5g18c" aria-hidden="true"></div> <input class="thumb thumb-min svelte-1q5g18c" type="range"/> <input class="thumb thumb-max svelte-1q5g18c" type="range"/></div>');function o6(e,t){Pt(t,!1);const n=O(),r=O(),s=O(),o=O(),i=O(),u=O(),l=an();let d=ie(t,"id",8),f=ie(t,"min",8,0),c=ie(t,"max",8,100),g=ie(t,"step",8,1),m=ie(t,"value",24,()=>({min:f(),max:c()})),h=ie(t,"disabled",8,!1),T=ie(t,"ariaLabelMin",8,"Minimum value"),A=ie(t,"ariaLabelMax",8,"Maximum value");const E=6;function C(I,Q,Y){return!Number.isFinite(I)||I<Q?Q:I>Y?Y:Number(I.toFixed(E))}function k(I,Q,Y){const he=Y-Q;return!Number.isFinite(he)||he<=0?0:(I-Q)/he*100}function w(I,Q){const Y={min:I,max:Q};l("input",Y),l("change",Y)}function S(I){const Q=I.target,Y=C(Number(Q.value),a(n),a(o));if(Y>a(o)){w(a(o),a(o));return}w(Y,a(o))}function y(I){const Q=I.target,Y=C(Number(Q.value),a(s),a(r));if(Y<a(s)){w(a(s),a(s));return}w(a(s),Y)}ye(()=>B(f()),()=>{_(n,Number.isFinite(f())?f():0)}),ye(()=>(B(c()),a(n)),()=>{_(r,Number.isFinite(c())?c():a(n))}),ye(()=>(B(m()),a(n),a(r)),()=>{_(s,C(m()?.min??a(n),a(n),a(r)))}),ye(()=>(B(m()),a(r),a(n)),()=>{_(o,C(m()?.max??a(r),a(n),a(r)))}),ye(()=>(a(s),a(o)),()=>{a(s)>a(o)&&_(s,a(o))}),ye(()=>(a(s),a(n),a(r)),()=>{_(i,k(a(s),a(n),a(r)))}),ye(()=>(a(o),a(n),a(r)),()=>{_(u,k(a(o),a(n),a(r)))}),cn(),Ot();var D=s6(),z=b(v(D),2),R=b(z,2),P=b(R,2);U(()=>{de(D,"data-disabled",h()),yn(z,`left: ${a(i)}%; right: ${100-a(u)}%;`),de(R,"id",d()?`${d()}-min`:void 0),de(R,"min",a(n)),de(R,"max",a(o)),de(R,"step",g()),Et(R,a(s)),de(R,"aria-label",T()),R.disabled=h(),de(P,"id",d()?`${d()}-max`:void 0),de(P,"min",a(s)),de(P,"max",a(r)),de(P,"step",g()),Et(P,a(o)),de(P,"aria-label",A()),P.disabled=h()}),L("input",R,S),L("input",P,y),x(e,D),It()}var i6=F('<p class="empty svelte-2m3fny"> </p>'),u6=F('<button type="button"><span class="label svelte-2m3fny"> </span> <span class="indicator svelte-2m3fny" aria-hidden="true"></span></button>'),l6=F('<div class="options svelte-2m3fny"><!></div>');function Ia(e,t){Pt(t,!1);let n=ie(t,"title",8),r=ie(t,"options",24,()=>[]),s=ie(t,"selected",24,()=>[]),o=ie(t,"excluded",24,()=>[]),i=ie(t,"emptyMessage",8,"No options available."),u=ie(t,"variant",8,"default");const l=an();let d=O([]);function f(h){l("toggle",h)}function c(h){return h.trim().toLowerCase()}function g(h,T){if(h.length===0)return!1;const A=c(T);return A?h.some(E=>c(E)===A):!1}function m(h){return g(s(),h)?"include":g(o(),h)?"exclude":"neutral"}ye(()=>B(r()),()=>{_(d,r().map(h=>{const T=m(h);return{value:h,state:T,pressed:T==="include"?"true":T==="exclude"?"mixed":"false"}}))}),cn(),Ot();{let h=jt(()=>(B(s()),B(o()),p(()=>s().length+o().length>0)));eu(e,{get title(){return n()},get forceOpen(){return a(h)},children:(T,A)=>{var E=l6(),C=v(E);{var k=S=>{var y=i6(),D=v(y);U(()=>W(D,i())),x(S,y)},w=S=>{var y=Me(),D=me(y);Lt(D,1,()=>a(d),({value:z,state:R,pressed:P})=>z,(z,R)=>{let P=()=>a(R).value,I=()=>a(R).state,Q=()=>a(R).pressed;var Y=u6();let he;var $=v(Y),ne=v($);U(ae=>{he=kt(Y,1,"pill svelte-2m3fny",null,he,ae),de(Y,"aria-pressed",Q()),de(Y,"data-state",I()),W(ne,P())},[()=>({active:I()==="include",exclude:I()==="exclude"})]),L("click",Y,()=>f(P())),x(z,Y)}),x(S,y)};N(C,S=>{B(r()),p(()=>r().length===0)?S(k):S(w,!1)})}U(()=>de(E,"data-variant",u())),x(T,E)},$$slots:{default:!0}})}It()}const Mu=1e-9,Ks=[4e3,16e3,32e3,64e3,128e3,256e3,1e6],Rs=Ks.length,Fs=0;function c6(e){return!Number.isFinite(e)||e<=0?"Any":e>=1e6?"1M":e>=1e3?`${Math.round(e/1e3)}K`:`${e}`}const Ql=["Any",...Ks.map(e=>c6(e))],xa=[0,.1,.2,.5,1,5,10],da=xa.length,Ua=da,ec="$10+";function ws(e){if(e<=0)return"FREE";const t=Math.abs(e),n=t>=10||t>=1?0:t>=.1?1:t>=.01?2:3;return`$${e.toFixed(n).replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1")}`}const Pi=xa.map(e=>ws(e));function ys(e,t,n){return!Number.isFinite(e)||e<t?t:e>n?n:Math.round(e)}function rf(e){let t=0,n=Number.POSITIVE_INFINITY;for(let r=0;r<da;r+=1){const s=Math.abs(xa[r]-e);s<n&&(n=s,t=r)}return t}function d6(e){let t=0,n=Number.POSITIVE_INFINITY;for(let r=0;r<Rs;r+=1){const s=Math.abs(Ks[r]-e);s<n&&(n=s,t=r)}return t+1}function f6(e){if(e===null||e<=0)return 0;const t=xa.findIndex(n=>Math.abs(n-e)<=Mu);return t>=0?t:rf(e)}function p6(e){if(e===null)return Ua;const t=xa.findIndex(n=>Math.abs(n-e)<=Mu);return t>=0?t:rf(e)}function v6(e){if(e===null||e<=0)return Fs;for(let t=0;t<Rs;t+=1)if(Math.abs(Ks[t]-e)<=Mu)return t+1;return d6(e)}function m6(e){if(e<=Fs)return null;const t=Math.min(Math.max(e-1,0),Rs-1);return Ks[t]}function h6(e){if(e<=0)return null;const t=Math.min(e,da-1);return xa[t]}function g6(e){if(e>=Ua)return null;const t=Math.min(Math.max(e,0),da-1);return xa[t]}function _6(e){if(!e)return 0;let t=0;e.search.trim()&&(t+=1);const n=r=>{t+=r.include.length+r.exclude.length};return n(e.inputModalities),n(e.outputModalities),n(e.series),n(e.providers),n(e.supportedParameters),n(e.moderation),e.minContext!==null&&(t+=1),e.minPromptPrice!==null&&(t+=1),e.maxPromptPrice!==null&&(t+=1),t}var b6=F('<p class="hint svelte-1247vns">No context metadata available.</p>'),y6=F('<p class="hint svelte-1247vns"> </p>'),x6=F('<span class="svelte-1247vns"> </span>'),k6=F('<div class="slider-group svelte-1247vns"><div class="slider-header svelte-1247vns"><span class="slider-label svelte-1247vns">Minimum tokens</span> <span class="slider-value svelte-1247vns"> </span></div> <input class="slider svelte-1247vns" type="range" aria-label="Minimum context tokens"/> <div class="slider-scale context-scale svelte-1247vns"></div></div>'),w6=F('<p class="hint svelte-1247vns">No pricing metadata available.</p>'),S6=F('<p class="hint svelte-1247vns"> </p>'),E6=F('<span class="svelte-1247vns"> </span>'),C6=F('<div class="slider-scale price-scale svelte-1247vns"></div>'),A6=F('<div class="slider-group svelte-1247vns"><div class="slider-header svelte-1247vns"><span class="slider-label svelte-1247vns">Prompt price (per 1M tokens)</span> <span class="slider-value svelte-1247vns"> </span></div> <!> <!></div>'),T6=F('<aside class="filters-panel svelte-1247vns" aria-label="Filter models"><header class="filters-header svelte-1247vns"><div><h3 class="svelte-1247vns">Filters</h3> <p> </p></div> <button type="button" class="btn btn-ghost btn-small">Clear all</button></header> <div class="filters-content svelte-1247vns"><!> <!> <!> <!> <!> <!> <!> <!></div></aside>');function tc(e,t){Pt(t,!1);const n=()=>Mt(u,"$facets",o),r=()=>Mt(l,"$filters",o),s=()=>Mt(k,"$activeFilters",o),[o,i]=lr(),{facets:u,filters:l,toggleInputModality:d,toggleOutputModality:f,toggleSeries:c,toggleProvider:g,toggleSupportedParameter:m,toggleModeration:h,setMinContext:T,setMinPromptPrice:A,setMaxPromptPrice:E,resetFilters:C,activeFilters:k}=mr,w="context-length-slider",S="prompt-price-slider";let y=O(),D=O(null),z=O(),R=O(0),P=O(""),I=O(null),Q=O(!1),Y=O(0),he=O([]),$=O(!1),ne=O({min:0,max:0}),ae=O(""),re=O([]);function X(ce){if(a(Q)){T(null);return}const Ce=ys(ce,Fs,Rs);T(m6(Ce))}function oe(ce){if(a($)){A(null),E(null);return}const Ce=ce.detail,Ue=ys(Ce.min,0,da-1),Ve=ys(Ce.max,0,Ua);A(h6(Ue)),E(g6(Ve))}ye(()=>n(),()=>{_(D,n())}),ye(()=>r(),()=>{_(y,r())}),ye(()=>s(),()=>{_(z,s())}),ye(()=>a(y),()=>{_(R,_6(a(y)))}),ye(()=>a(R),()=>{_(P,a(R)>0?`${a(R)} active filter${a(R)===1?"":"s"}`:"All models shown.")}),ye(()=>(a(D),a(Q),a(y),Ql),()=>{const ce=a(D)?.maxContext??null;_(I,ce),_(Q,ce===null),_(Y,a(Q)?Fs:v6(a(y)?.minContext??null)),_(he,a(Q)?[]:Ql)}),ye(()=>a(D),()=>{const ce=a(D)?.maxPromptPrice??null;_($,ce===null)}),ye(()=>(a($),a(y),da),()=>{_(ne,(()=>{if(a($))return{min:0,max:Ua};const ce=f6(a(y)?.minPromptPrice??null),Ce=p6(a(y)?.maxPromptPrice??null),Ue=ys(ce,0,da-1),Ve=ys(Ce,0,Ua);return Ue>Ve?{min:Ve,max:Ve}:{min:Ue,max:Ve}})())}),ye(()=>(a(y),ec),()=>{_(ae,(()=>{const ce=a(y)?.minPromptPrice,Ce=a(y)?.maxPromptPrice,Ue=ce===null?Pi[0]:ws(ce),Ve=Ce===null?ec:ws(Ce);return`${Ue} â ${Ve}`})())}),ye(()=>(a($),Pi),()=>{_(re,a($)?[]:Pi)}),cn(),Ot();var le=T6(),xe=v(le),Fe=v(xe),J=b(v(Fe),2);let V;var fe=v(J),te=b(Fe,2),G=b(xe,2),ve=v(G);{let ce=jt(()=>(a(D),p(()=>a(D)?.inputModalities??[]))),Ce=jt(()=>(a(y),p(()=>a(y)?.inputModalities?.include??[]))),Ue=jt(()=>(a(y),p(()=>a(y)?.inputModalities?.exclude??[])));Ia(ve,{title:"Input modalities",get options(){return a(ce)},get selected(){return a(Ce)},get excluded(){return a(Ue)},emptyMessage:"No modality data available.",$$events:{toggle:Ve=>d(Ve.detail)}})}var Z=b(ve,2);{let ce=jt(()=>(a(D),p(()=>a(D)?.outputModalities??[]))),Ce=jt(()=>(a(y),p(()=>a(y)?.outputModalities?.include??[]))),Ue=jt(()=>(a(y),p(()=>a(y)?.outputModalities?.exclude??[])));Ia(Z,{title:"Output modalities",get options(){return a(ce)},get selected(){return a(Ce)},get excluded(){return a(Ue)},emptyMessage:"No modality data available.",$$events:{toggle:Ve=>f(Ve.detail)}})}var Oe=b(Z,2);{let ce=jt(()=>(a(y),p(()=>a(y)?.minContext!==null)));eu(Oe,{title:"Context length",get forceOpen(){return a(ce)},children:(Ce,Ue)=>{var Ve=Me(),st=me(Ve);{var bt=q=>{var ge=Me(),_e=me(ge);{var ke=Le=>{var Ye=b6();x(Le,Ye)},Ne=Le=>{var Ye=y6(),Je=v(Ye);U(et=>W(Je,`All models offer ${et??""} context.`),[()=>(B(eo),a(I),p(()=>eo(a(I))))]),x(Le,Ye)};N(_e,Le=>{a(D),p(()=>a(D)?.maxContext===null||a(D)?.maxContext===void 0)?Le(ke):Le(Ne,!1)})}x(q,ge)},pe=q=>{var ge=k6(),_e=v(ge),ke=b(v(_e),2),Ne=v(ke),Le=b(_e,2);de(Le,"id",w),de(Le,"step",1);var Ye=b(Le,2);Lt(Ye,7,()=>a(he),(Je,et)=>Je+et,(Je,et)=>{var dt=x6(),Qe=v(dt);U(()=>W(Qe,a(et))),x(Je,dt)}),U(Je=>{W(Ne,Je),de(Le,"min",Fs),de(Le,"max",Rs),Et(Le,a(Y))},[()=>(a(y),B(eo),p(()=>a(y)?.minContext===null?"Any":eo(a(y)?.minContext??0)))]),L("input",Le,Je=>X(Number(Je.target.value))),x(q,ge)};N(st,q=>{a(Q)?q(bt):q(pe,!1)})}x(Ce,Ve)},$$slots:{default:!0}})}var $e=b(Oe,2);{let ce=jt(()=>(a(y),p(()=>a(y)?.minPromptPrice!==null||a(y)?.maxPromptPrice!==null)));eu($e,{title:"Prompt pricing",get forceOpen(){return a(ce)},children:(Ce,Ue)=>{var Ve=Me(),st=me(Ve);{var bt=q=>{var ge=Me(),_e=me(ge);{var ke=Le=>{var Ye=w6();x(Le,Ye)},Ne=Le=>{var Ye=S6(),Je=v(Ye);U(et=>W(Je,`All models share ${et??""} pricing.`),[()=>(B(ws),a(D),p(()=>ws(a(D)?.maxPromptPrice??0)))]),x(Le,Ye)};N(_e,Le=>{a(D),p(()=>a(D)?.maxPromptPrice===null||a(D)?.maxPromptPrice===void 0)?Le(ke):Le(Ne,!1)})}x(q,ge)},pe=q=>{var ge=A6(),_e=v(ge),ke=b(v(_e),2),Ne=v(ke),Le=b(_e,2);o6(Le,{id:S,min:0,get max(){return Ua},step:1,get value(){return a(ne)},ariaLabelMin:"Minimum prompt price",ariaLabelMax:"Maximum prompt price",get disabled(){return a($)},$$events:{input:oe,change:oe}});var Ye=b(Le,2);{var Je=et=>{var dt=C6();Lt(dt,7,()=>a(re),(Qe,Ft)=>Qe+Ft,(Qe,Ft)=>{var ft=E6(),Rt=v(ft);U(()=>W(Rt,a(Ft))),x(Qe,ft)}),x(et,dt)};N(Ye,et=>{a(re),p(()=>a(re).length>0)&&et(Je)})}U(()=>W(Ne,a(ae))),x(q,ge)};N(st,q=>{a($)?q(bt):q(pe,!1)})}x(Ce,Ve)},$$slots:{default:!0}})}var Ke=b($e,2);{let ce=jt(()=>(a(D),p(()=>a(D)?.series??[]))),Ce=jt(()=>(a(y),p(()=>a(y)?.series?.include??[]))),Ue=jt(()=>(a(y),p(()=>a(y)?.series?.exclude??[])));Ia(Ke,{title:"Series",get options(){return a(ce)},get selected(){return a(Ce)},get excluded(){return a(Ue)},emptyMessage:"Series information unavailable.",$$events:{toggle:Ve=>c(Ve.detail)}})}var Ze=b(Ke,2);{let ce=jt(()=>(a(D),p(()=>a(D)?.supportedParameters??[]))),Ce=jt(()=>(a(y),p(()=>a(y)?.supportedParameters?.include??[]))),Ue=jt(()=>(a(y),p(()=>a(y)?.supportedParameters?.exclude??[])));Ia(Ze,{title:"Supported parameters",get options(){return a(ce)},get selected(){return a(Ce)},get excluded(){return a(Ue)},variant:"columns",emptyMessage:"No parameter metadata available.",$$events:{toggle:Ve=>m(Ve.detail)}})}var Pe=b(Ze,2);{let ce=jt(()=>(a(D),p(()=>a(D)?.providers??[]))),Ce=jt(()=>(a(y),p(()=>a(y)?.providers?.include??[]))),Ue=jt(()=>(a(y),p(()=>a(y)?.providers?.exclude??[])));Ia(Pe,{title:"Providers",get options(){return a(ce)},get selected(){return a(Ce)},get excluded(){return a(Ue)},emptyMessage:"No provider data available.",$$events:{toggle:Ve=>g(Ve.detail)}})}var He=b(Pe,2);{let ce=jt(()=>(a(D),p(()=>a(D)?.moderation??[]))),Ce=jt(()=>(a(y),p(()=>a(y)?.moderation?.include??[]))),Ue=jt(()=>(a(y),p(()=>a(y)?.moderation?.exclude??[])));Ia(He,{title:"Moderation",get options(){return a(ce)},get selected(){return a(Ce)},get excluded(){return a(Ue)},variant:"compact",emptyMessage:"No moderation metadata available.",$$events:{toggle:Ve=>h(Ve.detail)}})}U(ce=>{V=kt(J,1,"filters-status svelte-1247vns",null,V,ce),W(fe,a(P)),te.disabled=!a(z)},[()=>({muted:a(R)===0})]),L("click",te,C),x(e,le),It(),i()}const D6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M400-240%20160-480l240-240%2056%2058-142%20142h486v80H314l142%20142-56%2058Z'/%3e%3c/svg%3e";var M6=F("<option> </option>"),F6=F('<div class="sort svelte-3bn1bu"><label for="sort-select" class="sort-label svelte-3bn1bu">Sort by</label> <select id="sort-select" class="select-control sort-select svelte-3bn1bu"></select></div>');function P6(e,t){Pt(t,!1);let n=ie(t,"selected",8),r=ie(t,"onSelect",8);const s=[{label:"Newest",value:"newness"},{label:"Lowest price",value:"price"},{label:"Longest context",value:"context"}];function o(d){const f=d.target;r()(f.value)}Ot();var i=F6(),u=b(v(i),2);Lt(u,5,()=>s,Vn,(d,f)=>{var c=M6(),g=v(c),m={};U(()=>{W(g,(a(f),p(()=>a(f).label))),m!==(m=(a(f),p(()=>a(f).value)))&&(c.value=(c.__value=(a(f),p(()=>a(f).value)))??"")}),x(d,c)});var l;Fn(u),U(()=>{l!==(l=n())&&(u.value=(u.__value=n())??"",kn(u,n()))}),L("change",u,o),x(e,i),It()}var I6=F('<header class="explorer-header svelte-d2gcy1"><div class="title-group svelte-d2gcy1"><button type="button" class="back-btn svelte-d2gcy1" aria-label="Go back"><img alt="" aria-hidden="true" class="icon svelte-d2gcy1"/></button> <h2 id="model-explorer-title" class="svelte-d2gcy1">Model Explorer</h2></div> <div class="header-controls svelte-d2gcy1"><label class="search svelte-d2gcy1"><span class="visually-hidden svelte-d2gcy1">Search models</span> <input class="input-control svelte-d2gcy1" type="search" placeholder="Search by name, provider, description, or tags"/></label> <div class="meta-row svelte-d2gcy1"><p class="summary svelte-d2gcy1" aria-live="polite"> </p> <!></div></div></header>');function N6(e,t){Pt(t,!1);let n=ie(t,"resultCount",8,0),r=ie(t,"searchValue",8,""),s=ie(t,"onSearch",8),o=ie(t,"sort",8),i=ie(t,"onSort",8),u=ie(t,"onClose",8);function l(w){const S=w.target;S&&s()(S.value)}Ot();var d=I6(),f=v(d),c=v(f),g=v(c),m=b(f,2),h=v(m),T=b(v(h),2),A=b(h,2),E=v(A),C=v(E),k=b(E,2);P6(k,{get selected(){return o()},get onSelect(){return i()}}),U(()=>{de(g,"src",D6),Et(T,r()),W(C,`${n()??""} result${n()===1?"":"s"}`)}),L("click",c,function(...w){u()?.apply(this,w)}),L("input",T,l),x(e,d),It()}var L6=F('<div class="info-item svelte-b7ahyp"><dt class="svelte-b7ahyp"> </dt> <dd class="svelte-b7ahyp"> </dd></div>'),O6=F('<div class="about-body svelte-b7ahyp"><p class="about-text svelte-b7ahyp"> </p></div>'),$6=F('<div class="about-body truncated svelte-b7ahyp"><p class="about-text svelte-b7ahyp"> </p></div>'),R6=F('<div class="about-body svelte-b7ahyp"><p class="about-text svelte-b7ahyp"> </p></div>'),z6=F('<section><div class="about-toggle svelte-b7ahyp" role="button" tabindex="0"><span class="about-label svelte-b7ahyp">About</span> <span>&#9660;</span></div> <!></section>'),B6=F('<article class="model-card svelte-b7ahyp" role="button" tabindex="0"><header class="svelte-b7ahyp"><h4 class="svelte-b7ahyp"> </h4></header> <section class="info-section svelte-b7ahyp"><dl class="info-grid svelte-b7ahyp"></dl></section> <!></article>');function U6(e,t){Pt(t,!1);const n=O(),r=O(),s=O(),o=O(),i=O(),u=O(),l=O(),d=O(),f=O(),c=O(),g=O(),m=O(),h=O(),T=O(),A=O(),E=O(),C=O();let k=ie(t,"model",8),w=ie(t,"onSelect",8);const S=1e6;let y=O(!1);function D(te){te.stopPropagation(),_(y,!a(y))}function z(te){(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),D(te))}function R(te){return te&&te.split(/[\s_/-]+/).filter(Boolean).map(G=>G.charAt(0).toUpperCase()+G.slice(1)).join(" ")}function P(te){const G=new Set,ve=[];for(const Z of te){const Oe=R(Z.trim());if(!Oe)continue;const $e=Oe.toLowerCase();G.has($e)||(G.add($e),ve.push(Oe))}return ve}function I(te){if(te===null)return"Unknown";const G=te/S,ve=G>=10?0:1;return`${G.toFixed(ve).replace(/\.0$/,"")}M tokens`}function Q(te){return te.length?te.join(", "):null}function Y(te,G){if(te===null)return null;const ve=zp(te);return ve==="FREE"?"FREE":`${ve} ${G}`}const he="/ 1M tokens";function $(te,G,ve,Z){const Oe=Y(ve,Z);return Oe?{key:te,label:G,value:Oe}:null}function ne(te,G,ve){return ve?{key:te,label:G,value:ve}:null}function ae(){w()(k())}function re(te){(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),w()(k()))}ye(()=>B(k()),()=>{_(n,k().description?.trim()||null)}),ye(()=>a(n),()=>{_(r,a(n)!==null&&a(n).length>120)}),ye(()=>B(k()),()=>{_(s,k().name??k().id)}),ye(()=>B(k()),()=>{_(o,od(k()))}),ye(()=>B(k()),()=>{_(i,Rp(k()))}),ye(()=>B(k()),()=>{_(u,Ts(k()))}),ye(()=>a(u),()=>{_(l,I(a(u)))}),ye(()=>B(k()),()=>{_(d,hu(k()).map(te=>te.toLowerCase()))}),ye(()=>B(k()),()=>{_(f,gu(k()).map(te=>te.toLowerCase()))}),ye(()=>a(o),()=>{_(c,a(o)!==null)}),ye(()=>a(i),()=>{_(g,a(i)!==null)}),ye(()=>a(d),()=>{_(m,P(a(d)))}),ye(()=>a(f),()=>{_(h,P(a(f)))}),ye(()=>B(k()),()=>{_(T,(()=>{const te=k().provider;if(te&&typeof te=="object"){if(te.display_name)return te.display_name;if(te.slug)return te.slug}const G=k().id?.split("/")??[];return G.length>1?G[G.length-2]:null})())}),ye(()=>(a(l),a(T),a(m),a(h)),()=>{_(A,[ne("context","Context",a(l)),ne("provider","Provider",a(T)),ne("input-modalities","Input",Q(a(m))),ne("output-modalities","Output",Q(a(h)))].filter(te=>!!te))}),ye(()=>(a(c),a(o),a(g),a(i)),()=>{_(E,[a(c)?$("input-price","Input price",a(o),he):null,a(g)?$("output-price","Output price",a(i),he):null].filter(te=>!!te))}),ye(()=>(a(A),a(E)),()=>{_(C,[...a(A),...a(E)])}),cn(),Ot();var X=B6(),oe=v(X),le=v(oe),xe=v(le),Fe=b(oe,2),J=v(Fe);Lt(J,5,()=>a(C),te=>te.key,(te,G)=>{var ve=L6(),Z=v(ve),Oe=v(Z),$e=b(Z,2),Ke=v($e);U(()=>{W(Oe,(a(G),p(()=>a(G).label))),W(Ke,(a(G),p(()=>a(G).value)))}),x(te,ve)});var V=b(Fe,2);{var fe=te=>{var G=z6();let ve;var Z=v(G),Oe=b(v(Z),2);let $e;var Ke=b(Z,2);{var Ze=He=>{var ce=O6(),Ce=v(ce),Ue=v(Ce);U(()=>W(Ue,a(n))),L("click",ce,Ra(function(Ve){Ju.call(this,t,Ve)})),L("keydown",ce,Ra(function(Ve){Ju.call(this,t,Ve)})),x(He,ce)},Pe=He=>{var ce=Me(),Ce=me(ce);{var Ue=st=>{var bt=$6(),pe=v(bt),q=v(pe);U(()=>W(q,a(n))),L("click",bt,D),L("keydown",bt,z),x(st,bt)},Ve=st=>{var bt=R6(),pe=v(bt),q=v(pe);U(()=>W(q,a(n))),x(st,bt)};N(Ce,st=>{a(r)?st(Ue):st(Ve,!1)},!0)}x(He,ce)};N(Ke,He=>{a(y)?He(Ze):He(Pe,!1)})}U((He,ce)=>{ve=kt(G,1,"about-section svelte-b7ahyp",null,ve,He),de(Z,"aria-expanded",a(y)),$e=kt(Oe,1,"about-chevron svelte-b7ahyp",null,$e,ce)},[()=>({expanded:a(y)}),()=>({open:a(y)})]),L("click",Z,D),L("keydown",Z,z),x(te,G)};N(V,te=>{a(n)&&te(fe)})}U(()=>{de(X,"aria-label",`Use model ${a(s)}`),W(xe,a(s))}),L("click",X,ae),L("keydown",X,re),x(e,X),It()}var j6=F('<p class="empty svelte-6ipifh"><!></p>'),q6=F("<li><!></li>"),H6=F('<ul class="model-grid svelte-6ipifh"></ul>'),W6=F('<section class="results svelte-6ipifh" aria-live="polite"><!> <!></section>');function V6(e,t){Pt(t,!1);let n=ie(t,"models",24,()=>[]),r=ie(t,"filtersActive",8,!1),s=ie(t,"onSelect",8),o=ie(t,"filterChips",24,()=>[]);const i=an();function u(m){i("clearFilter",m.detail)}Ot();var l=W6(),d=v(l);Qi(d,{get chips(){return o()},$$events:{clear:u}});var f=b(d,2);{var c=m=>{var h=j6(),T=v(h);{var A=C=>{var k=Gt("No models match your current filters.");x(C,k)},E=C=>{var k=Gt("No models available.");x(C,k)};N(T,C=>{r()?C(A):C(E,!1)})}x(m,h)},g=m=>{var h=H6();Lt(h,5,n,T=>T.id,(T,A)=>{var E=q6(),C=v(E);U6(C,{get model(){return a(A)},get onSelect(){return s()}}),x(T,E)}),x(m,h)};N(f,m=>{B(n()),p(()=>n().length===0)?m(c):m(g,!1)})}x(e,l),It()}var G6=F('<span class="filters-toggle__count svelte-drtqmy"> </span>'),Z6=F('<div class="filters-panel-active svelte-drtqmy"><!></div>'),K6=F('<div id="model-explorer-filters" class="filters-dropdown svelte-drtqmy"><!> <!></div>'),Y6=F('<div class="mobile-active-filters svelte-drtqmy"><!></div>'),J6=F('<div class="body-toolbar svelte-drtqmy"><button type="button" aria-controls="model-explorer-filters"><span class="filters-toggle__label">Filters</span> <!> <span>â¼</span></button> <!></div> <!>',1),X6=F('<div id="model-explorer-filters" class="filters-panel-container svelte-drtqmy"><!></div>'),Q6=F('<div class="modal-backdrop svelte-drtqmy" role="presentation"></div> <div class="model-explorer svelte-drtqmy" role="dialog" aria-modal="true" aria-labelledby="model-explorer-title"><!> <div class="body svelte-drtqmy"><!> <!></div></div>',1);function ex(e,t){Pt(t,!1);const n=()=>Mt(g,"$filtered",o),r=()=>Mt(A,"$activeFilters",o),s=()=>Mt(m,"$filters",o),[o,i]=lr(),u=O(),l=O(),d=O();let f=ie(t,"open",12,!1);const c=an(),{filtered:g,filters:m,setSearch:h,setSort:T,activeFilters:A,setSelectionState:E}=mr,C={inputModalities:{label:"Input"},outputModalities:{label:"Output"},series:{label:"Series"},providers:{label:"Provider"},supportedParameters:{label:"Parameter"},moderation:{label:"Moderation"}},k=["inputModalities","outputModalities","series","providers","supportedParameters","moderation"],w="(max-width: 1024px)";let S=O(!1),y=O(!0),D=!1,z=O([]);const R="modal-open";let P=()=>{typeof document<"u"&&document.body.classList.remove(R)};Ga(()=>P());function I(){f(!1),c("close")}function Q(J){c("select",{id:J.id}),I()}function Y(J){T(J)}function he(J){h(J)}function $(J){const V=[];for(const fe of k){const te=J[fe];if(!te)continue;const ve=C[fe]?.label??fe;for(const Z of te.include)V.push(ne(fe,ve,Z,"include"));for(const Z of te.exclude)V.push(ne(fe,ve,Z,"exclude"))}return V}function ne(J,V,fe,te){const G=fe.trim();return{id:`${J}:${te}:${G}`,category:J,categoryLabel:V,value:G,valueLabel:ae(G),state:te}}function ae(J){return J.replace(/[_-]/g," ")||J}function re(J){_(S,J),J?D||_(y,!1):(_(y,!0),D=!1)}function X(){_(y,!a(y)),D=!0}function oe(J){const V=J.detail;E(V.category,V.value,"neutral")}qs(()=>{if(typeof window>"u")return;const J=window.matchMedia(w);re(J.matches);const V=fe=>{re(fe.matches)};return typeof J.addEventListener=="function"?(J.addEventListener("change",V),()=>J.removeEventListener("change",V)):(J.addListener(V),()=>J.removeListener(V))}),ye(()=>B(f()),()=>{typeof document<"u"&&(f()?document.body.classList.add(R):document.body.classList.remove(R))}),ye(()=>n(),()=>{_(u,n())}),ye(()=>r(),()=>{_(l,r())}),ye(()=>s(),()=>{_(d,s())}),ye(()=>a(d),()=>{_(z,a(d)?$(a(d)):[])}),cn(),Ot();var le=Me(),xe=me(le);{var Fe=J=>{var V=Q6(),fe=me(V),te=b(fe,2),G=v(te);N6(G,{get resultCount(){return a(u),p(()=>a(u).length)},get searchValue(){return s(),p(()=>s().search)},onSearch:he,get sort(){return s(),p(()=>s().sort)},onSort:Y,onClose:I});var ve=b(G,2),Z=v(ve);{var Oe=Ze=>{var Pe=J6(),He=me(Pe),ce=v(He);let Ce;var Ue=b(v(ce),2);{var Ve=ke=>{var Ne=G6(),Le=v(Ne);U(()=>W(Le,(a(z),p(()=>a(z).length)))),x(ke,Ne)};N(Ue,ke=>{a(l)&&ke(Ve)})}var st=b(Ue,2);let bt;var pe=b(ce,2);{var q=ke=>{var Ne=K6(),Le=v(Ne);{var Ye=et=>{var dt=Z6(),Qe=v(dt);Qi(Qe,{get chips(){return a(z)},$$events:{clear:oe}}),x(et,dt)};N(Le,et=>{a(z),p(()=>a(z).length>0)&&et(Ye)})}var Je=b(Le,2);tc(Je,{}),x(ke,Ne)};N(pe,ke=>{a(y)&&ke(q)})}var ge=b(He,2);{var _e=ke=>{var Ne=Y6(),Le=v(Ne);Qi(Le,{get chips(){return a(z)},$$events:{clear:oe}}),x(ke,Ne)};N(ge,ke=>{a(z),a(y),p(()=>a(z).length>0&&!a(y))&&ke(_e)})}U((ke,Ne)=>{Ce=kt(ce,1,"filters-toggle svelte-drtqmy",null,Ce,ke),de(ce,"aria-expanded",a(y)),bt=kt(st,1,"filters-toggle__chevron svelte-drtqmy",null,bt,Ne)},[()=>({open:a(y)}),()=>({open:a(y)})]),L("click",ce,X),x(Ze,Pe)},$e=Ze=>{var Pe=X6(),He=v(Pe);tc(He,{}),x(Ze,Pe)};N(Z,Ze=>{a(S)?Ze(Oe):Ze($e,!1)})}var Ke=b(Z,2);{let Ze=jt(()=>a(S)?[]:a(z));V6(Ke,{get models(){return a(u)},get filtersActive(){return a(l)},get filterChips(){return a(Ze)},onSelect:Q,$$events:{clearFilter:oe}})}U(()=>{de(te,"data-compact",a(S)),de(ve,"data-compact",a(S))}),L("click",fe,I),x(J,V)};N(xe,J=>{f()&&J(Fe)})}x(e,le),It(),i()}var tx=F('<div class="chat-error svelte-1n46o8q" role="alert"><span class="svelte-1n46o8q"> </span> <button type="button" class="svelte-1n46o8q">Dismiss</button></div>'),nx=F('<div class="install-banner svelte-1n46o8q" role="alertdialog" aria-labelledby="install-title"><div class="install-content svelte-1n46o8q"><span id="install-title" class="svelte-1n46o8q">Install this app for a better experience</span> <div class="install-actions svelte-1n46o8q"><button class="install-btn install-btn-primary svelte-1n46o8q" type="button">Install</button> <button class="install-btn install-btn-dismiss svelte-1n46o8q" type="button">Not now</button></div></div></div>'),rx=F('<main class="chat-app svelte-1n46o8q"><!> <section class="chat-main svelte-1n46o8q"><!> <!></section> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></main>');function ax(e,t){Pt(t,!1);const n=()=>Mt(z,"$selectable",d),r=()=>Mt(fr,"$chatStore",d),s=()=>Mt(R,"$activeFor",d),o=()=>Mt(pd,"$speechState",d),i=()=>Mt(y,"$modelsLoading",d),u=()=>Mt(D,"$modelsError",d),l=()=>Mt(Or,"$suggestionsStore",d),[d,f]=lr(),{sendMessage:c,cancelStream:g,clearConversation:m,deleteMessage:h,retryMessage:T,editMessage:A,clearError:E,setModel:C,toggleSaved:k,loadSession:w}=fr,{loadModels:S,loading:y,error:D,selectable:z,activeFor:R}=mr;let P=O(""),I=O([]),Q=O(),Y=O(!1),he=O(!1),$=O(!1),ne=O(!1),ae=O(!1),re=O(!1),X=O(!1),oe=O(0),le=O(!1),xe=O(!1),Fe=O(null),J=O(null),V=O(null),fe=O([]),te=O(null);const G=Qc;let ve=O(null),Z=O(""),Oe=O(""),$e=O(!1),Ke=null,Ze=O(!1),Pe=O(!1),He=O(!1),ce=O(!1),Ce=O([]);async function Ue(){try{_(Ce,await Xc())}catch(K){console.error("Failed to load conversation list",K)}}qs(async()=>{if(typeof window<"u"){_(Pe,window.matchMedia("(pointer: coarse)").matches&&window.innerWidth<=768||window.matchMedia("(display-mode: standalone)").matches||window.matchMedia("(display-mode: minimal-ui)").matches||"standalone"in navigator&&navigator.standalone===!0);const se=we=>{we.preventDefault(),Ke=we,_(Ze,!0)};window.addEventListener("beforeinstallprompt",se),window.addEventListener("appinstalled",()=>{_(Ze,!1),Ke=null}),Ga(()=>{window.removeEventListener("beforeinstallprompt",se)})}await S(),await Or.load(),Ue(),await ln.load();const K=await ln.loadDefault();if(K){const se=await ln.apply(K.name);se?.model&&C(se.model,K.name),await Or.load()}new URLSearchParams(window.location.search).get("mcp")==="1"&&(_(ae,!0),window.history.replaceState({},"",window.location.pathname))});async function Ve(){if(!a(Q))return;const K=a(Q).getNewSuggestion();K&&await Or.add(K.label,K.text)}async function st(K){await Or.remove(K.detail.index)}Ga(()=>{typeof document<"u"&&document.body.classList.remove("modal-open")});function bt(K){C(K)}function pe(){pv()}function q(K){C(K.detail.id)}function ge(K){_(P,K)}function _e(K){r().isStreaming||h(K.detail.id)}function ke(K){T(K)}function Ne(K){if(!K?.attachment)return;Je();const j={...K.attachment,metadata:K.attachment.metadata?{...K.attachment.metadata}:null},se=a(I)??[],Te=se.some(Ge=>Ge.id===j.id||Ge.displayUrl===j.displayUrl||Ge.deliveryUrl===j.deliveryUrl)?se:[...se,j];_(I,Te)}function Le(K){const j=r().messages.find(se=>se.id===K&&se.role==="user");j&&(_($e,!1),_(ve,K),_(Z,j.text),_(Oe,j.text))}function Ye(){_(ve,null),_(Z,""),_(Oe,"")}function Je(){a($e)||Ye()}function et(){Je()}function dt(K){if(!a(ve))return;const j=K.trim();if(!j)return;const se=a(ve);_($e,!0),Ye(),A(se,j).catch(Te=>{console.error("Failed to apply message edit",Te)}).finally(()=>{_($e,!1)})}async function Qe(K){if(K){_(he,!0),_(xe,!0),_(Fe,null),_(J,null),_(V,K);try{const j=await Z0(K);_(J,j?.data??null)}catch(j){const se=j instanceof Error?j.message:"Failed to load details.";_(Fe,se)}finally{_(xe,!1)}}}function Ft(){_(he,!1),_(V,null),_(J,null),_(Fe,null)}async function ft(K){const j=K.trim();if(j){_(P,j);try{await c({text:j,attachments:[]}),_(P,"")}catch(se){console.error("Failed to send speech transcription",se)}}}async function Rt(){if(!Ke)return;await Ke.prompt();const{outcome:K}=await Ke.userChoice;K==="accepted"&&_(Ze,!1),Ke=null}function hn(){_(Ze,!1)}ye(()=>(a(Y),a(he),a($),a(ne),a(ae),a(re),a(X)),()=>{typeof document<"u"&&document.body.classList.toggle("modal-open",a(Y)||a(he)||a($)||a(ne)||a(ae)||a(re)||a(X))}),ye(()=>(n(),r()),()=>{_(fe,n()(r().selectedModel))}),ye(()=>(s(),r()),()=>{_(te,s()(r().selectedModel))}),ye(()=>(o(),a(oe)),()=>{o().promptVersion!==a(oe)&&(_(oe,o().promptVersion),_(P,o().promptText))}),ye(()=>(o(),r(),pl),()=>{if(o().pendingSubmit&&!r().isStreaming){const K=pl();K&&ft(K.text)}}),ye(()=>(r(),a(le),o(),dl),()=>{const K=r().isStreaming;a(le)&&!K&&o().conversationActive&&dl(),_(le,K)}),ye(()=>(a(ve),fl),()=>{a(ve)&&fl()}),cn(),Ot();var tn=rx(),fn=v(tn);{let K=jt(()=>(r(),p(()=>r().messages.length>0)));L1(fn,{get selectableModels(){return a(fe)},get selectedModel(){return r(),p(()=>r().selectedModel)},get modelsLoading(){return i()},get modelsError(){return u()},get hasMessages(){return a(K)},get pwaMode(){return a(Pe)},get isSaved(){return r(),p(()=>r().isSaved)},get conversations(){return a(Ce)},get controlsOpen(){return a(He)},set controlsOpen(j){_(He,j)},$$events:{openExplorer:()=>{_(ce,a(He)),_(Y,!0)},clear:()=>{const j=rt(fr).sessionId;_(I,[]),_(P,""),m(),j?Ui(j).catch(()=>{}).finally(()=>void Ue()):Ue()},modelChange:j=>bt(j.detail.id),openModelSettings:()=>_($,!0),openSystemSettings:()=>_(ne,!0),openMcpServers:()=>_(ae,!0),openKioskSettings:()=>_(re,!0),openCliSettings:()=>_(X,!0),resetToDefault:async()=>{const j=await ln.loadDefault();if(j){const se=await ln.apply(j.name);se?.model&&C(se.model,j.name),await Or.load()}else ln.clearLastApplied(),C(rt(fr).selectedModel,null)},presetApplied:j=>{const we=rt(ln).lastResult;we?.model&&C(we.model,j.detail.name),Or.load()},toggleSaved:async()=>{const j=rt(fr).sessionPresetName??rt(ln).lastApplied;await k({presetName:j}),Ue()},loadConversation:async j=>{const se=rt(fr).sessionId,we=await w(j.detail.sessionId);if(_(I,[]),_(P,""),we?.presetName){if(rt(ln).items.some(Ge=>Ge.name===we.presetName)){const Ge=await ln.apply(we.presetName);if(Ge?.model)C(Ge.model,we.presetName);else{const ee=we.model??rt(fr).selectedModel;C(ee,null),ln.clearLastApplied(),ln.clearError()}}else{const Ge=we.model??rt(fr).selectedModel;C(Ge,null),ln.clearLastApplied()}await Or.load()}se&&se!==j.detail.sessionId&&Ui(se).catch(()=>{}).finally(()=>void Ue())},deleteConversation:async j=>{try{await kp(j.detail.sessionId),Ue()}catch(se){console.error("Failed to delete conversation",se)}},refreshConversations:()=>void Ue()},$$legacy:!0})}var wt=b(fn,2),pt=v(wt);{var je=K=>{Yn(vb(K,{get suggestions(){return l(),p(()=>l().items)},get deleting(){return l(),p(()=>l().deleting)},get pwaMode(){return a(Pe)},$$events:{add:Ve,delete:st,select:j=>ge(j.detail.text)},$$legacy:!0}),j=>_(Q,j),()=>a(Q))};N(pt,K=>{r(),p(()=>!r().messages.length)&&K(je)})}var vt=b(pt,2);b2(vt,{get messages(){return r(),p(()=>r().messages)},get disableDelete(){return r(),p(()=>r().isStreaming)},$$events:{openGenerationDetails:K=>Qe(K.detail.id),deleteMessage:_e,retryMessage:K=>ke(K.detail.id),editMessage:K=>Le(K.detail.id),editAssistantAttachment:K=>Ne(K.detail)}});var ot=b(wt,2);{var Vt=K=>{var j=tx(),se=v(j),we=v(se),Te=b(se,2);U(()=>W(we,(r(),p(()=>r().error)))),L("click",Te,E),x(K,j)};N(ot,K=>{r(),p(()=>r().error)&&K(Vt)})}var sn=b(ot,2);{var at=K=>{Yv(K,{get originalValue(){return a(Oe)},get saving(){return a($e)},get disabled(){return a($e)},get value(){return a(Z)},set value(j){_(Z,j)},$$events:{cancel:et,submit:j=>dt(j.detail.text)},$$legacy:!0})},gt=K=>{$v(K,{get presetAttachments(){return a(I)},get pwaMode(){return a(Pe)},get isStreaming(){return r(),p(()=>r().isStreaming)},get prompt(){return a(P)},set prompt(j){_(P,j)},$$events:{submit:j=>c(j.detail),cancel:g,startDictation:pe,inputFocus:()=>_(He,!1)},$$legacy:!0})};N(sn,K=>{a(ve)?K(at):K(gt,!1)})}var $t=b(sn,2);Gv($t,{get open(){return a(he)},get generationId(){return a(V)},get loading(){return a(xe)},get error(){return a(Fe)},get data(){return a(J)},get fields(){return G},$$events:{close:Ft}});var Be=b($t,2);lb(Be,{get open(){return a($)},get selectedModel(){return r(),p(()=>r().selectedModel)},get model(){return a(te)},$$events:{close:()=>_($,!1)}});var gn=b(Be,2);Kb(gn,{get open(){return a(ne)},$$events:{close:()=>_(ne,!1)}});var At=b(gn,2);t6(At,{get open(){return a(ae)},$$events:{close:()=>_(ae,!1)}});var zt=b(At,2);X3(zt,{get open(){return a(re)},$$events:{close:()=>_(re,!1)}});var _n=b(zt,2);v3(_n,{get open(){return a(X)},$$events:{close:()=>_(X,!1)}});var In=b(_n,2);ex(In,{get open(){return a(Y)},set open(K){_(Y,K)},$$events:{select:q,close:()=>{a(ce)&&_(He,!0),_(ce,!1)}},$$legacy:!0});var be=b(In,2);{var Re=K=>{var j=nx(),se=v(j),we=b(v(se),2),Te=v(we),Ge=b(Te,2);L("click",Te,Rt),L("click",Ge,hn),x(K,j)};N(be,K=>{a(Ze)&&K(Re)})}U(()=>de(tn,"data-drawer-open",a(He))),x(e,tn),It(),f()}E0(ax,{target:document.getElementById("app")});"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(()=>{});export{ie as a,N as b,an as c,ix as d,L as e,F as f,x as g,It as h,Ot as i,v as j,ox as k,Me as l,me as m,B as n,Lt as o,Pt as p,a as q,W as s,U as t,p as u};
